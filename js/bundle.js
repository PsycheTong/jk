!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CMMap=e():t.CMMap=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=256)}([function(t,e,n){var r=n(3),i=n(28),o=n(18),a=n(19),s=n(29),u=function(t,e,n){var l,c,h,f,p=t&u.F,d=t&u.G,m=t&u.S,g=t&u.P,v=t&u.B,y=d?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,x=d?i:i[e]||(i[e]={}),b=x.prototype||(x.prototype={});for(l in d&&(n=e),n)h=((c=!p&&y&&y[l]!==undefined)?y:n)[l],f=v&&c?s(h,r):g&&"function"==typeof h?s(Function.call,h):h,y&&a(y,l,h,t&u.U),x[l]!=h&&o(x,l,f),g&&b[l]!=h&&(b[l]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.subset=e.cancelFn=e.requestFn=e.emptyImageUrl=e.isObject=e.isString=e.isArray=e.lastId=e.create=e.freeze=undefined;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.extend=function(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t},e.bind=s,e.stamp=function(t){return t._leaflet_id=t._leaflet_id||(e.lastId=u+=1),t._leaflet_id},e.throttle=function(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}},e.wrapNum=function(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i},e.falseFn=function(){return!1},e.formatNum=function(t,e){var n=Math.pow(10,e===undefined?6:e);return Math.round(t*n)/n},e.trim=l,e.splitWords=function(t){return l(t).split(/\s+/)},e.setOptions=function(t,e){t.hasOwnProperty("options")||(t.options=t.options?a(t.options):{});for(var n in e)t.options[n]=e[n];return t.options},e.getParamString=function(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")},e.template=function(t,e){return t.replace(c,function(t,n){var r=e[n];if(r===undefined)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},e.isFunction=function(t){return"[object Function]"===Object.prototype.toString.call(t)},e.isHTMLElement=function(t){return window.HTMLElement||window.Element?t instanceof(window.HTMLElement||window.Element):t&&"object"==(void 0===t?"undefined":r(t))&&1===t.nodeType&&"string"==typeof t.nodeName},e.indexOf=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},e.requestAnimFrame=function(t,e,n){if(!n||g!==m)return g.call(window,s(t,e));t.call(e)},e.cancelAnimFrame=function(t){t&&v.call(window,t)},e.Pascal=function(t){var e=new Array(t);e[0]=e[1]=1;for(var n=3;n<=t;n++){for(var r=new Array(n-1),i=0;i<r.length;i++)r[i]=e[i];e[0]=e[n-1]=1;for(var i=0;i<n-2;i++)e[i+1]=r[i]+r[i+1]}return e},e.ucfirst=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.map=function(t,e,n){if(t.map)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r[i]=e.call(n,t[i],i);return r},e.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},e.nextTick=function(e){("object"==(void 0===t?"undefined":r(t))&&t.nextTick?t.nextTick:function(t){setTimeout(t,0)})(e)},e.debounce=function(t,e,n){var r,i,o,a,s,u=function l(){var u=x()-a;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=x();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(s=t.apply(o,i),o=i=null),s}},e.escapeHtml=function(t){var e={"&amp;":"&amp;amp;","&lt;":"&amp;lt;","&gt;":"&amp;gt;",'"':"&amp;quot;","'":"&amp;#x27;","`":"&amp;#x60;"};return(t+"").replace(/[&amp;&lt;&gt;"']/g,function(t){return e[t]})},e.nestExtendObjs=function b(t,e){t||(t={});for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i)for(var o in i)i.hasOwnProperty(o)&&(f(t[o])&&f(i[o])?t[o]=b({},[t[o],i[o]]):t[o]=i[o])}return t},e.now=x,e.find=function(t,e){return t.find(function(t,n,r){return t==e})},e.extendObjs=function(t,e){t||(t={});for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t},e.removeFromArray=function(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),n},e.getNetDatWithJsonp=function(t,e){(0,i["default"])(t,{param:"jsonp"},function(t,n){if(t)e("error");else if("ok"==n.status.toLowerCase())if(null!=n.data){var r=o.urlBase64ToUint8Array(n.data);e(r)}else e("error");else e("error")})},e.getRadian=function(t){return Math.PI*t/180},e.colorFormInt=function(t){var e=65280&t,n=16711680&t;return{r:255&t,g:e>>=8,b:n>>=16,a:255}},e.color2Int=function(t){return t.r|t.g<<8|t.b<<16},e.color2Hex=function(t){var e=t.r,n=t.g,r=t.b;return"#"+((1<<24)+(e<<16)+(n<<8)+r).toString(16).slice(1)},e.colorFromHex=function(t,e){return{r:parseInt("0x"+t.slice(1,3)),g:parseInt("0x"+t.slice(3,5)),b:parseInt("0x"+t.slice(5,7)),a:e}};var i=function(t){return t&&t.__esModule?t:{"default":t}}(n(81)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(104));e.freeze=Object.freeze;Object.freeze=function(t){return t};var a=e.create=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function s(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var u=e.lastId=0;function l(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}var c=/\{ *([\w_-]+) *\}/g;var h=e.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},f=(e.isString=function(t){return"[object String]"==Object.prototype.toString.call(t)},e.isObject=function(t){return"[object Object]"==Object.prototype.toString.call(t)});e.emptyImageUrl="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function p(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var d=0;function m(t){var e=+new Date,n=Math.max(0,16-(e-d));return d=e+n,window.setTimeout(t,n)}var g=e.requestFn=window.requestAnimationFrame||p("RequestAnimationFrame")||m,v=e.cancelFn=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};e.subset=function(t){var e={};return t&&t.length?(h(t)||(t=[t]),y(Array.prototype.slice.call(arguments,1),function(n){if(n)for(var r=0,i=t.length;r<i;r++)n.hasOwnProperty(t[r])&&(e[t[r]]=n[t[r]])}),e):e};var y=e.forEach=function(t,e,n){if(t.forEach)return t.forEach(e,n);for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r)};function x(){return(new Date).getTime()}}).call(e,n(46))},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(89)("wks"),i=n(56),o=n(3).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(52),i=n(203),o=n(108),a=n(477),s=n(84);function u(t){return t}function l(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(i){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(n)}catch(i){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(t,e,n){var r=[],i=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;i<o;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var n=65536,r=e.getTypeOf(t),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;n>1;)try{return c.stringifyByChunk(t,r,n)}catch(o){n=Math.floor(n/2)}return c.stringifyByChar(t)}function f(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}e.applyFromCharCode=h;var p={};p.string={string:u,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,o.allocBuffer(t.length))}},p.array={string:h,array:u,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},p.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:u,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:u,nodebuffer:function(t){return o.newBufferFrom(t)}},p.nodebuffer={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:u},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var r=e.getTypeOf(n);return p[r][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":r.nodebuffer&&o.isBuffer(t)?"nodebuffer":r.uint8array&&t instanceof Uint8Array?"uint8array":r.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!r[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},e.delay=function(t,e,n){a(function(){t.apply(n||null,e||[])})},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,o,a,u){return s.Promise.resolve(n).then(function(t){return r.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise(function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){n(t.target.error)},r.readAsArrayBuffer(t)}):t}).then(function(n){var c=e.getTypeOf(n);return c?("arraybuffer"===c?n=e.transformTo("uint8array",n):"string"===c&&(u?n=i.decode(n):o&&!0!==a&&(n=function(t){return l(t,r.uint8array?new Uint8Array(t.length):new Array(t.length))}(n))),n):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(2),i=n(163),o=n(36),a=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(38),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRANSITION_END=e.TRANSITION=e.TRANSFORM=undefined,e.get=function(t){return"string"==typeof t?document.getElementById(t):t},e.getStyle=function(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n},e.setStyle=function(t,e){for(var n in e)t.style[n]=e[n];return t},e.create=function(t,e,n){var r=document.createElement(t);r.className=e||"",n&&n.appendChild(r);return r},e.remove=function(t){var e=t.parentNode;e&&e.removeChild(t)},e.empty=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.toFront=function(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)},e.toBack=function(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)},e.hasClass=l,e.addClass=c,e.removeClass=h,e.setClass=f,e.getClass=p,e.setOpacity=function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)},e.testProp=d,e.setTransform=m,e.setPosition=function(t,e){t._leaflet_pos=e,o.any3d?m(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},e.getPosition=function(t){return t._leaflet_pos||new i.Pixel(0,0)},e.getSizedParentNode=function(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t},e.getScale=function(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}},e.offset=function(t){var e=null,n=null,r=t.offsetParent;e+=t.offsetLeft,n+=t.offsetTop;for(;r;)-1===navigator.userAgent.indexOf("MSIE 8.0")&&(e+=r.clientLeft,n+=r.clientTop),e+=r.offsetLeft,n+=r.offsetTop,r=r.offsetParent;return{left:e,top:n}},e.setRotate=function(t,e){var n="";t.style[s]&&(n=t.style[s]);t.style[s]=n+" rotate("+e+"deg)"},e.show=function(t){"none"==t.style.display&&(t.style.display="")},e.hide=function(t){t.style.display="none"},e.toggleClass=function(t,e,n){n?c(t,e):h(t,e)},e.isCanvasSupported=function(){var t=document.createElement("canvas");return!!(t&&t.getContext&&t.getContext("2d"))};var r=a(n(1)),i=n(32),o=a(n(26));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var s=e.TRANSFORM=d(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),u=e.TRANSITION=d(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);e.TRANSITION_END="webkitTransition"===u||"OTransition"===u?u+"End":"transitionend";function l(t,e){if(t.classList!==undefined)return t.classList.contains(e);var n=p(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function c(t,e){if(t.classList!==undefined)for(var n=r.splitWords(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!l(t,e)){var a=p(t);f(t,(a?a+" ":"")+e)}}function h(t,e){t.classList!==undefined?t.classList.remove(e):f(t,r.trim((" "+p(t)+" ").replace(" "+e+" "," ")))}function f(t,e){t.className.baseVal===undefined?t.className=e:t.className.baseVal=e}function p(t){return t.className.baseVal===undefined?t.className:t.className.baseVal}function d(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function m(t,e,n,r){var a=e||new i.Pixel(0,0);t.style[s]=(o.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(n?" scale("+n+")":"")+(r&&0!=r?" rotate("+r+"deg)":"")}},function(t,e,n){var r=n(37);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(87),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];t.exports=function(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===i.indexOf(e))throw new r('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=function(t){var e={};return null!==t&&Object.keys(t).forEach(function(n){t[n].forEach(function(t){e[String(t)]=n})}),e}(e.styleAliases||null),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.LngLat=u,e.toLngLat=l;var i=n(16),o=n(17),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),s=n(535);function u(t,e){this.lng=a.isString(t)?parseFloat(t):t,this.lat=a.isString(e)?parseFloat(e):e}function l(t,e,n){return t instanceof u?t:a.isArray(t)&&"object"!==r(t[0])?3===t.length?new u(t[0],t[1],t[2]):2===t.length?new u(t[0],t[1]):null:t===undefined||null===t?t:"object"===(void 0===t?"undefined":r(t))&&"lng"in t?new u(t.lng,t.lat,t.alt):e===undefined?null:new u(t,e,n)}u.prototype={set:function(t,e){this.lng=t,this.lat=e},offset:function(t,e){},clone:function(){return new u(this.lng,this.lat)},distance:function(t){return s.Earth.distance(this,t)},getLng:function(){return this.lng},getLat:function(){return this.lat},equals:function(t){return!!t&&(t.lat===this.lat&&t.lng===this.lng)},add:function(t){return this.clone()._add(l(t))},_add:function(t){return this.lng+=t.lng,this.lat+=t.lat,this},subtract:function(t){return this.clone()._subtract(l(t))},_subtract:function(t){return this.lng-=t.lng,this.lat-=t.lat,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.lng/=t,this.lat/=t,this},toString:function(){return this.lng+","+this.lat},getMercatorXY:function(){var t=(0,o.SkLonLat2Mercator)(this.lng,this.lat);return new i.MLngLat(t.x,t.y)},getAngle:function(t){var e=this.lat,n=this.lng,r=t.lat,i=t.lng,o=Math.atan2(Math.abs(r-e),Math.abs(i-n));return r>=e?i>=n||(o=Math.PI-o):o=i>=n?2*Math.PI-o:Math.PI+o,o=180*o/Math.PI}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Map=e.MLngLat=e.SkEnvelope=e.SkMapController=undefined,e.SkCreateProgram=N;var r=F(n(1)),i=n(71),o=n(464),a=n(15),s=n(32),u=n(82),l=n(33),c=(R(n(143)),R(n(224))),h=n(34),f=n(17),p=n(518),d=n(152),m=n(519),g=F(n(11)),v=n(520),y=n(521),x=F(n(54)),b=n(74),_=n(110),w=n(86),E=n(157),A=R(n(232)),S=n(35),C=F(S),D=n(530),M=n(26),k=n(66),T=n(231),L=n(531),I=n(155),B=R(n(112));function R(t){return t&&t.__esModule?t:{"default":t}}function F(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}n(532);var P=e.SkMapController=function(t,e,n,r,i){this.map=t,this.zoomcnt=n,this.zoomConf=e;var o=t._getZooms();this.zoom=t.opts.zoom||o[0],this.zoom<o[0]?this.zoom=o[0]:this.zoom>o[1]&&(this.zoom=o[1]),this.zoomVal=e[this.zoom-1],this.minZoomVal=e[o[1]-1]/8,this.maxZoomVal=e[o[0]-1],this.setMapAngle(0,!1),this.lookAngle=90,this.bounds=null,this.containerSize=new u.Size(r,i)};P.prototype.getZoom=function(){return this.zoom},P.prototype.getBounds=function(){return this.bounds},P.prototype.getSize=function(){return this.containerSize},P.prototype.getMapAngle=function(){return this.mapAngle},P.prototype.getZoomVal=function(){return this.zoomVal},P.prototype.getLookAngle=function(){return this.lookAngle},P.prototype.setSize=function(t,e){this.containerSize.width=t,this.containerSize.height=e,this.map.ResetProj()},P.prototype.setLookAngle=function(t){this.map.opts.rotateEnable&&(this.lookAngle=t,this.map.ResetProj())},P.prototype.setZoom=function(t){var e=this.map._getZooms();if(t<e[0]||t>e[1])return t<e[0]?t=e[0]:t>e[1]&&(t=e[1]),this.zoom=t,void(this.zoomVal=this.zoomConf[t-1]);this.zoom=t,this.zoomVal=this.zoomConf[t-1],this.map.ResetProj(),this.map.isfirefirst&&!this.map.isfirezoom&&(this.map.isfirezoom=!0,this.map.fire("zoomstart"),this.map.fire("zoomchange"))},P.prototype.setMapAngle=function(t){if(1!=arguments.length||this.map.opts.rotateEnable){this.mapAngle=t;var e=Math.PI*this.mapAngle/180;this.angCos=Math.cos(e),this.angSin=Math.sin(e),this.map.ResetProj()}},P.prototype.zoomIn=function(){var t=this.map._getZooms();this.zoom>=t[1]||(this.setZoom(this.zoom+1),this.map.postInvalidate())},P.prototype.zoomOut=function(){var t=this.map._getZooms();this.zoom<=t[0]||(this.setZoom(this.zoom-1),this.map.postInvalidate())},P.prototype.Zoom=function(t){this.setZoom(t),this.map.postInvalidate()},P.prototype.scrollBy=function(t,e){var n=(t*this.angCos-e*this.angSin)*this.zoomVal*4,r=(e*this.angCos+t*this.angSin)*this.zoomVal*4;this.map.axes.scrollBy(n,r),this.map.queryObj=null,this.map.postInvalidate()},P.prototype.overlookBy=function(t){this.map.opts.rotateEnable&&(this.lookAngle+=t,this.lookAngle<30&&(this.lookAngle=30),this.lookAngle>90&&(this.lookAngle=90),this.map.ResetProj(),this.map.postInvalidate())},P.prototype.rotateBy=function(t){if(this.map.opts.rotateEnable){for(this.mapAngle+=t;this.mapAngle<0;)this.mapAngle+=360;for(;this.mapAngle>360;)this.mapAngle-=360;var e=Math.PI*this.mapAngle/180;this.angCos=Math.cos(e),this.angSin=Math.sin(e),this.map.ResetProj(),this.map.postInvalidate()}},P.prototype.scaleBy=function(t){this.zoomVal*=t,this.zoomVal<this.minZoomVal&&(this.zoomVal=this.minZoomVal),this.zoomVal>this.maxZoomVal&&(this.zoomVal=this.maxZoomVal);for(var e=0;e<this.zoomcnt;e++)if(this.zoomVal>=this.zoomConf[e]){if(e>0){var n=this.zoomConf[e-1]/this.zoomVal,r=this.zoomVal/this.zoomConf[e];this.zoom=r>n?e-1:e}else this.zoom=e;break}this.zoom+=1;var i=this.map._getZooms();this.zoom<i[0]||this.zoom>i[1]?this.setZoom(this.zoom):(this.map.isfirefirst&&!this.map.isfirezoom&&(this.map.isfirezoom=!0,this.map.fire("zoomstart"),this.map.fire("zoomchange")),this.map.ResetProj(),this.map.postInvalidate())},P.prototype.resetView=function(){this.setMapAngle(0),this.lookAngle=90,this.map.postInvalidate()};var O=e.SkEnvelope=function(){this.startLon=-1,this.startLat=-1,this.endLon=-1,this.endLat=-1};function N(t,e,n){var r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,e),t.compileShader(r);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,n),t.compileShader(i);var o=t.createProgram();return t.attachShader(o,r),t.attachShader(o,i),t.linkProgram(o),o}O.prototype.ext2Inc=function(t,e){-1==this.startLon&&-1==this.startLat&&-1==this.endLon&&-1==this.endLat?(this.startLon=t,this.startLat=e,this.endLon=t,this.endLat=e):(this.startLon>t&&(this.startLon=t),this.startLat>e&&(this.startLat=e),this.endLon<t&&(this.endLon=t),this.endLat<e&&(this.endLat=e))},O.prototype.inc=function(t,e){return t>this.startLon&&t<this.endLon&&e>this.startLat&&e<this.endLat};var U=e.MLngLat=function(t,e){this.mx=t,this.my=e};U.prototype.getMX=function(){return this.mx},U.prototype.getMY=function(){return this.my},U.prototype.getLngLat=function(){var t=(0,f.SkMercatortoLonLat)(this.mx,this.my);return new a.LngLat(t.lng,t.lat)};var z=e.Map=i.Evented.extend({statics:{UA:{mobile:"pc"!=(0,l.SkGetBrowserType)()},plugin:function(t,e){e()},getApiVersion:function(){return S.UrlConf.info.versionName},getMapVersion:function(){return S.UrlConf.info.copyright},getUrl:function(t,e){return S.UrlConf.getUrl(t,e)}},opts:{view:undefined,layers:[],zoom:6,center:[116.407525,39.90403],labelzIndex:110,zooms:"pc"==(0,l.SkGetBrowserType)()?[3,18]:[3,19],lang:"zh_cn",defaultCursor:"default",crs:"EPSG3857",animateEnable:!0,isHotspot:"pc"==(0,l.SkGetBrowserType)(),defaultLayer:null,rotateEnable:!1,resizeEnable:!1,showIndoorMap:!1,indoorMap:undefined,expandZoomRange:!1,dragEnable:!0,zoomEnable:!0,doubleClickZoom:!0,keyboardEnable:!0,jogEnable:!0,scrollWheel:!0,touchZoom:!0,touchZoomCenter:undefined,mapStyle:"cmmap://styles/normal",features:["bg","building","road","point"],showBuildingBlock:!0,viewMode:"2D",pitch:0,pitchEnable:undefined,buildingAnimation:undefined,skyColor:undefined,baseLayer:!0,building:!0,label:!0,buildingLayerColor:!1,buildingShadow:!1,buildingTranslucent:!1},_glWidth:0,_glHeight:0,initialize:function(t,e){C.init(),this.opts.view=new o.View2D(e),this.opts=r.extend(this.opts,e);var n=this;this.opts.buildingLayerColor&&(this.opts.buildingShadow=!1),this.opts.buildingTranslucent&&(this.opts.buildingShadow=!1),this.objSelectable=!1,this._setMapStyle(this.opts.mapStyle);var s="\n            uniform mat4 umMatrix;\n            uniform vec4 umPickColor;\n            attribute vec4 a_Position;\n            attribute vec4 a_Color;\n            varying vec4 v_Color;\n            void main(){\n                gl_Position = umMatrix * a_Position;\n                if (umPickColor.r>0.0 || umPickColor.g>0.0 || umPickColor.b>0.0)\n                    v_Color = umPickColor;\n                else\n                    v_Color = a_Color;\n            }\n        ",u="\n            precision highp float;\n            varying vec4 v_Color;\n            void main() {\n                gl_FragColor = v_Color;\n            }\n        ",l="\n            attribute vec4 a_Position;\n            uniform mat4 umMatrix;\n            attribute vec4 a_Color;\n            varying vec4 v_Color;\n            attribute vec2 a_TextCoord;\n            varying vec2 v_TexCoord;\n            void main() {\n                gl_Position = umMatrix * a_Position;\n                v_TexCoord = a_TextCoord;\n                v_Color = a_Color;\n            }\n        ",f="\n            precision highp float;\n            uniform sampler2D u_Sampler;\n            varying vec2 v_TexCoord;\n            varying vec4 v_Color;\n            void main() {\n                vec4 textureColor = texture2D(u_Sampler, v_TexCoord);\n                gl_FragColor = vec4(v_Color.rgb, textureColor.a*v_Color.a);\n            }\n        ";this.containerDiv=document.getElementById(t),this.containerDiv.style.position="relative",this.containerDiv.style.zIndex=0,this.containerDiv.style.overflow="hidden",this._setMapCursor();this.containerDiv.offsetWidth,this.containerDiv.offsetHeight;var w=document.createElement("div");w.className="cmmap-drags",w.style.zIndex=0;var E=document.createElement("canvas");E.className="map",E.style.position="absolute",E.style.left="0px",E.style.top="0px",E.style.zIndex="0",E.style.width="100%",E.style.height="100%",w.appendChild(E);var A=document.createElement("canvas");A.className="label",A.style.position="absolute",A.style.left="0px",A.style.top="0px",A.style.zIndex="99",A.style.width="100%",A.style.height="100%",w.appendChild(A),this.containerDiv.appendChild(w),this.layerDiv=w;var S=document.createElement("canvas");S.className="layer",S.style.position="absolute",S.style.left="0px",S.style.top="0px",S.style.zIndex="100",S.style.width="100%",S.style.height="100%",w.appendChild(S);var D=document.createElement("div");D.id="_cmmap_heatmap_div_",D.className="cmmap-layer",D.style.position="absolute",D.style.top="0px",D.style.left="0px",D.style.zIndex="17",D.style.width="100%",D.style.height="100%",w.appendChild(D),this.markersDiv=g.create("div","cmmap-markers",w),this.overlaysDiv=g.create("div","cmmap-overlays",this.containerDiv),this.controlsDiv=g.create("div","cmmap-controls",this.containerDiv),this.containerDiv.appendChild(new v.Logo),this.containerDiv.appendChild(new y.Copyright),this._cmmap_layers_containerDiv=w;var I={antialias:!0,premultipliedAlpha:!1,stencil:!0,preserveDrawingBuffer:!0},B=E.getContext("webgl",I)||E.getContext("experimental-webgl",I);if(B){I.preserveDrawingBuffer=!1;var R=S.getContext("webgl",I)||S.getContext("experimental-webgl",I);if(R){this.layerCanvas=S,this.layergl=R,this.labelContext=A.getContext("2d"),this.labelCanvas=A,this.gl=B,this.canvas=E;var F=(0,M.getPixelRatio)(),O=Math.floor(E.clientWidth*F),U=Math.floor(E.clientHeight*F);E.width=O,E.height=U,A.width=O,A.height=U,S.width=O,S.height=U,this._glWidth=O,this._glHeight=U,B.viewport(0,0,this._glWidth,this._glHeight),R.viewport(0,0,this._glWidth,this._glHeight),this.projection=h.mat4.create(),h.mat4.perspective(this.projection,Math.PI/6,this._glWidth/this._glHeight,5,5e3),this.bgProgram={},this.bgProgram.prog=N(B,s,u),this.bgProgram.uniLocation=B.getUniformLocation(this.bgProgram.prog,"umMatrix"),this.bgProgram.a_Position=B.getAttribLocation(this.bgProgram.prog,"a_Position"),this.bgProgram.a_Color=B.getAttribLocation(this.bgProgram.prog,"a_Color"),this.bgProgram.uPickColorIndex=B.getUniformLocation(n.bgProgram.prog,"umPickColor"),this.bgImgProgram={},this.bgImgProgram.prog=N(B,"\n            attribute vec4 a_Position;\n            uniform mat4 umMatrix;\n            attribute vec2 a_TextCoord;\n            varying vec2 v_TexCoord;\n            void main() {\n                gl_Position = umMatrix * a_Position;\n                v_TexCoord = a_TextCoord;\n            }\n        ","\n            precision highp float;\n            uniform sampler2D u_Sampler;\n            varying vec2 v_TexCoord;\n            void main() {\n                gl_FragColor = texture2D(u_Sampler, v_TexCoord);\n            }\n        "),this.bgImgProgram.uniLocation=B.getUniformLocation(this.bgImgProgram.prog,"umMatrix"),this.bgImgProgram.uSampler=B.getUniformLocation(this.bgImgProgram.prog,"uSampler"),this.bgImgProgram.a_Position=B.getAttribLocation(this.bgImgProgram.prog,"a_Position"),this.bgImgProgram.a_TextCoord=B.getAttribLocation(this.bgImgProgram.prog,"a_TextCoord"),this.routeProgram={},this.routeProgram.prog=N(B,l,f),this.routeProgram.uniLocation=B.getUniformLocation(this.routeProgram.prog,"umMatrix"),this.routeProgram.uSampler=B.getUniformLocation(this.routeProgram.prog,"uSampler"),this.routeProgram.a_TextCoord=B.getAttribLocation(this.routeProgram.prog,"a_TextCoord"),this.routeProgram.a_Position=B.getAttribLocation(this.routeProgram.prog,"a_Position"),this.routeProgram.a_Color=B.getAttribLocation(this.routeProgram.prog,"a_Color"),this.layerpathProgram={},this.layerpathProgram.prog=N(R,l,f),this.layerpathProgram.uniLocation=R.getUniformLocation(this.layerpathProgram.prog,"umMatrix"),this.layerpathProgram.uSampler=R.getUniformLocation(this.layerpathProgram.prog,"uSampler"),this.layerpathProgram.a_TextCoord=R.getAttribLocation(this.layerpathProgram.prog,"a_TextCoord"),this.layerpathProgram.a_Position=R.getAttribLocation(this.layerpathProgram.prog,"a_Position"),this.layerpathProgram.a_Color=R.getAttribLocation(this.layerpathProgram.prog,"a_Color"),this.layerbgProgram={},this.layerbgProgram.prog=N(R,s,u),this.layerbgProgram.uniLocation=R.getUniformLocation(this.layerbgProgram.prog,"umMatrix"),this.layerbgProgram.a_Position=R.getAttribLocation(this.layerbgProgram.prog,"a_Position"),this.layerbgProgram.a_Color=R.getAttribLocation(this.layerbgProgram.prog,"a_Color");var z=new Uint8Array([0,255,0,0,0,0,0,1,255,255,1,0,255,0,1,1]);this.imgvbo=B.createBuffer(),B.bindBuffer(B.ARRAY_BUFFER,this.imgvbo),B.bufferData(B.ARRAY_BUFFER,z,B.STATIC_DRAW),B.bindBuffer(B.ARRAY_BUFFER,null);var j=new Float32Array([-1,1,-.9,-1,-1,-.9,1,1,-.9,1,-1,-.9]);this.shadowVBO=B.createBuffer(),B.bindBuffer(B.ARRAY_BUFFER,this.shadowVBO),B.bufferData(B.ARRAY_BUFFER,j,B.STATIC_DRAW),B.bindBuffer(B.ARRAY_BUFFER,null),this.m_LineTex=B.createTexture(),B.bindTexture(B.TEXTURE_2D,this.m_LineTex),B.texParameterf(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.LINEAR),B.texParameterf(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.LINEAR),B.texImage2D(B.TEXTURE_2D,0,B.ALPHA,32,32,0,B.ALPHA,B.UNSIGNED_BYTE,p.linemask),B.bindTexture(B.TEXTURE_2D,null),this.m_RouteTex=B.createTexture(),B.bindTexture(B.TEXTURE_2D,this.m_RouteTex),B.texParameterf(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.LINEAR),B.texParameterf(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.LINEAR_MIPMAP_LINEAR),B.texImage2D(B.TEXTURE_2D,0,B.ALPHA,64,64,0,B.ALPHA,B.UNSIGNED_BYTE,m.road64_dat),B.generateMipmap(B.TEXTURE_2D),B.bindTexture(B.TEXTURE_2D,null),this.m_layerRouteTex=R.createTexture(),R.bindTexture(R.TEXTURE_2D,this.m_layerRouteTex),R.texParameterf(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.LINEAR),R.texParameterf(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.LINEAR_MIPMAP_LINEAR),R.texImage2D(R.TEXTURE_2D,0,R.ALPHA,64,64,0,R.ALPHA,R.UNSIGNED_BYTE,m.road64_dat),R.generateMipmap(R.TEXTURE_2D),R.bindTexture(R.TEXTURE_2D,null),B.enable(B.CULL_FACE),B.cullFace(B.BACK),B.enable(B.BLEND),B.blendFunc(B.SRC_ALPHA,B.ONE_MINUS_SRC_ALPHA),B.activeTexture(B.TEXTURE0),R.activeTexture(R.TEXTURE0),k.MMMgr.getInstance().init(),this.axes=new T.MapAxes(this);var W=this.opts.center;W=W?(0,a.toLngLat)(W):new a.LngLat(116.407525,39.90403),this.axes.updateCenter(W.lng,W.lat);var Y=[],G=d.ZOOMCONF.length;Y.length=G;for(var V=0;V<d.ZOOMCONF.length;V++){var H=d.ZOOMCONF[V].val;Y[V]=H}this.mapController=new P(this,Y,G,E.width,E.height),this.GetQueryObj(),this.gesture=new L.MapGesture(this);var q=new c["default"].Manager(this.layerDiv);q.add(new c["default"].Pan({direction:c["default"].DIRECTION_ALL,threshold:0})),this.mapScroll={x:0,y:0},q.on("pan",function(t){if(n._isLayer(t.target)&&!n._overlaypitchhandler(t)&&n.opts.dragEnable){var e=(t.deltaX-n.mapScroll.x)*F,r=(t.deltaY-n.mapScroll.y)*F;n.mapController.scrollBy(e,r),t.isFinal?(n.mapScroll.x=0,n.mapScroll.y=0):(n.mapScroll.x=t.deltaX,n.mapScroll.y=t.deltaY)}}),q.on("panstart panmove panend",function(t){n._isLayer(t.target)&&n.opts.dragEnable&&("panstart"==t.type?(n._panstatus=!0,n._panhandlerstatus=!0,n.fire("dragstart"),n.fire("movestart")):"panmove"==t.type?n.fire("dragging"):"panend"==t.type&&(n._panstatus=!1,n._panhandlerstatus=!1,n.fire("dragend"),n.fire("moveend")))}),q.add(new c["default"].Tap({event:"doubletap",taps:2})),q.add(new c["default"].Tap({event:"singletap"})),q.get("doubletap").recognizeWith("singletap"),q.get("singletap").requireFailure("doubletap"),q.on("singletap doubletap",function(t){if(n._isLayer(t.target)){if(n._overlay){var e="doubletap"==t.type?"dbclick":"click";if(n._overlay.fire(e,(0,b.MapEvent)(n,t)),!n._overlay.options.bubble)return}n.mapController&&("doubletap"==t.type&n.opts.doubleClickZoom?(n.mapController.zoomIn(),n.fire("dbclick",(0,b.MapEvent)(n,t))):(n._horverPoi&&n.fire("hotspotclick",n._horverPoi.getData()),n.fire("click",(0,b.MapEvent)(n,t))))}}),q.add(new c["default"].Pinch),q.get("pinch").set({enable:!0}),q.on("pinchstart pinch",function(t){if(n.opts.zoomEnable&&n.opts.touchZoom){"pinchstart"!=t.type&&n.initScale!==undefined||(n.initScale=1);var e=1/(t.scale/n.initScale);n.initScale=t.scale,n.mapController.scaleBy(e)}}),q.add(new c["default"].Swipe),q.get("swipe").set({enable:!0}).recognizeWith("pan"),q.on("swipe",function(t){n.opts.animateEnable&&n._flyTo(t)}),q.add(new c["default"].Press),q.on("press",function(t){n.fire("press",(0,b.MapEvent)(n,t))}),q.add(new c["default"].Rotate),q.get("rotate").set({enable:!0}).recognizeWith("pinch"),q.on("rotatestart rotatemove",function(t){"rotatestart"==t.type&&(n.initRotate=t.rotation),n.mapController&&n.mapController.rotateBy(n.initRotate-t.rotation),n.initRotate=t.rotation});var X=function(t){if(n.opts.zoomEnable&&n.opts.scrollWheel){var e=(t=t||window.event).deltaY||Math.abs(t.wheelDelta)/t.wheelDelta*-20;"DOMMouseScroll"==t.type&&(e=t.detail);var r=1+e/100;r>1.5&&(r=1.5),r<.667&&(r=.667),n.mapController.scaleBy(r),n.fire("mousewheel")}};if(document.mozFullScreen!==undefined?w.addEventListener("DOMMouseScroll",X,!1):w.addEventListener("mousewheel",X,!1),w.oncontextmenu=function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,n.fire("rightclick",(0,b.MapEvent)(n,t)),!1},i.OnResizeEvent.onResizestart(function(){}),i.OnResizeEvent.onResizend(function(){n._viewchange(),n.opts.resizeEnable&&n.fire("resize")}),window.onresize=function(t){n.onSizeChanged()},x.on(w,"mousemove mouseover mouseout mousedown mouseup",this._domhandler,this),x.on(w,"touchstart touchmove touchend",this._touchhandler,this),this.layers=[],this.overlays={},this.baselayer=new _.SkInterLayer({mapStyle:this._getMapStyleConf(),zIndex:0,map:this,features:this.opts.features,zooms:this._getZooms()}),this.opts.layers)for(var Z=0,J=this.opts.layers.length;Z<J;Z++)this.opts.layers[Z].options.map||this.opts.layers[Z].setMap(this)}else console.log("Failed")}else console.log("Failed")},_touchhandler:function(t){var e=(0,b.MapEvent)(this,t);"touchstart"==t.type&&this._layerhandler(t),this._overlay&&this._overlay.fire(t.type,e),this.fire(t.type,e),"touchend"==t.type&&(this._overlay=null,this._horverPoi=null)},_domhandler:function(t){t.target!=this.canvas&&t.target!=this.labelCanvas&&t.target!=this.layerCanvas||("mousedown"==t.type&&this._t&&(clearTimeout(this._t),this._panstatus&&(this._panstatus=!1,this.fire("mapmove"),this.fire("moveend"))),"mousemove"==t.type&&this._layerhandler(t),this._overlay&&("mousedown"!=t.type&&"mouseup"!=t.type||("mouseup"==t.type&&2==t.button&&this._overlay.fire("rightclick",(0,b.MapEvent)(this,t)),this._overlay.fire(t.type,(0,b.MapEvent)(this,t))),!this._overlay.options.bubble)||this.fire(t.type,(0,b.MapEvent)(this,t)))},_layerhandler:function(t){var e=parseInt(this.labelCanvas.style.zIndex)>parseInt(this.layerCanvas.style.zIndex),n=e?this._hotspothandler:this._overlayhandler,r=e?this._overlayhandler:this._hotspothandler,i=!1;return(!e||e&&this.opts.isHotspot)&&(i=n.call(this,t)),(!e&&this.opts.isHotspot&&!i||e&&!i)&&(i=r.call(this,t)),i},_flyTo:function(t){var e=t.velocityX*t.deltaTime,n=t.velocityY*t.deltaTime;this.panBy(-e,-n)},_hotspothandler:function(t){if(!this.opts.features||-1==this.opts.features.indexOf("point"))return!1;var e=this;var n=function(t){for(var n=e.layers.length-1;n>=0;n--){var r=e.layers[n];if(r&&r.getPoiAround){var i=r.getPoiAround(t);if(null!=i)return i}}}({x:t.clientX,y:t.clientY});return n?!(!this._horverPoi||this._horverPoi!=n)||(this._horverPoi&&(this._horverPoi.draw(this.labelContext,this,!1,!1,!0),this.fire("hotspotout",this._horverPoi.getData()),this._horverPoi=null),this._horverPoi=n,this._horverPoi.draw(this.labelContext,this,!1,!0,!0),this.fire("hotspotover",this._horverPoi.getData()),!0):!!this._horverPoi&&(this._horverPoi.draw(this.labelContext,this,!1,!1,!0),this.fire("hotspotout",this._horverPoi.getData()),this._horverPoi=null,!0)},_overlaypitchhandler:function(t){return!!(this._overlay&&this._overlay.isDraggable()&&this._overlay._pan)&&(this._overlay._pan(t),!0)},_setMapCursor:function(t){this.containerDiv&&(this.containerDiv.style.cursor=t||this.opts.defaultCursor)},_getZooms:function(){return this.opts.zooms},_getLayerContainer:function(){return this._cmmap_layers_containerDiv},_isLayer:function(t){if(this._bubble)return!1;for(var e=t;e;){if(e.parentNode==this.markersDiv)return!1;if(e==this._cmmap_layers_containerDiv)return!0;e=e.parentNode}return!1},preventDefalut:function(t){this._bubble=t},getZoom:function(){return this.mapController.getZoom()},getLayers:function(){return this.layers},getCenter:function(){return this.axes.getCenter().getLngLat()},getContainer:function(){return this.containerDiv},getCity:function(t){t(undefined)},getBounds:function(){return this.mapController.getBounds()},getlabelzIndex:function(){return this.opts.labelzIndex},getLimitBounds:function(){return null},getLang:function(){return null},getSize:function(){return this.mapController.getSize()},getRotation:function(){return this.mapController.getMapAngle()},getStatus:function(){return{showIndoorMap:this.opts.showIndoorMap,resizeEnable:this.opts.resizeEnable,dragEnable:this.opts.dragEnable,keyboardEnable:this.opts.keyboardEnable,doubleClickZoom:this.opts.doubleClickZoom,zoomEnable:this.opts.zoomEnable,rotateEnable:this.opts.rotateEnable}},getDefaultCursor:function(){return this.opts.defaultCursor},getResolution:function(){return 0},getScaleZoom:function(){return this.mapController.getZoom()},getZoomVal:function(){return this.mapController.zoomVal},getAllOverlays:function(t){t&&(r.isString(t)||(t=null),t=t.toLowerCase());var e=[];for(var n in this.overlays)t&&!this.overlays[n].isType(t)||e.push(this.overlays[n]);return e},setZoom:function(t){this.mapController.setZoom(t)},setlabelzIndex:function(t){this.opts.labelzIndex=t,this.labelCanvas.style.zIndex=t},setLayers:function(t){this.layers=t},setCenter:function(t){var e=(0,a.toLngLat)(t),n=this.getCenter();if(e&&!e.equals(n)){this.isfirefirst&&!this._panstatus&&(this._panstatus=!0,this.fire("movestart"));var r=this.getBounds();if(this.isfirefirst&&this.opts.animateEnable&&r&&r.contains(e)){var i=e.subtract(n),o=this,s=0,u=i.getLng(),l=i.getLat(),c=50;this._t&&clearTimeout(this._t),function t(){if(s<c){s++;var r=A["default"].Quart.easeOut(s,n.lng,u,c),i=A["default"].Quart.easeOut(s,n.lat,l,c);o.axes.updateCenter(r,i),o.postInvalidate(),o._t=setTimeout(t,10)}else o.axes.updateCenter(e.getLng(),e.getLat()),o.postInvalidate()}()}else this.axes.updateCenter(e.getLng(),e.getLat()),this.postInvalidate()}},setZoomAndCenter:function(t,e){var n=(0,a.toLngLat)(e);if(n){var r=!this.getCenter().equals(n),i=t!=this.mapController.getZoom();i&&this.mapController.setZoom(t),r&&this.axes.updateCenter(n.lng,n.lat),this.postInvalidate(),this.isfirefirst&&!this._panstatus&&r&&(this._panstatus=!0,this.fire("movestart")),this.isfirefirst&&i&&(this.isfirezoom||(this.isfirezoom=!0,this.fire("zoomstart"),this.fire("zoomchange")))}},setCity:function(t,e){e()},setBounds:function(t,e){var n=this.lngLatToContainer(t.southWest),r=this.lngLatToContainer(t.northEast);this.setShowRect(n,r,e)},setShowWithCenterAndRange:function(t,e){var n=this.lngLatToContainer(t),r=(0,s.toPixel)(n.x,n.y);n.x-=e,n.y-=e,r.x+=e,r.y+=e,this.setShowRect(n,r)},setShowRect:function(t,e,n){var r=(0,s.toPixel)((t.x+e.x)/2,(t.y+e.y)/2);r=this.containerToLngLat(r);var i=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y),a=n||1;i*=a,o*=a;var u=(i/=this.canvas.width)>(o/=this.canvas.height)?i:o;this.setCenter(r),this.mapController.scaleBy(u)},setLimitBounds:function(t){this._limitbounds=t},clearLimitBounds:function(){this._limitbounds=null},setLang:function(t){this.opts.lang=t},setRotation:function(t){this.mapController.setMapAngle(t),this.opts.rotation=this.mapController.getMapAngle()},setStatus:function(t){this.opts.status=t,this.opts=r.extend(this.opts,t)},setDefaultCursor:function(t){this.opts.defaultCursor=t,this._setMapCursor()},zoomIn:function(){this.mapController.zoomIn()},zoomOut:function(){this.mapController.zoomOut()},panTo:function(t){this.setCenter(t)},panBy:function(t,e){var n=this.getSize();if(this.isfirefirst&&!this._panstatus&&(this._panstatus=!0,this.fire("movestart")),this.isfirefirst&&this.opts.animateEnable&&t>=-n.width/2&&e>=-n.height/2&&t<=n.width/2&&e<=n.height/2){var r=this,i=0,o=t,a=e,s=50,u=0,l=0;this._t&&clearTimeout(this._t),function n(){if(i<s){i++;var t=Math.ceil(A["default"].Quart.easeOut(i,0,o,s)),e=Math.ceil(A["default"].Quart.easeOut(i,0,a,s));r.mapController.scrollBy(-(t-u),-(e-l)),u=t,l=e,r._t=setTimeout(n,10)}else r.mapController.scrollBy(-(o-u),-(a-l))}()}else this.mapController.scrollBy(-t,-e)},scaleBy:function(t){this.mapController.scaleBy(t)},setFitView:function(t,e){new O;e=e||1;var n=t;if(!n)for(var r in n=[],this.overlays)n.push(this.overlays[r]);if(n&&0!=n.length){for(var i=new E.Bounds,o=0,a=n.length;o<a;o++){var s=n[o];if(s.env){var u=(0,f.SkMercatortoLonLat)(s.env.startLon,s.env.startLat);i.ext2Inc(u),u=(0,f.SkMercatortoLonLat)(s.env.endLon,s.env.endLat),i.ext2Inc(u)}else if(s.getPosition&&s.getPosition()){u=s.getPosition();i.ext2Inc(u)}}this.setBounds(i,e)}},clearMap:function(){for(var t in this.overlays)this.overlays[t].setMap(null)},destroy:function(){if(this.clearMap(),this.layers)for(var t=this.layers.length-1;t>=0;t++)this.layers[t].setMap(null)},plugin:function(t,e){e()},clearInfoWindow:function(){this.infowindow&&this.remove(this.infowindow)},pixelToLngLat:function(t,e){if(!t)return null;e||(e=this.getZoom());var n=d.ZOOMCONF[e-1].val,r=(0,f.SkMercatortoLonLat)(t.getX()*n,t.getY()*n);return new a.LngLat(r.lng,r.lat)},lnglatToPixel:function(t,e){if(!(t=(0,a.toLngLat)(t)))return null;e||(e=this.getZoom());var n=d.ZOOMCONF[e-1].val,r=(0,f.SkLonLat2Mercator)(t.lng,t.lat);return new s.Pixel(r.x/n,r.y/n)},containerToLngLat:function(t){return this.axes.pixel2World(t.getX()*(0,M.getPixelRatio)(),t.getY()*(0,M.getPixelRatio)()).getLngLat()},lngLatToContainer:function(t){var e=(0,a.toLngLat)(t);if(!e)return null;var n=(0,f.SkLonLat2Mercator)(e.lng,e.lat),r=this.axes.world2pixel(n.x,n.y);return new s.Pixel(r.x/(0,M.getPixelRatio)(),r.y/(0,M.getPixelRatio)())},setMapStyle:function(t){t&&this.baselayer&&this.baselayer.setCustomStyle&&this._setMapStyle(t)&&this.baselayer.setCustomStyle(this._getMapStyleConf())},_setMapStyle:function(t){return(t=t.replace("cmmap://styles/",""))!=this._mapstyle&&(this._mapstyle=t,this.containerDiv&&(this.containerDiv.style.backgroundColor=""),!0)},_getMapStyle:function(){return this._mapstyle},_getMapStyleConf:function(){return this._mapstyle&&w.styleConf[this._mapstyle]?w.styleConf[this._mapstyle]:w.styleConf.normal},getMapStyle:function(){return this.opts.mapStyle},setFeatures:function(t){this.baselayer&&this.baselayer.setFeatures&&(this.opts.features=t,this.baselayer.setFeatures(t))},getFeatures:function(){return this.opts.features},setPitch:function(t){this.mapController.setLookAngle(t),this.opts.pitch=this.mapController.getLookAngle()},getPitch:function(){return this.opts.pitch},postInvalidate:function(){this.Render(),this.BaseData(),this.LabelPos()},onSizeChanged:function(){var t=this.canvas,e=this.labelCanvas,n=this.layerCanvas,r=(0,M.getPixelRatio)(),i=Math.floor(t.clientWidth*r),o=Math.floor(t.clientHeight*r);t.width===i&&t.height===o||(t.width=i,t.height=o,e.width=i,e.height=o,n.width=i,n.height=o,this._viewupdate=!0,this.Render(),this.RenderOverlay(!1))},_viewchange:function(){if(this._viewupdate){var t=this.canvas;this._glWidth=t.width,this._glHeight=t.height,h.mat4.perspective(this.projection,Math.PI/6,this._glWidth/this._glHeight,5,5e3),this.gl.viewport(0,0,this._glWidth,this._glHeight),this.layergl.viewport(0,0,this._glWidth,this._glHeight),this.mapController.setSize(this._glWidth,this._glHeight),this._viewupdate=!1,this.postInvalidate(),this.isfirefirst&&!this._panstatus&&(this._panstatus=!0,this.fire("movestart"))}},gl2Pixel:function(t,e){var n=h.vec4.fromValues(t,e,0,1),r=this.GetCurProj();h.vec4.transformMat4(n,n,r),n[0]/=n[3],n[1]/=n[3],n[2]/=n[3];var i=(1+n[0])*this._glWidth/2,o=this._glHeight-(1+n[1])*this._glHeight/2;return new s.Pixel(i,o)},GetCurProj:function(){if(!this.curProj){var t=h.mat4.create(),e=this.mapController.getZoomVal(),n=this.mapController.getMapAngle(),r=this.mapController.getLookAngle();h.mat4.lookAt(t,[0,-this._glHeight*Math.cos(r*Math.PI/180)/12,this._glHeight*Math.sin(r*Math.PI/180)/12],[0,0,0],[0,1,0]),h.mat4.scale(t,t,[.05,.05,.05]),h.mat4.multiply(t,this.projection,t),h.mat4.scale(t,t,[1/(4*e),1/(4*e),1/(4*e)]),h.mat4.rotateZ(t,t,n*Math.PI/180),this.curProj=t}return this.curProj},ResetProj:function(){this.curProjInv=null,this.queryObj=null,this.curProj=null},GetQueryObj:function(){if(!this.queryObj){var t=this.axes.pixel2World(0,0),e=this.axes.pixel2World(0,this._glHeight),n=this.axes.pixel2World(this._glWidth,this._glHeight),r=this.axes.pixel2World(this._glWidth,0);this.env=new O,this.env.startLon=Math.min(t.mx,Math.min(e.mx,Math.min(n.mx,r.mx))),this.env.startLat=Math.min(t.my,Math.min(e.my,Math.min(n.my,r.my))),this.env.endLon=Math.max(t.mx,Math.max(e.mx,Math.max(n.mx,r.mx))),this.env.endLat=Math.max(t.my,Math.max(e.my,Math.max(n.my,r.my))),this.env.startLat<0&&(this.env.startLat=0),this.env.endLat>k.MMConstant.diameter&&(this.env.endLat=k.MMConstant.diameter),this.queryObj=[t,e,n,r,t];var i=(0,f.SkMercatortoLonLat)(this.env.startLon,this.env.endLat),o=(0,f.SkMercatortoLonLat)(this.env.endLon,this.env.startLat);this.mapController.bounds?this.mapController.bounds.set([i.lng,i.lat],[o.lng,o.lat]):this.mapController.bounds=new E.Bounds([i.lng,i.lat],[o.lng,o.lat])}return this.queryObj},Render:function(){this.renderfps&&this.renderfps.update();var t=this,e=t.gl;t.GetCurProj();var n=!!(arguments&&arguments.length>0)&&arguments[0],r={r:255,g:255,b:255,a:255},i=I.MapThemeMgr.getInstance().themeMgr;if(i){var o=i.getBGTheme(1);o&&(r=o.m_Color)}return e.clearDepth(1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.clearColor(r.r/255,r.g/255,r.b/255,r.a/255),this.gesture.isPicking()&&(a(),this.gesture.isPicking(!0)),a(),t._oncomplete(n),n;function a(){for(var e=0;e<t.layers.length;e++)t.gesture.isPicking()&&!t.layers[e].buildingIndexArr||(t.layers[e]==t.baselayer?n=t.layers[e].render()&&n:t.layers[e].render());t.RenderLabel(!0)}},RenderLabel:function(t){var e=this.labelContext;if(e.clearRect(0,0,e.canvas.width,e.canvas.height),this.opts.label){this.GetCurProj();for(var n=0;n<this.layers.length;n++)this.layers[n].renderLabel&&this.layers[n].renderLabel(t)}},BaseData:function(){var t=this;t.baseDataTimer&&clearTimeout(t.baseDataTimer),t.baseDataTimer=setTimeout(function(){t.GetQueryObj();for(var e=!0,n=0;n<t.layers.length;n++)t.layers[n].prepareData&&t.layers[n].prepareData()&&(e=!1);t.Render(e)},100)},getEye2zero:function(){return this.eye2zero},LabelPos:function(){var t=this;this.labelPosTimer&&clearTimeout(this.labelPosTimer),this.labelPosTimer=setTimeout(function(){t.GetQueryObj();var e=t.mapController.getLookAngle();t.ex=0,t.ey=-t.canvas.height*Math.cos(e*Math.PI/180)*5/3,t.ez=t.canvas.height*Math.sin(e*Math.PI/180)*5/3,t.ez2=t.ez*t.ez,t.eye2zero=Math.sqrt(t.ex*t.ex+t.ey*t.ey+t.ez2),t.labelRTree=(0,B["default"])(10);for(var n=t.layers.length-1;n>=0;n--)t.layers[n].prepareLabel&&t.layers[n].prepareLabel(t.labelRTree);t.RenderLabel(!1)},150)},_oncomplete:function(t){this._panstatus&&(this.fire("mapmove"),z.UA.mobile&&this.fire("touchmove")),this.isfirezoom&&this.fire("zoomchange"),t&&(this.isfirezoom&&(this.isfirezoom=!1,this.fire("zoomend")),this._panstatus&&!this._panhandlerstatus&&(this._panstatus=!1,this.fire("moveend")),this.isfirefirst||(this.isfirefirst=!0,this.fire("complete")),this.fire("loaded"))},isComplete:function(){return this.isfirefirst},onObjSelected:function(t){this.objSelCb=t},setCustomStyle:function(t){},add:function(t){if(r.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].setMap&&t[e].setMap(this);else t.setMap&&t.setMap(this)},remove:function(t){if(r.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].setMap&&t[e].setMap(null);else t.setMap&&t.setMap(null)},showFps:function(t){t&&this.renderfps?(document.body.removeChild(this.renderfps.dom),this.renderfps=null):this.renderfps||(this.renderfps=new D.FpsHelper,this.renderfps.setMode(0),document.body.appendChild(this.renderfps.dom))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkLon2MercatorX=function(t){t+=180;for(;t>=360;)t-=360;for(;t<0;)t+=360;return parseInt(t*r.MMConstant.diameter/360)},e.SkLat2MercatorY=function(t){var e=t;e>85&&(e=85);e<-85&&(e=-85);var n=Math.sin(Math.PI*e/180);return n=.5*Math.log((1+n)/(1-n)),parseInt((1-n/Math.PI)/2*r.MMConstant.diameter)},e.SkLonLat2Mercator=function(t,e){t+=180;for(;t>=360;)t-=360;for(;t<0;)t+=360;var n=parseInt(t*r.MMConstant.diameter/360);e>85&&(e=85);e<-85&&(e=-85);var i=Math.sin(Math.PI*e/180);i=.5*Math.log((1+i)/(1-i));var o=parseInt((1-i/Math.PI)/2*r.MMConstant.diameter);return{x:n,y:o}},e.SkMercatortoLonLat=function(t,e){var n=360*t/r.MMConstant.diameter-180,i=(2-e/268435456)*Math.PI;return i=Math.pow(Math.E,i),i=180*(i=Math.asin((i-1)/(i+1)))/Math.PI,{lng:n,lat:i}};var r=n(66)},function(t,e,n){var r=n(9),i=n(55);t.exports=n(8)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(3),i=n(18),o=n(21),a=n(56)("src"),s=Function.toString,u=(""+s).split("toString");n(28).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){var r=n(0),i=n(4),o=n(37),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(78),i=n(37);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(79),i=n(55),o=n(22),a=n(36),s=n(21),u=n(163),l=Object.getOwnPropertyDescriptor;e.f=n(8)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(21),i=n(12),o=n(119)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPixelRatio=function(){return Math.min(2,Math.round(window.devicePixelRatio||1))};var r=document.documentElement.style,i=e.ie="ActiveXObject"in window,o=(e.ielt9=i&&!document.addEventListener,e.edge="msLaunchUri"in navigator&&!("documentMode"in document),e.webkit=b("webkit")),a=e.android=b("android"),s=e.android23=b("android 2")||b("android 3"),u=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),l=(e.androidStock=a&&b("Google")&&u<537&&!("AudioNode"in window),e.opera=!!window.opera),c=e.chrome=b("chrome"),h=e.gecko=b("gecko")&&!o&&!l&&!i,f=(e.safari=!c&&b("safari"),e.phantom=b("phantom")),p=e.opera12="OTransition"in r,d=(e.win=0===navigator.platform.indexOf("Win"),e.ie3d=i&&"transition"in r),m=e.webkit3d="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!s,g=e.gecko3d="MozPerspective"in r,v=(e.any3d=!window.L_DISABLE_3D&&(d||m||g)&&!p&&!f,e.mobile="undefined"!=typeof orientation||b("mobile")),y=(e.mobileWebkit=v&&o,e.mobileWebkit3d=v&&m,e.msPointer=!window.PointerEvent&&window.MSPointerEvent),x=e.pointer=!(!window.PointerEvent&&!y);e.touch=!window.L_NO_TOUCH&&(x||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),e.mobileOpera=v&&l,e.mobileGecko=v&&h,e.retina=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,e.canvas=!!document.createElement("canvas").getContext;function b(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}},function(t,e,n){"use strict";var r=n(246),i=n(549),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function c(){var t={};function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=c(t[n],e):t[n]=e}for(var n=0,r=arguments.length;n<r;n++)l(arguments[n],e);return t},extend:function(t,e,n){return l(e,function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(14);t.exports=function(t,e,n){if(r(t),e===undefined)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.Pixel=o,e.toPixel=a;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1));function o(t,e){this.x=i.isString(t)?parseFloat(t):t,this.y=i.isString(e)?parseFloat(e):e}function a(t,e){return t instanceof o?t:i.isArray(t)?new o(t[0],t[1]):t===undefined||null===t?t:"object"===(void 0===t?"undefined":r(t))&&"x"in t&&"y"in t?new o(t.x,t.y):new o(t,e)}o.prototype={getX:function(){return this.x},getY:function(){return this.y},equals:function(t){return t.x===this.x&&t.y===this.y},toString:function(){return this.x+","+this.y},clone:function(){return new o(this.x,this.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},add:function(t){return this.clone()._add(a(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this}}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){t.setFloat32(20*e+0,n,!0),t.setFloat32(20*e+4,r,!0),t.setFloat32(20*e+8,o,!0),t.setFloat32(20*e+12,i,!0),t.setUint8(20*e+16,a.r),t.setUint8(20*e+17,a.g),t.setUint8(20*e+18,a.b),t.setUint8(20*e+19,a.a)}function i(t,e,n,r,i,o,a,s,u,l,c){c&&(console.log("mx:"+i),console.log("my:"+o)),t.setFloat32(32*e+0,n,!0),t.setFloat32(32*e+4,r,!0),t.setFloat32(32*e+8,i,!0),t.setFloat32(32*e+12,o,!0),t.setFloat32(32*e+16,s,!0),t.setFloat32(32*e+20,a,!0),t.setUint8(32*e+24,l.r),t.setUint8(32*e+25,l.g),t.setUint8(32*e+26,l.b),t.setUint8(32*e+27,l.a),t.setUint8(32*e+28,u.r),t.setUint8(32*e+29,u.g),t.setUint8(32*e+30,u.b),t.setUint8(32*e+31,u.a)}function o(t,e,n,r){var i,o,a=1;if(0==t||0==r)return 0==e||0==n?0:e>0?n>0?-a:a:n>0?a:-a;if(0==e||0==n)return r>0?t>0?a:-a:t>0?-a:a;if(0<e?0<r?e<=r||(a=-a,i=t,t=n,n=i,i=e,e=r,r=i):e<=-r?(a=-a,n=-n,r=-r):(i=t,t=-n,n=i,i=e,e=-r,r=i):0<r?-e<=r?(a=-a,t=-t,e=-e):(i=-t,t=n,n=i,i=-e,e=r,r=i):e>=r?(t=-t,e=-e,n=-n,r=-r):(a=-a,i=-t,t=-n,n=i,i=-e,e=-r,r=i),0<t){if(!(0<n))return a;if(!(t<=n))return a}else{if(0<n)return-a;if(!(t>=n))return-a;a=-a,t=-t,n=-n}for(;;){if(1,n-=(o=Math.floor(n/t))*t,(r-=o*e)<0)return-a;if(r>e)return a;if(t>n+n){if(e<r+r)return a}else{if(e>r+r)return-a;n=t-n,r=e-r,a=-a}if(0==r)return 0==n?0:-a;if(0==n)return a;if(t-=(o=Math.floor(t/n))*n,(e-=o*r)<0)return a;if(e>r)return-a;if(n>t+t){if(r<e+e)return-a}else{if(r>e+e)return a;t=n-t,e=r-e,a=-a}if(0==e)return 0==t?0:a;if(0==t)return-a}return a}function a(t,e){return t.startLon<e.mx&&t.endLon>e.mx&&t.startLat<e.my&&t.endLat>e.my}function s(t,e,n){var r=0,i=0;for(r=1;r<5;r++){var a=t[r],s=t[r-1];if(a.my>n&&s.my<=n||s.my>n&&a.my<=n)o(a.mx-e,a.my-n,s.mx-e,s.my-n)/(s.my-a.my)>0&&i++}return i%2==1}function u(t,e,n,r,i,o,a,s){return Math.max(t,n)>=Math.min(i,a)&&Math.max(i,a)>=Math.min(t,n)&&Math.max(e,r)>=Math.min(o,s)&&Math.max(o,s)>=Math.min(e,r)&&((i-t)*(r-e)-(n-t)*(o-e))*((n-t)*(s-e)-(a-t)*(r-e))>=0&&((t-i)*(s-o)-(a-i)*(e-o))*((a-i)*(r-o)-(n-i)*(s-o))>=0}function l(t,e,n,r,i,o){var a,s={};return n==i&&r==o?(s.x=n,s.y=r,s.dist=Math.sqrt((t-n)*(t-n)+(e-r)*(e-r)),s):(a=((t-n)*(i-n)+(e-r)*(o-r))/((i-n)*(i-n)+(o-r)*(o-r)))<=0?(s.x=n,s.y=r,s.dist=Math.sqrt((t-n)*(t-n)+(e-r)*(e-r)),s):a>=1?(s.x=i,s.y=o,s.dist=Math.sqrt((t-i)*(t-i)+(e-o)*(e-o)),s):(s.x=n+a*(i-n),s.y=r+a*(o-r),s.dist=Math.sqrt(((r-e)*(i-n)-(n-t)*(o-r))*((r-e)*(i-n)-(n-t)*(o-r))/((i-n)*(i-n)+(o-r)*(o-r))),s)}Object.defineProperty(e,"__esModule",{value:!0}),e.SkGetBrowserType=function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),n="iphone os"==t.match(/iphone os/i),r="midp"==t.match(/midp/i),i="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),o="ucweb"==t.match(/ucweb/i),a="android"==t.match(/android/i),s="windows ce"==t.match(/windows ce/i),u="windows mobile"==t.match(/windows mobile/i);return e||n||r||i||o||a||s||u?"phone":"pc"},e.morten2xy9=function(t){for(var e=0,n=0,r=0;r<9;r++){var i=t>>2*r&1,o=t>>2*r+1&1;e|=i<<r,n|=o<<r}return{x:e,y:n}},e.morten2xy10=function(t){for(var e=0,n=0,r=0;r<10;r++){var i=t>>2*r&1,o=t>>2*r+1&1;e|=i<<r,n|=o<<r}return{x:e,y:n}},e.SkSetLinePoint=r,e.ParCacheLine2Triangle=function(t,e,n,i,o){for(var a=n.linePointsDV,s=n.lineIndex[i],u=n.linePointCnt,l=n.lineIndexCnt[i],c=o.m_iMainWidth,h=o.m_fTexS,f=o.m_fTexE,p=o.m_fSegLength,d=o.m_FColor,m=0,g=0,v=0,y=0,x=0;x<e;x++)0!=x&&(r(a,u,t[2*x+0]-g,t[2*x+1]+m,-y,h,d),r(a,++u,t[2*x+0]+g,t[2*x+1]-m,-y,f,d),u++),e-1!=x&&(m=t[2*x+2]-t[2*x+0],g=t[2*x+3]-t[2*x+1],(v=Math.sqrt(m*m+g*g))<1e-4&&(v=1e-4),m=m*c/v,g=g*c/v,r(a,u,t[2*x+0]-g,t[2*x+1]+m,-y,h,d),r(a,++u,t[2*x+0]+g,t[2*x+1]-m,-y,f,d),u++,y+=v/p);for(var b=!1,_=4*e-4,x=0;x<_-2;x++)b?(s[l+0]=u-_+x,s[l+1]=u-_+x+2,s[l+2]=u-_+x+1):(s[l+0]=u-_+x+2,s[l+1]=u-_+x,s[l+2]=u-_+x+1),b=!b,l+=3;n.linePointCnt=u,n.lineIndexCnt[i]=l},e.SkSetRoutePoint=i,e.ParCacheRoute2Triangle=function(t,e,n,r,o,a,s,u){var l=n.routePointsDV,c=n.routeIndex[2*r+0],h=n.routeIndex[2*r+1],f=n.routePointCnt,p=n.routeIndexCnt[2*r+0],d=n.routeIndexCnt[2*r+1],m={r:128,g:128,b:128,a:255},g={r:0,g:0,b:0,a:255},v=0,y=0,x=0,b=0,_=0,w=3,E=0,A=0,S=2;o&&(m=o.m_FColor,g=o.m_BColor,S=o.m_iMainWidth,w=S+o.m_iBordWidth);if(w<=0)return;for(var C=0;C<e;C++)v=t[2*C+0],y=t[2*C+1],0!=C&&(i(l,f,v+b,y-x,v+A,y-E,.5,0,m,g,u),i(l,++f,v-b,y+x,v-A,y+E,.5,1,m,g,u),f++,e-1==C&&s&&(i(l,f,v+b+x/2,y-x+b/2,v+A+E/2,y-E+A/2,1,0,m,g,u),i(l,++f,v-b+x/2,y+x+b/2,v-A+E/2,y+E+A/2,1,1,m,g,u),f++)),e-1!=C&&(x=t[2*(C+1)+0]-t[2*C+0],b=t[2*(C+1)+1]-t[2*C+1],_=Math.sqrt(x*x+b*b),E=x*S/_,A=b*S/_,x=x*w/_,b=b*w/_,0==C&&a&&(i(l,f,v+b-x/2,y-x-b/2,v+A-E/2,y-E-A/2,0,0,m,g,u),i(l,++f,v-b-x/2,y+x-b/2,v-A-E/2,y+E-A/2,0,1,m,g,u),f++),i(l,f,v+b,y-x,v+A,y-E,.5,0,m,g,u),i(l,++f,v-b,y+x,v-A,y+E,.5,1,m,g,u),f++);var D=!1,M=4*e;a||(M-=2);s||(M-=2);if(o&&o.m_iBordWidth>0)for(var C=0;C<M-2;C++)D?(c[p+0]=f-M+C,c[p+1]=f-M+C+1,c[p+2]=f-M+C+2):(c[p+0]=f-M+C+1,c[p+1]=f-M+C,c[p+2]=f-M+C+2),D=!D,p+=3;if(o&&o.m_iMainWidth>0)for(var C=0;C<M-2;C++)D?(h[d+0]=f-M+C,h[d+1]=f-M+C+1,h[d+2]=f-M+C+2):(h[d+0]=f-M+C+1,h[d+1]=f-M+C,h[d+2]=f-M+C+2),D=!D,d+=3;n.routePointCnt=f,n.routeIndexCnt[2*r+0]=p,n.routeIndexCnt[2*r+1]=d},e.SkSortPoiLabels=function(t){for(var e=new Uint16Array(10),n=0;n<t.length;n++)t[n].theme?e[t[n].theme.m_iPrivilage]++:e[0]++;for(var r=1;r<10;r++)e[r]=e[r]+e[r-1];var i=[];i.length=t.length;for(var n=t.length-1;n>=0;n--){var o=t[n];o.theme?(e[o.theme.m_iPrivilage]--,i[e[o.theme.m_iPrivilage]]=o):(e[0]--,i[e[0]]=o)}return i},e.SkLabelNameIsEnglish=function(t){for(var e=0;e<t.length;e++)if(t.charCodeAt(e)>255)return!1;return!0},e.SkRoundRectanglePath=function(t,e,n,r,i,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.arc(e+r-o,n+o,o,3*Math.PI/2,2*Math.PI,!1),t.lineTo(e+r,n+i-o),t.arc(e+r-o,n+i-o,o,0,Math.PI/2,!1),t.lineTo(e+o,n+i),t.arc(e+o,n+i-o,o,Math.PI/2,Math.PI,!1),t.lineTo(e,n+o),t.arc(e+o,n+o,o,Math.PI,3*Math.PI/2,!1),t.closePath()},e.MathToolSetSignOfDet2x2=o,e.SkRingIncPoint=function(t,e,n){var r=0,i=0;for(r=1;r<t.length;r++){var a=t[r],s=t[r-1];if(a.y>n&&s.y<=n||s.y>n&&a.y<=n){var u=o(a.x-e,a.y-n,s.x-e,s.y-n)/(s.y-a.y);u>0&&i++}}return i%2==1},e.MapEnvelopeInclude=a,e.MapQueryObjIncPoint=s,e.MapQueryObjLineIntersect=u,e.MapQueryObjIntersect=function(t,e){for(var n=0;n<4;n++)if(a(e,t[n]))return!0;if(s(t,e.startLon,e.startLat))return!0;if(s(t,e.startLon,e.endLat))return!0;if(s(t,e.endLon,e.startLat))return!0;if(s(t,e.endLon,e.endLat))return!0;for(var n=0;n<4;n++){if(u(t[n].mx,t[n].my,t[n+1].mx,t[n+1].my,e.startLon,e.startLat,e.startLon,e.endLat))return!0;if(u(t[n].mx,t[n].my,t[n+1].mx,t[n+1].my,e.startLon,e.startLat,e.endLon,e.startLat))return!0;if(u(t[n].mx,t[n].my,t[n+1].mx,t[n+1].my,e.startLon,e.endLat,e.endLon,e.endLat))return!0;if(u(t[n].mx,t[n].my,t[n+1].mx,t[n+1].my,e.endLon,e.startLat,e.endLon,e.endLat))return!0}return!1},e.SkGetPointLineDist=l,e.SkGetPointPlineDist=function(t,e,n){for(var r=null,i=1;i<n.length;i++){var o=l(t,e,n[i-1].x,n[i-1].y,n[i].x,n[i].y);(null==r||r.dist>o.dist)&&(r=o)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(43),i=n(513),o=n(514),a=n(225),s=n(226),u=n(227),l=n(515),c=n(516),h=n(228),f=n(229);n.d(e,"glMatrix",function(){return r}),n.d(e,"mat2",function(){return i}),n.d(e,"mat2d",function(){return o}),n.d(e,"mat3",function(){return a}),n.d(e,"mat4",function(){return s}),n.d(e,"quat",function(){return u}),n.d(e,"quat2",function(){return l}),n.d(e,"vec2",function(){return c}),n.d(e,"vec3",function(){return h}),n.d(e,"vec4",function(){return f})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlConf=e.Conf=e.DatSourceAxes=undefined,e.get=c,e.init=function(){!function(){if(s())return;var t=c("_key");if(!t||0==t.length)throw new Error("key error")}();var t=l._scheme,e=l._port[t],n=l._key,i={"{port}":e,"{key}":n,"{scheme}":t};for(var o in h)for(var n in i){var a=h[o];r.isString(a)&&(a=a.replace(n,i[n]),h[o]=a)}};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1));var i="http://172.16.151.215:8080";i="http://10.1.1.36:8080";var o="http://61.189.20.113:8000",a=s()?"/locMap":"/VectorMapAbility";function s(){return o==i}var u=e.DatSourceAxes={gcj02:0,WGS84:1},l=e.Conf={_version:"",_key:"",_server:"",_client:"",_plugin:"",_count:"",_scheme:"http",_port:{http:"8000",https:"8443"},datAxe:u.gcj02};function c(t){return l.hasOwnProperty(t)?l[t]:null}var h=e.UrlConf={mm:o+a+"/MM?pv=2&key={key}",theme:o+a+"/theme?name={name}&v=1&key={key}",indoorUrl:o+a+"/indoor?type={type}&name={name}&key={key}",regeo:o+"/gisService/regeo?key=ub1j8px5ob44ol7t04z0x609zdm20ntn&extensions=1|2|3&location={location}",traffic:o+"/tmc_server?key=5f6a25331224009bb93a195&type=0&city_code=all_city",sat:o+"/tileServer?maptype=12&number=123456789&key=5592f4830d22caccc27546e61faf9048&x={x}&y={y}&z={z}",tile_url:o+"/tileServer?maptype={type}&number=123456789&x={x}&y={y}&z={z}&key=e9ed19adb4a3754bbf2f07902ca0f3516c67238f43b4d1d4656278e0d1055d505443f404f81ab422",poisearch:o+"/SearchWebProject/PoiSearch?protocol=json&encoding=utf8&keywords={keywords}&data_type=POI&query_type=TQUERY&v=1.1&key=96e79218965eb72c92a549dd5a330112&name=bundle&city={city}&page_num={offset}&page={page}",config:{sktheme:"http://10.1.1.36:80/sktheme.yaml",skwt:"http://10.1.1.36:80/skwt.yaml"},mvt:"http://106.15.229.212:3333/tiles?z={z}&x={x}&y={y}",getUrl:function(t,e){var n=h[t];for(var r in e)n=n.replace(r,e[r]);return n},info:{version:1,versionName:"1.0",copyright:"GS（2018）979号"}}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(t==undefined)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(0),i=n(28),o=n(4);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(29),i=n(78),o=n(12),a=n(10),s=n(136);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var m,g,v=o(e),y=i(v),x=r(s,d,3),b=a(y.length),_=0,w=n?p(e,b):u?p(e,0):undefined;b>_;_++)if((f||_ in y)&&(g=x(m=y[_],_,v),t))if(n)w[_]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:w.push(m)}else if(c)return!1;return h?-1:l||c?c:w}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15);Object.defineProperty(e,"LngLat",{enumerable:!0,get:function(){return r.LngLat}}),Object.defineProperty(e,"toLngLat",{enumerable:!0,get:function(){return r.toLngLat}});var i=n(32);Object.defineProperty(e,"Pixel",{enumerable:!0,get:function(){return i.Pixel}});var o=n(82);Object.defineProperty(e,"Size",{enumerable:!0,get:function(){return o.Size}})},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(466),i=n(197),o=n(198);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=n===undefined&&r===undefined?new Uint8Array(e):r===undefined?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(r!==undefined&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function x(t,e,n,r){return W(z(e,t.length-n),t,n,r)}function b(t,e,n,r){return W(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return b(t,e,n,r)}function w(t,e,n,r){return W(j(e),t,n,r)}function E(t,e,n,r){return W(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT!==undefined?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):n!==undefined?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(e===undefined)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var r=!1;if((e===undefined||e<0)&&(e=0),e>this.length)return"";if((n===undefined||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return D(this,e,n);case"latin1":case"binary":return M(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(e===undefined&&(e=0),n===undefined&&(n=t?t.length:0),r===undefined&&(r=0),i===undefined&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,s=Math.min(o,a),l=this.slice(r,i),c=t.slice(e,n),h=0;h<s;++h)if(l[h]!==c[h]){o=l[h],a=c[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(e===undefined)r="utf8",n=this.length,e=0;else if(n===undefined&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,r===undefined&&(r="utf8")):(r=n,n=undefined)}var i=this.length-e;if((n===undefined||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function D(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function T(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function F(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,o){return o||F(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function O(t,e,n,r,o){return o||F(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=e===undefined?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,undefined);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return O(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return O(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==undefined&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=n===undefined?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:z(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||Infinity;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(e,n(48))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ARRAY_TYPE",function(){return i}),e.setMatrixArrayType=function(t){i=t},e.toRadian=function(t){return t*a},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};const r=1e-6;e.EPSILON=r;let i="undefined"!=typeof Float32Array?Float32Array:Array;const o=Math.random;e.RANDOM=o;const a=Math.PI/180},function(t,e,n){"use strict";if(n(8)){var r=n(50),i=n(3),o=n(4),a=n(0),s=n(100),u=n(142),l=n(29),c=n(62),h=n(55),f=n(18),p=n(64),d=n(38),m=n(10),g=n(189),v=n(58),y=n(36),x=n(21),b=n(80),_=n(5),w=n(12),E=n(133),A=n(59),S=n(24),C=n(60).f,D=n(135),M=n(56),k=n(6),T=n(40),L=n(90),I=n(97),B=n(138),R=n(69),F=n(94),P=n(61),O=n(137),N=n(179),U=n(9),z=n(23),j=U.f,W=z.f,Y=i.RangeError,G=i.TypeError,V=i.Uint8Array,H=Array.prototype,q=u.ArrayBuffer,X=u.DataView,Z=T(0),J=T(2),K=T(3),$=T(4),Q=T(5),tt=T(6),et=L(!0),nt=L(!1),rt=B.values,it=B.keys,ot=B.entries,at=H.lastIndexOf,st=H.reduce,ut=H.reduceRight,lt=H.join,ct=H.sort,ht=H.slice,ft=H.toString,pt=H.toLocaleString,dt=k("iterator"),mt=k("toStringTag"),gt=M("typed_constructor"),vt=M("def_constructor"),yt=s.CONSTR,xt=s.TYPED,bt=s.VIEW,_t=T(1,function(t,e){return Ct(I(t,t[vt]),e)}),wt=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Et=!!V&&!!V.prototype.set&&o(function(){new V(1).set({})}),At=function(t,e){var n=d(t);if(n<0||n%e)throw Y("Wrong offset!");return n},St=function(t){if(_(t)&&xt in t)return t;throw G(t+" is not a typed array!")},Ct=function(t,e){if(!(_(t)&&gt in t))throw G("It is not a typed array constructor!");return new t(e)},Dt=function(t,e){return Mt(I(t,t[vt]),e)},Mt=function(t,e){for(var n=0,r=e.length,i=Ct(t,r);r>n;)i[n]=e[n++];return i},kt=function(t,e,n){j(t,e,{get:function(){return this._d[n]}})},Tt=function(t){var e,n,r,i,o,a,s=w(t),u=arguments.length,c=u>1?arguments[1]:undefined,h=c!==undefined,f=D(s);if(f!=undefined&&!E(f)){for(a=f.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(h&&u>2&&(c=l(c,arguments[2],2)),e=0,n=m(s.length),i=Ct(this,n);n>e;e++)i[e]=h?c(s[e],e):s[e];return i},Lt=function(){for(var t=0,e=arguments.length,n=Ct(this,e);e>t;)n[t]=arguments[t++];return n},It=!!V&&o(function(){pt.call(new V(1))}),Bt=function(){return pt.apply(It?ht.call(St(this)):St(this),arguments)},Rt={copyWithin:function(t,e){return N.call(St(this),t,e,arguments.length>2?arguments[2]:undefined)},every:function(t){return $(St(this),t,arguments.length>1?arguments[1]:undefined)},fill:function(t){return O.apply(St(this),arguments)},filter:function(t){return Dt(this,J(St(this),t,arguments.length>1?arguments[1]:undefined))},find:function(t){return Q(St(this),t,arguments.length>1?arguments[1]:undefined)},findIndex:function(t){return tt(St(this),t,arguments.length>1?arguments[1]:undefined)},forEach:function(t){Z(St(this),t,arguments.length>1?arguments[1]:undefined)},indexOf:function(t){return nt(St(this),t,arguments.length>1?arguments[1]:undefined)},includes:function(t){return et(St(this),t,arguments.length>1?arguments[1]:undefined)},join:function(t){return lt.apply(St(this),arguments)},lastIndexOf:function(t){return at.apply(St(this),arguments)},map:function(t){return _t(St(this),t,arguments.length>1?arguments[1]:undefined)},reduce:function(t){return st.apply(St(this),arguments)},reduceRight:function(t){return ut.apply(St(this),arguments)},reverse:function(){for(var t,e=St(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return K(St(this),t,arguments.length>1?arguments[1]:undefined)},sort:function(t){return ct.call(St(this),t)},subarray:function(t,e){var n=St(this),r=n.length,i=v(t,r);return new(I(n,n[vt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((e===undefined?r:v(e,r))-i))}},Ft=function(t,e){return Dt(this,ht.call(St(this),t,e))},Pt=function(t){St(this);var e=At(arguments[1],1),n=this.length,r=w(t),i=m(r.length),o=0;if(i+e>n)throw Y("Wrong length!");for(;o<i;)this[e+o]=r[o++]},Ot={entries:function(){return ot.call(St(this))},keys:function(){return it.call(St(this))},values:function(){return rt.call(St(this))}},Nt=function(t,e){return _(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Nt(t,e=y(e,!0))?h(2,t[e]):W(t,e)},zt=function(t,e,n){return!(Nt(t,e=y(e,!0))&&_(n)&&x(n,"value"))||x(n,"get")||x(n,"set")||n.configurable||x(n,"writable")&&!n.writable||x(n,"enumerable")&&!n.enumerable?j(t,e,n):(t[e]=n.value,t)};yt||(z.f=Ut,U.f=zt),a(a.S+a.F*!yt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:zt}),o(function(){ft.call({})})&&(ft=pt=function(){return lt.call(this)});var jt=p({},Rt);p(jt,Ot),f(jt,dt,Ot.values),p(jt,{slice:Ft,set:Pt,constructor:function(){},toString:ft,toLocaleString:Bt}),kt(jt,"buffer","b"),kt(jt,"byteOffset","o"),kt(jt,"byteLength","l"),kt(jt,"length","e"),j(jt,mt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,u){var l=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=i[l],v=d||{},y=d&&S(d),x=!d||!s.ABV,w={},E=d&&d.prototype,D=function(t,n){j(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[h](n*e+r.o,wt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,wt)}(this,n,t)},enumerable:!0})};x?(d=n(function(t,n,r,i){c(t,d,l,"_d");var o,a,s,u,h=0,p=0;if(_(n)){if(!(n instanceof q||"ArrayBuffer"==(u=b(n))||"SharedArrayBuffer"==u))return xt in n?Mt(d,n):Tt.call(d,n);o=n,p=At(r,e);var v=n.byteLength;if(i===undefined){if(v%e)throw Y("Wrong length!");if((a=v-p)<0)throw Y("Wrong length!")}else if((a=m(i)*e)+p>v)throw Y("Wrong length!");s=a/e}else s=g(n),o=new q(a=s*e);for(f(t,"_d",{b:o,o:p,l:a,e:s,v:new X(o)});h<s;)D(t,h++)}),E=d.prototype=A(jt),f(E,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&F(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){var o;return c(t,d,l),_(n)?n instanceof q||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?i!==undefined?new v(n,At(r,e),i):r!==undefined?new v(n,At(r,e)):new v(n):xt in n?Mt(d,n):Tt.call(d,n):new v(g(n))}),Z(y!==Function.prototype?C(v).concat(C(y)):C(v),function(t){t in d||f(d,t,v[t])}),d.prototype=E,r||(E.constructor=d));var M=E[dt],k=!!M&&("values"==M.name||M.name==undefined),T=Ot.values;f(d,gt,!0),f(E,xt,l),f(E,bt,!0),f(E,vt,d),(u?new d(1)[mt]==l:mt in E)||j(E,mt,{get:function(){return l}}),w[l]=d,a(a.G+a.W+a.F*(d!=v),w),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){v.of.call(d,1)}),l,{from:Tt,of:Lt}),"BYTES_PER_ELEMENT"in E||f(E,"BYTES_PER_ELEMENT",e),a(a.P,l,Rt),P(l),a(a.P+a.F*Et,l,{set:Pt}),a(a.P+a.F*!k,l,Ot),r||E.toString==ft||(E.toString=ft),a(a.P+a.F*o(function(){new d(1).slice()}),l,{slice:Ft}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){E.toLocaleString.call([1,2])})),l,{toLocaleString:Bt}),R[l]=k?M:T,r||k||f(E,dt,T)}}else t.exports=function(){}},function(t,e,n){var r=n(184),i=n(0),o=n(89)("metadata"),a=o.store||(o.store=new(n(187))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return undefined;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return undefined;i.set(e,o=new r)}return o};t.exports={store:a,map:s,has:function(t,e,n){var r=s(e,n,!1);return r!==undefined&&r.has(t)},get:function(t,e,n){var r=s(e,n,!1);return r===undefined?undefined:r.get(t)},set:function(t,e,n,r){s(n,r,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},key:function(t){return t===undefined||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Overlay=undefined;var r=n(71),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),o=n(16),a=n(74),s=n(26);e.Overlay=r.Evented.extend({options:{map:null,draggable:!1,cursor:"default"},initialize:function(t){i.setOptions(this,t)},mapScroll:{x:0,y:0},delta:{x:0,y:0},setMap:function(t){t?t.addOverlay(this):(t=this.getMap())&&t.removeOverlay(this)},getMap:function(){return this.options.map},_mouseover:function(t){this.getMap()&&(this.getMap()._setMapCursor(this.options.cursor),this.fire("mouseover",(0,a.MapEvent)(this.getMap(),t)))},_mouseout:function(t){this.getMap()&&(this.getMap()._setMapCursor(),this.fire("mouseout",(0,a.MapEvent)(this.getMap(),t)))},isDraggable:function(t){return this.options.draggable},get:function(t){return this[t]},isType:function(t){return!1}});o.Map.include({addOverlay:function(t){if(!t.onAdd)throw new Error("The provided object is not a Layer.");var e=i.stamp(t);if(this.overlays[e])return this;if(this.overlays[e]=t,t.options.map=this,t.onAdd(),t._reload){this.overlayArr||(this.overlayArr=[]),this.overlayArr.push(t);var n=this.overlayArr.length;n>1&&t.options.zIndex<this.overlayArr[n-2].options.zIndex&&(this.overlayArr.sort(function(t,e){return(t.options.zIndex||0)-(e.options.zIndex||0)}),this.RenderOverlay(!0))}return this},removeOverlay:function(t){var e=i.stamp(t);if(!this.overlays[e])return this;if(t.onRemove(),delete this.overlays[e],t.options.map=null,t._reload){var n=this.overlayArr.indexOf(t);this.overlayArr.splice(n,1),this.RenderOverlay()}return this},RenderOverlay:function(t){var e=this.layergl;if(e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.overlayArr)for(var n=0,r=this.overlayArr.length;n<r;n++)t?this.overlayArr[n]._reload():this.overlayArr[n].render()},_overlayhandler:function(t){var e=this.axes.pixel2World(Math.round(t.clientX)*(0,s.getPixelRatio)(),Math.round(t.clientY)*(0,s.getPixelRatio)());if(!this.overlayArr||this._overlay&&this._overlay._isdragging)return!1;for(var n=this.overlayArr.length-1;n>=0;n--){var r=this.overlayArr[n];if(r._contains){var i=r._contains(e);if(i&&this._overlay==r)return!0;if(i)return this._overlay&&(this._overlay._mouseout(t),this._overlay=null),this._overlay=r,this._overlay._mouseover(t),!0;if(this._overlay&&0==n)return this._overlay._mouseout(t),this._overlay=null,!0}}return!1}})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(56)("meta"),i=n(5),o=n(21),a=n(9).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(4)(function(){return u(Object.preventExtensions({}))}),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!o(t,r)&&c(t),t}}},function(t,e){t.exports=!1},function(t,e,n){var r=n(6)("unscopables"),i=Array.prototype;i[r]==undefined&&n(18)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var r=new ArrayBuffer(0);try{e.blob=0===new Blob([r],{type:"application/zip"}).size}catch(o){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),e.blob=0===i.getBlob("application/zip").size}catch(o){e.blob=!1}}}try{e.nodestream=!!n(199).Readable}catch(o){e.nodestream=!1}}).call(e,n(42).Buffer)},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,a;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(a=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeListener=e.addListener=undefined;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.on=h,e.off=p,e.stopPropagation=g,e.disableScrollPropagation=function(t){return d(t,"mousewheel",g),this},e.disableClickPropagation=function(t){return h(t,"mousedown touchstart dblclick",g),d(t,"click",w),this},e.preventDefault=v,e.stop=y,e.getMousePosition=function(t,e){if(!e)return new i.Pixel(t.clientX,t.clientY);var n=(0,l.getScale)(e),r=n.boundingClientRect;return new i.Pixel((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)},e.getWheelDelta=function(t){return a.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/x:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},e.fakeStop=w,e.skipped=E,e.isExternalTarget=A;var i=n(32),o=c(n(1)),a=c(n(26)),s=n(230),u=n(522),l=n(11);function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function h(t,e,n,i){if("object"===(void 0===e?"undefined":r(e)))for(var a in e)d(t,a,e[a],n);else for(var s=0,u=(e=o.splitWords(e)).length;s<u;s++)d(t,e[s],n,i);return this}var f="_leaflet_events";function p(t,e,n,i){if("object"===(void 0===e?"undefined":r(e)))for(var a in e)m(t,a,e[a],n);else if(e)for(var s=0,u=(e=o.splitWords(e)).length;s<u;s++)m(t,e[s],n,i);else{for(var l in t[f])m(t,l,t[f][l]);delete t[f]}return this}function d(t,e,n,r){var i=e+o.stamp(n)+(r?"_"+o.stamp(r):"");if(t[f]&&t[f][i])return this;var l=function(e){return n.call(r||t,e||window.event)},c=l;a.pointer&&0===e.indexOf("touch")?(0,s.addPointerListener)(t,e,l,i):!a.touch||"dblclick"!==e||!u.addDoubleTapListener||a.pointer&&a.chrome?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",l,!1):"mouseenter"===e||"mouseleave"===e?(l=function(e){e=e||window.event,A(t,e)&&c(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",l,!1)):("click"===e&&a.android&&(l=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,r=b&&n-b;if(r&&r>100&&r<500||t.target._simulatedClick&&!t._simulated)return void y(t);b=n,e(t)}(t,c)}),t.addEventListener(e,l,!1)):"attachEvent"in t&&t.attachEvent("on"+e,l):(0,u.addDoubleTapListener)(t,l,i),t[f]=t[f]||{},t[f][i]=l}function m(t,e,n,r){var i=e+o.stamp(n)+(r?"_"+o.stamp(r):""),l=t[f]&&t[f][i];if(!l)return this;a.pointer&&0===e.indexOf("touch")?(0,s.removePointerListener)(t,e,i):!a.touch||"dblclick"!==e||!u.removeDoubleTapListener||a.pointer&&a.chrome?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",l,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,l,!1):"detachEvent"in t&&t.detachEvent("on"+e,l):(0,u.removeDoubleTapListener)(t,i),t[f][i]=null}function g(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,E(t),this}function v(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function y(t){return v(t),g(t),this}var x=a.win&&a.chrome?2*window.devicePixelRatio:a.gecko?window.devicePixelRatio:1;var b,_={};function w(t){_[t.type]=!0}function E(t){var e=_[t.type];return _[t.type]=!1,e}function A(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t}e.addListener=h,e.removeListener=p},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(t===undefined?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(165),i=n(120);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(38),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(2),i=n(166),o=n(120),a=n(119)("IE_PROTO"),s=function(){},u=function(){var t,e=n(117)("iframe"),r=o.length;for(e.style.display="none",n(121).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),e===undefined?n:i(n,e)}},function(t,e,n){var r=n(165),i=n(120).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(3),i=n(9),o=n(8),a=n(6)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||r!==undefined&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(29),i=n(177),o=n(133),a=n(2),s=n(10),u=n(135),l={},c={};(e=t.exports=function(t,e,n,h,f){var p,d,m,g,v=f?function(){return t}:u(t),y=r(n,h,e?2:1),x=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=s(t.length);p>x;x++)if((g=e?y(a(d=t[x])[0],d[1]):y(t[x]))===l||g===c)return g}else for(m=v.call(t);!(d=m.next()).done;)if((g=i(m,y,d.value,e))===l||g===c)return g}).BREAK=l,e.RETURN=c},function(t,e,n){var r=n(19);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var i=n(144),o=n(83);o.inherits=n(73);var a=n(200),s=n(145);o.inherits(h,a);for(var u=r(s.prototype),l=0;l<u.length;l++){var c=u[l];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i(p,this)}function p(t){t.end()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MMMgr=e.MMConstant=undefined;var r=n(35),i=n(17),o=p(n(517)),a=f(n(81)),s=p(n(104)),u=f(n(85)),l=f(n(143)),c=n(152),h=n(41);function f(t){return t&&t.__esModule?t:{"default":t}}function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}e.MMConstant={diameter:1073741824,radii:536870912,ROADLAYERCNT:14,LINELAYERCNT:2},e.MMMgr=function(){var t;return{getInstance:e};function e(){return t===undefined&&(t=new function(){var t=function(){var t=[],e=c.ZOOMCONF.length;t.length=e;for(var n=0;n<c.ZOOMCONF.length;n++){var r=c.ZOOMCONF[n].val;t[n]=r}return t}();this.iconConf=null,this.datConf=null;var e=this;this.getZoomVar=function(e){return t[e]},this.init=function(t){!function(t){d("0:0:0:1",function(e,n,r,i){var o=new function(){this.confs={},this.getLvs=function(t,e){if(!this.confs)return null;for(var n=[],r=this.confs[t],i=0;i<r.length;i++){var o=r[i];o.upZoom<e||o.lowZoom>=e||n.push(o.lv)}return n}},a=new Uint8Array(n.buffer,r+8,i-8),s=String.fromCharCode.apply(null,a),u=decodeURIComponent(escape(s)),l=new DOMParser,c=l.parseFromString(u,"text/xml"),h=c.getElementsByTagName("layer");if(h)for(var f=0;f<h.length;f++){var p=h[f].getAttribute("datatype"),d=h[f].getElementsByTagName("level"),m=[];if(d)for(var g=0;g<d.length;g++){var v=parseFloat(d[g].getAttribute("level")),y=parseFloat(d[g].getAttribute("upzoom")),x=parseFloat(d[g].getAttribute("lowzoom")),b={lv:v,upZoom:y,lowZoom:x};m.push(b)}o.confs[p]=m}t&&t(o)})}(function(n){e.datConf=n,t&&t()}),function(t){d("0:0:0:2",function(e,n,r,i){var o=new l["default"],a=n.subarray(r,r+i);o.loadAsync(a).then(function(e){Promise.all([e.file("iconconf.xml").async("string"),e.file("icon.png").async("blob")]).then(function(e){var n={},r=new DOMParser,i=r.parseFromString(e[0],"text/xml"),o=i.getElementsByTagName("iconconf"),a=parseInt(o[0].getAttribute("rows")),s=parseInt(o[0].getAttribute("cols")),u=window.URL.createObjectURL(e[1]),l=new Image;l.src=u,l.onload=function(){n.cols=s,n.rows=a,n.img=l,n.iconWidth=parseInt(l.width/s),n.iconHeight=parseInt(l.height/a),t&&t(n)}})})})}(function(n){e.iconConf=n,t&&t()})},this.key=function(t,e,n,r){return t+":"+e+":"+n+":"+r},this.getTileDat=function(t,e){d(t,function(t,n,r,i){e(t,n,r,i)},function(){e(t,null)})},this.gcj2mercator=function(t,e){var n={x:t,y:e};switch(r.Conf.datAxe){case r.DatSourceAxes.WGS84:var a=(0,i.SkMercatortoLonLat)(t,e);a=o.gcj02towgs84(a.lng,a.lat),n=(0,i.SkLonLat2Mercator)(a[0],a[1])}return n},this.mercator2gcj=function(t,e){var n=(0,i.SkMercatortoLonLat)(t,e);switch(r.Conf.datAxe){case r.DatSourceAxes.WGS84:n=o.wgs84togcj02(n.lng,n.lat)}return n=(0,h.toLngLat)(n)}}),t}}();function d(t,e,n){var i=[t],o=new ArrayBuffer(16*i.length+4),l=new DataView(o);l.setInt32(0,i.length,!1);for(var c=4,h=0;h<i.length;h++){var f=i[h].split(":");if(4==f.length)for(var p=0;p<4;p++)l.setInt32(c,parseInt(f[p]),!1),c+=4}var m=r.UrlConf.getUrl("mm"),g=(new Date).getTime(),v=t.split(":").toString();function y(){n?n():setTimeout(function(){d(t,e)},1e3)}(0,a["default"])(m+"&t="+v+"&rid="+g,{param:"jsonp"},function(t,n){if(t)y();else if("ok"==n.status.toLowerCase())for(var r=s.urlBase64ToUint8Array(n.data),i=new DataView(r.buffer),o=(i.getInt32(0,!1),i.getInt32(4,!1),i.getInt32(8,!1),i.getInt32(12,!1),new Uint8Array(r.buffer,16)),a=u["default"].inflate(o),l=(i=new DataView(a.buffer)).getInt32(0,!1),c=4,h=0;h<l;h++){var f=i.getInt32(c,!1);c+=4;var p=i.getInt32(c,!1);c+=4;var d=i.getInt32(c,!1);c+=4;var m=i.getInt32(c,!1);c+=4;var g=i.getInt32(c,!1);e(f+":"+p+":"+d+":"+m,a,c+=4,g),c+=g}else y()})}},function(t,e,n){var r=n(9).f,i=n(21),o=n(6)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(0),i=n(37),o=n(4),a=n(123),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t,e,n){var i={},s=o(function(){return!!a[t]()||"​"!="​"[t]()}),u=i[t]=s?e(h):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},h=c.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e){t.exports={}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnResizeEvent=e.Evented=e.Events=undefined;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(105),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1));var a=e.Events={on:function(t,e,n){if("object"===(void 0===t?"undefined":r(t)))for(var i in t)this._on(i,t[i],e);else for(var a=0,s=(t=o.splitWords(t)).length;a<s;a++)this._on(t[a],e,n);return this},off:function(t,e,n){if(t)if("object"===(void 0===t?"undefined":r(t)))for(var i in t)this._off(i,t[i],e);else for(var a=0,s=(t=o.splitWords(t)).length;a<s;a++)this._off(t[a],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=undefined);for(var i={fn:e,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(i)},_off:function(t,e,n){var r,i,a;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=undefined),r)for(i=0,a=r.length;i<a;i++){var s=r[i];if(s.ctx===n&&s.fn===e)return s.fn=o.falseFn,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,a=r.length;i<a;i++)r[i].fn=o.falseFn;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var r=o.extend({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var i=this._events[t];if(i){this._firingCount=this._firingCount+1||1;for(var a=0,s=i.length;a<s;a++){var u=i[a];u.fn.call(u.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"===(void 0===t?"undefined":r(t))){for(var i in t)this.once(i,t[i],e);return this}var a=o.bind(function(){this.off(t,e,n).off(t,a,n)},this);return this.on(t,e,n).on(t,a,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,o.extend({layer:t.target,propagatedFrom:t.target},t),!0)}};a.addEventListener=a.on,a.removeEventListener=a.clearAllEventListeners=a.off,a.addOneTimeEventListener=a.once,a.fireEvent=a.fire,a.hasEventListeners=a.listens;e.Evented=i.Class.extend(a),e.OnResizeEvent={addEvent:function(t,e,n){document.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},onResizend:function(t){var e=null;this.addEvent(window,"resize",function(){"resizing",e&&clearTimeout(e),e=setTimeout(function(){t&&t(),"normal"},500)})},onResizestart:function(t){var e=!1;this.onResizend(function(){e=!1}),this.addEvent(window,"resize",function(){e||(t&&t(),e=!0)})}}},function(t,e,n){"use strict";for(var r=n(7),i=n(52),o=n(108),a=n(25),s=new Array(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}e.utf8encode=function(t){return i.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,r,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=i.uint8array?new Uint8Array(u):new Array(u),a=0,o=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e}(t)},e.utf8decode=function(t){return i.nodebuffer?r.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,o,a=t.length,u=new Array(2*a);for(n=0,e=0;e<a;)if((i=t[e++])<128)u[n++]=i;else if((o=s[i])>4)u[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&e<a;)i=i<<6|63&t[e++],o--;o>1?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(t=r.transformTo(i.uint8array?"uint8array":"array",t))},r.inherits(l,a),l.prototype.processChunk=function(t){var n=r.transformTo(i.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=n;(n=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),n.set(o,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}(n),u=n;a!==n.length&&(i.uint8array?(u=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(u=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:e.utf8decode(u),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=l,r.inherits(c,a),c.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=c},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapEvent=function(t,e){var n={x:0,y:0};if(e.srcEvent){var o=e.target.getBoundingClientRect();n.x=e.center.x-o.left,n.y=e.center.y-o.top}else{var a=(0,i.offset)(e.target),s=e.clientX+document.body.scrollLeft,u=e.clientY+document.body.scrollTop;n.x=s-a.left,n.y=u-a.top}var l=new r.Pixel(n.x,n.y),c=t.containerToLngLat(l);return{pixel:l,lnglat:c}};var r=n(32),i=n(11)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Control=undefined;var r=n(71),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(11)),o=n(16);e.Control=r.Evented.extend({addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t);return t.controlsDiv.appendChild(e),this},remove:function(){return this._map?(i.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},getMap:function(){return this._map}});o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(this),this}})},function(t,e,n){"use strict";function r(t){return void 0===t||null===t}t.exports.isNothing=r,t.exports.isObject=function(t){return"object"==typeof t&&null!==t},t.exports.toArray=function(t){return Array.isArray(t)?t:r(t)?[]:[t]},t.exports.repeat=function(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},t.exports.isNegativeZero=function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},t.exports.extend=function(t,e){var n,r,i,o;if(e)for(n=0,r=(o=Object.keys(e)).length;n<r;n+=1)t[i=o[n]]=e[i];return t}},function(t,e,n){"use strict";var r=n(76),i=n(87),o=n(13);function a(t,e,n){var r=[];return t.include.forEach(function(t){n=a(t,e,n)}),t[e].forEach(function(t){n.forEach(function(e,n){e.tag===t.tag&&e.kind===t.kind&&r.push(n)}),n.push(t)}),n.filter(function(t,e){return-1===r.indexOf(e)})}function s(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=a(this,"implicit",[]),this.compiledExplicit=a(this,"explicit",[]),this.compiledTypeMap=function(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(t){n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}s.DEFAULT=null,s.create=function(){var t,e;switch(arguments.length){case 1:t=s.DEFAULT,e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}if(t=r.toArray(t),e=r.toArray(e),!t.every(function(t){return t instanceof s}))throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!e.every(function(t){return t instanceof o}))throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new s({include:t,explicit:e})},t.exports=s},function(t,e,n){var r=n(30);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(30),i=n(6)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return t===undefined?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(461)("jsonp");t.exports=function(t,e,n){"function"==typeof e&&(n=e,e={});e||(e={});var a,s,u=e.prefix||"__jp",l=e.name||u+i++,c=e.param||"callback",h=null!=e.timeout?e.timeout:6e4,f=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head;h&&(s=setTimeout(function(){d(),n&&n(new Error("Timeout"))},h));function d(){a.parentNode&&a.parentNode.removeChild(a),window[l]=o,s&&clearTimeout(s)}return window[l]=function(t){r("jsonp got",t),d(),n&&n(null,t)},t=(t+=(~t.indexOf("?")?"&":"?")+c+"="+f(l)).replace("?&","?"),r('jsonp req "%s"',t),(a=document.createElement("script")).src=t,p.parentNode.insertBefore(a,p),function(){window[l]&&d()}};var i=0;function o(){}},function(t,e,n){"use strict";function r(t,e){this.width=t,this.height=e}Object.defineProperty(e,"__esModule",{value:!0}),e.Size=r,r.prototype={getWidth:function(){return this.width},getHeight:function(){return this.height},toString:function(){return this.width+","+this.height}}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(e,n(42).Buffer)},function(t,e,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:n(491),t.exports={Promise:r}},function(t,e,n){"use strict";var r={};(0,n(53).assign)(r,n(498),n(501),n(218)),t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.styleConf={normal:{horverfillStyle:"#0000f0",horverstrokeStyle:"#ffffff",url:"0:0:0:3",dir:"daymode/",showbuilding:!0,name:"theme"},dark:{horverfillStyle:"#0000f0",horverstrokeStyle:"#ffffff",url:"0:0:0:3",dir:"xuanh/",showbuilding:!1,name:"xuanh"},whitesmoke:{horverfillStyle:"#0000f0",horverstrokeStyle:"#ffffff",url:"0:0:0:3",dir:"shuim/",showbuilding:!1,name:"shuim"},fresh:{horverfillStyle:"#0000f0",horverstrokeStyle:"#ffffff",url:"0:0:0:3",dir:"yaq/",showbuilding:!1,name:"yaq"},graffiti:{horverfillStyle:"#0000f0",horverstrokeStyle:"#ffffff",url:"0:0:0:3",dir:"tangg/",showbuilding:!1,name:"tangg"},macaron:{horverfillStyle:"#0000f0",horverstrokeStyle:"#ffffff",url:"0:0:0:3",dir:"makal/",showbuilding:!1,name:"makal"},darkblue:{horverfillStyle:"#0000f0",horverstrokeStyle:"#ffffff",url:"0:0:0:3",dir:"xingk/",showbuilding:!1,name:"xingk"},wine:{horverfillStyle:"#0000f0",horverstrokeStyle:"#ffffff",url:"0:0:0:3",dir:"liey/",showbuilding:!1,name:"liey"}}},function(t,e,n){"use strict";function r(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(t){var e=this.name+": ";return e+=this.reason||"(unknown reason)",!t&&this.mark&&(e+=" "+this.mark.toString()),e},t.exports=r},function(t,e,n){"use strict";var r=n(77);t.exports=new r({include:[n(251)],implicit:[n(578),n(579)],explicit:[n(580),n(581),n(582),n(583)]})},function(t,e,n){var r=n(28),i=n(3),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=e!==undefined?e:{})})("versions",[]).push({version:r.version,mode:n(50)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(22),i=n(10),o=n(58);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(30);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(5),i=n(30),o=n(6)("match");t.exports=function(t){var e;return r(t)&&((e=t[o])!==undefined?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(6)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(a){}return n}},function(t,e,n){"use strict";var r=n(2);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(18),i=n(19),o=n(4),a=n(37),s=n(6);t.exports=function(t,e,n){var u=s(t),l=n(a,u,""[t]),c=l[0],h=l[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,c),r(RegExp.prototype,u,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){var r=n(2),i=n(14),o=n(6)("species");t.exports=function(t,e){var n,a=r(t).constructor;return a===undefined||(n=r(a)[o])==undefined?e:i(n)}},function(t,e,n){var r=n(3).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(3),i=n(0),o=n(19),a=n(64),s=n(49),u=n(63),l=n(62),c=n(5),h=n(4),f=n(94),p=n(67),d=n(124);t.exports=function(t,e,n,m,g,v){var y=r[t],x=y,b=g?"set":"add",_=x&&x.prototype,w={},E=function(t){var e=_[t];o(_,t,"delete"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?undefined:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof x&&(v||_.forEach&&!h(function(){(new x).entries().next()}))){var A=new x,S=A[b](v?{}:-0,1)!=A,C=h(function(){A.has(1)}),D=f(function(t){new x(t)}),M=!v&&h(function(){for(var t=new x,e=5;e--;)t[b](e,e);return!t.has(-0)});D||((x=e(function(e,n){l(e,x,t);var r=d(new y,e,x);return n!=undefined&&u(n,g,r[b],r),r})).prototype=_,_.constructor=x),(C||M)&&(E("delete"),E("has"),g&&E("get")),(M||S)&&E(b),v&&_.clear&&delete _.clear}else x=m.getConstructor(e,t,g,b),a(x.prototype,n),s.NEED=!0;return p(x,t),w[t]=x,i(i.G+i.W+i.F*(x!=y),w),v||m.setStrong(x,t,g),x}},function(t,e,n){for(var r,i=n(3),o=n(18),a=n(56),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[f[h++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,n){"use strict";t.exports=n(50)||!n(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(3)[t]})},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(0),i=n(14),o=n(29),a=n(63);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),(e=u!==undefined)&&i(u),t==undefined?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.urlBase64ToUint8Array=function(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Class=i;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1));function i(){}i.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=r.create(n);for(var o in i.constructor=e,e.prototype=i,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(e[o]=this[o]);return t.statics&&(r.extend(e,t.statics),delete t.statics),t.includes&&(!function(t){if("undefined"==typeof L||!L||!L.Mixin)return;t=r.isArray(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(t.includes),r.extend.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=r.extend(r.create(i.options),t.options)),r.extend(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},i.include=function(t){return r.extend(this.prototype,t),this},i.mergeOptions=function(t){return r.extend(this.prototype.options,t),this},i.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this}},function(t,e,n){t.exports=i;var r=n(107).EventEmitter;function i(){r.call(this)}n(73)(i,r),i.Readable=n(467),i.Writable=n(473),i.Duplex=n(474),i.Transform=n(475),i.PassThrough=n(476),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function l(t){if(c(),0===r.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",l),t.on("error",l),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||undefined}function r(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=undefined,n.prototype._maxListeners=undefined,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(n=this._events[t]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!r(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,n){return new e(t,n)},allocBuffer:function(t){return e.alloc?e.alloc(t):new e(t)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(e,n(42).Buffer)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkInterLayer=e.SkTile=undefined;var r=n(34),i=n(16),o=n(111),a=n(33),s=n(523),u=n(153),l=(x(n(85)),x(n(112))),c=x(n(526)),h=n(155),f=n(156),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),d=n(86),m=n(71),g=n(527),v=n(66),y=n(17);function x(t){return t&&t.__esModule?t:{"default":t}}var b=e.SkTile=function(t,e,n,r,u,l,h,p,d){var m=this;this.tileid=r,this.datatype=u,this.dataReady=!1;var y=v.MMConstant.diameter/Math.pow(2,l);this.env=new i.SkEnvelope,this.env.startLon=h*y,this.env.startLat=p*y,this.env.endLon=this.env.startLon+y,this.env.endLat=this.env.startLat+y,v.MMMgr.getInstance().getTileDat(m.tileid,function(r,i,h,p){if(r!=m.tileid)return;if(!i)return m.errorCnt?m.errorCnt++:m.errorCnt=1,void(m.errorCnt<4?setTimeout(function(){v.MMMgr.getInstance().getTileDat(m.tileid,fetchCb)},1e3):console.log("fetch data:"+m.tileid+"fail"));if(0==p)return m.isEmpty=!0,m.dataReady=!0,void t.postInvalidate();var y=new DataView(i.buffer,h,p);if(0==u){var x=y.getUint8(0);if(0==x){m.isImg=!0;var b=i.slice(h+1,h+p),_=c["default"].decode(b);m.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,m.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGB,_.width,_.height,0,e.RGB,e.UNSIGNED_BYTE,_.data),e.bindTexture(e.TEXTURE_2D,null)}else if(1==x){m.iAreaIndexCnt=0,m.areaBuffer=0,m.areaIndexBuffer=0;var w=(0,o.BufferNew)(y);(0,o.BufferSkip)(w,1);for(var E=(0,o.BufferGetInt32)(w),A=0,S=0,C=0,D=0;D<E;D++){var M=(0,o.BufferGetUint16)(w),k=(0,o.BufferGetUint16)(w);S+=k,(0,o.BufferSkip)(w,4*k);var T=(0,o.BufferGetInt16)(w);C+=T,k<255?(0,o.BufferSkip)(w,T):(0,o.BufferSkip)(w,2*T)}(0,o.BufferReset)(w),(0,o.BufferSkip)(w,1);var L=new ArrayBuffer(8*S),I=new DataView(L),B=new Uint16Array(C);E=(0,o.BufferGetInt32)(w);for(var D=0;D<E;D++){var M=(0,o.BufferGetUint16)(w),k=(0,o.BufferGetUint16)(w),R=n.getRegionTheme(l,M),F={r:23,g:23,b:23,a:255};if(R){F=R.m_Color;for(var P=0;P<k;P++)I.setUint16(8*(A+P)+0,(0,o.BufferGetUint16)(w),!0),I.setUint16(8*(A+P)+2,(0,o.BufferGetUint16)(w),!0),I.setUint8(8*(A+P)+4,F.r),I.setUint8(8*(A+P)+5,F.g),I.setUint8(8*(A+P)+6,F.b),I.setUint8(8*(A+P)+7,F.a);var T=(0,o.BufferGetInt16)(w);if(k<255)for(var P=0;P<T;P++)B[m.iAreaIndexCnt]=(0,o.BufferGetUint8)(w)+A,m.iAreaIndexCnt++;else for(var P=0;P<T;P++)B[m.iAreaIndexCnt]=(0,o.BufferGetUint16)(w)+A,m.iAreaIndexCnt++;A+=k}else{(0,o.BufferSkip)(w,4*k);var T=(0,o.BufferGetInt16)(w);k<255?(0,o.BufferSkip)(w,T):(0,o.BufferSkip)(w,2*T)}}m.areaBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,m.areaBuffer),e.bufferData(e.ARRAY_BUFFER,L,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),m.areaIndexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,m.areaIndexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,B,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}}else if(1==u){for(var w=(0,o.BufferNew)(y),x=(0,o.BufferGetUint8)(w),O=(0,o.BufferGetUint8)(w),N=x%16,U=new Int32Array(9),z=0,P=0;P<2;P++)0!=(1&N)&&(U[P]=1),N>>=1;for(var P=0;P<7;P++)0!=(1&O)&&(U[P+2]=1),O>>=1;for(var j=new Int32Array(9),P=0;P<9;P++)if(1==U[P]){var W=(0,o.BufferGetUint16)(w);j[P]=W,z++}for(var Y=0,G=new Int32Array(v.MMConstant.ROADLAYERCNT),V=0,H=new Int32Array(v.MMConstant.LINELAYERCNT),D=0;D<9;D++)if(D<2)for(var P=0;P<j[D];P++){var M=(0,o.BufferGetUint16)(w),k=(0,o.BufferGetUint16)(w),q=k%4;k=parseInt(k/4),(0,o.BufferSkip)(w,3+(k-1)*(q+1)),V+=4*k-4,H[D]+=6*(2*k-3)}else for(var P=0;P<j[D];P++){var M=(0,o.BufferGetUint8)(w),k=(0,o.BufferGetUint16)(w),q=k%4;k=parseInt(k/4),(0,o.BufferSkip)(w,3+(k-1)*(q+1)),Y+=4*k,G[2*(D-2)+1]+=6*(2*k-1);var R=n.getPlineTheme(l,M);R&&R.m_iBordWidth>0&&(G[2*(D-2)]+=6*(2*k-1))}(0,o.BufferReset)(w),(0,o.BufferSkip)(w,2+2*z);var X={linePoints:null,lineIndex:{}};V>0&&(X.linePoints=new ArrayBuffer(20*V),X.linePointsDV=new DataView(X.linePoints));for(var D=0;D<v.MMConstant.LINELAYERCNT;D++)H[D]>0&&(X.lineIndex[D]=new Uint16Array(H[D]));X.linePointCnt=0,X.lineIndexCnt=new Int32Array(v.MMConstant.LINELAYERCNT),X.routePoints=null,X.routeIndex={},Y>0&&(X.routePoints=new ArrayBuffer(32*Y),X.routePointsDV=new DataView(X.routePoints));for(var D=0;D<v.MMConstant.ROADLAYERCNT;D++)G[D]>0&&(X.routeIndex[D]=new Uint16Array(G[D]));X.routePointCnt=0,X.routeIndexCnt=new Int32Array(v.MMConstant.ROADLAYERCNT);for(var D=0;D<9;D++)if(D<2)for(var P=0;P<j[D];P++){var M=(0,o.BufferGetUint16)(w),k=(0,o.BufferGetUint16)(w),q=k%4;k=parseInt(k/4);var R=n.getPlineTheme(l,M);if(R){var Z=new Float32Array(2*k),J=(0,o.BufferGetTrid)(w),K=(0,a.morten2xy9)(J);Z[0]=K.x,Z[1]=K.y;for(var $=1;$<k;$++)0==q?J+=(0,o.BufferGetInt8)(w):1==q?J+=(0,o.BufferGetInt16)(w):2==q?J+=(0,o.BufferGetTrid)(w)-8388608:3==q&&(J+=(0,o.BufferGetInt32)(w)),K=(0,a.morten2xy9)(J),Z[2*$+0]=K.x,Z[2*$+1]=K.y;(0,a.ParCacheLine2Triangle)(Z,k,X,D,R)}else(0,o.BufferSkip)(w,3+(k-1)*(q+1))}else for(var P=0;P<j[D];P++){var M=(0,o.BufferGetUint8)(w),k=(0,o.BufferGetUint16)(w),q=k%4;k=parseInt(k/4);var Q=!1,tt=!1,et=!1;l>=17?(Q=!1,tt=!0,et=!0):l>=15&&(Q=!0);var Z=new Float32Array(2*k),J=(0,o.BufferGetTrid)(w),K=(0,a.morten2xy9)(J);Z[0]=K.x,Z[1]=K.y,Q&&(tt=510!=Zt&&510!=Jt&&0!=Zt&&0!=Jt);for(var $=1;$<k;$++)0==q?J+=(0,o.BufferGetInt8)(w):1==q?J+=(0,o.BufferGetInt16)(w):2==q?J+=(0,o.BufferGetTrid)(w)-8388608:3==q&&(J+=(0,o.BufferGetInt32)(w)),K=(0,a.morten2xy9)(J),Z[2*$+0]=K.x,Z[2*$+1]=K.y,Q&&k-1==$&&(et=510!=Zt&&510!=Jt&&0!=Zt&&0!=Jt);var R=n.getPlineTheme(l,M);R&&(0,a.ParCacheRoute2Triangle)(Z,k,X,D-2,R,tt,et)}0<X.linePointCnt&&(m.m_LineVBO=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,m.m_LineVBO),e.bufferData(e.ARRAY_BUFFER,X.linePoints,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)),0<X.routePointCnt&&(m.m_RouteVBO=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,m.m_RouteVBO),e.bufferData(e.ARRAY_BUFFER,X.routePoints,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)),m.m_LineIBO={},m.m_iLineICnt=X.lineIndexCnt;for(var D=0;D<v.MMConstant.LINELAYERCNT;D++)0<X.lineIndexCnt[D]&&(m.m_LineIBO[D]=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,m.m_LineIBO[D]),e.bufferData(e.ELEMENT_ARRAY_BUFFER,X.lineIndex[D],e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null));m.m_RouteIBO={},m.m_iRouteICnt=X.routeIndexCnt;for(var D=0;D<v.MMConstant.ROADLAYERCNT;D++)0<X.routeIndexCnt[D]&&(m.m_RouteIBO[D]=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,m.m_RouteIBO[D]),e.bufferData(e.ELEMENT_ARRAY_BUFFER,X.routeIndex[D],e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))}else if(2==u){m.vbo=0,m.fibo=0,m.libo=0,m.sibo=0,m.iFaceIndexCnt=0,m.iLineIndexCnt=0,m.iShadowIndexCnt=0;for(var w=(0,o.BufferNew)(y),x=(0,o.BufferGetUint8)(w),nt=(0,o.BufferGetUint32)(w),Y=0,rt=0,H=0,it=0,P=0;P<nt;P++){var ot=(0,o.BufferGetInt32)(w),at=1;t.opts.buildingLayerColor&&(at=Math.max(1,Math.floor(ot/8)));var k=(0,o.BufferGetUint32)(w),st=(0,o.BufferGetUint32)(w);Y+=2*k*at,Y+=st*at;var ut=2*k+st>=255;if((0,o.BufferSkip)(w,4*k),(0,o.BufferSkip)(w,4*st),ut){var lt=(0,o.BufferGetUint16)(w);rt+=lt*at,(0,o.BufferSkip)(w,2*lt);var ct=(0,o.BufferGetUint16)(w);ct>=2&&(H+=2*(ct-1)*at),(0,o.BufferSkip)(w,2*ct);var ht=(0,o.BufferGetUint16)(w);it+=ht*at,(0,o.BufferSkip)(w,2*ht)}else{var lt=(0,o.BufferGetUint16)(w);rt+=lt*at,(0,o.BufferSkip)(w,lt);var ct=(0,o.BufferGetUint16)(w);ct>=2&&(H+=2*(ct-1)*at),(0,o.BufferSkip)(w,ct);var ht=(0,o.BufferGetUint16)(w);it+=ht*at,(0,o.BufferSkip)(w,ht)}}(0,o.BufferReset)(w),(0,o.BufferSkip)(w,1),nt=(0,o.BufferGetUint32)(w);for(var ft=0,pt=new ArrayBuffer(10*Y),dt=new DataView(pt),mt=new Uint16Array(rt),gt=new Uint16Array(H),vt=new Uint16Array(it),P=0;P<nt;P++){var ot=(0,o.BufferGetUint32)(w),at=1;t.opts.buildingLayerColor&&(at=Math.max(1,Math.floor(ot/8)));for(var yt=w.offset,xt=0,bt=0,_t=0,wt=0,Et=0,At=0,St=0;St<at;St++){w.offset=yt,t.opts.buildingLayerColor?(xt=parseInt(256*Math.random()),bt=parseInt(256*Math.random()),_t=parseInt(256*Math.random()),wt=parseInt(256*Math.random()),Et=parseInt(256*Math.random()),At=parseInt(256*Math.random())):(xt=230,bt=230,_t=230,wt=200,Et=200,At=200);for(var k=(0,o.BufferGetUint32)(w),st=(0,o.BufferGetUint32)(w),ut=2*k+st>=255,Ct=0;Ct<k;Ct++)dt.setInt16(10*(ft+Ct)+0,(0,o.BufferGetUint16)(w)-8160,!0),dt.setInt16(10*(ft+Ct)+2,(0,o.BufferGetUint16)(w)-8160,!0),dt.setInt16(10*(ft+Ct)+4,0,!0),dt.setUint8(10*(ft+Ct)+6,xt),dt.setUint8(10*(ft+Ct)+7,bt),dt.setUint8(10*(ft+Ct)+8,_t),dt.setUint8(10*(ft+Ct)+9,180);for(var Ct=0;Ct<k;Ct++)dt.setInt16(10*(ft+k+Ct)+0,dt.getInt16(10*(ft+Ct)+0,!0),!0),dt.setInt16(10*(ft+k+Ct)+2,dt.getInt16(10*(ft+Ct)+2,!0),!0),dt.setInt16(10*(ft+Ct)+4,0,!0),dt.setUint8(10*(ft+k+Ct)+6,wt),dt.setUint8(10*(ft+k+Ct)+7,Et),dt.setUint8(10*(ft+k+Ct)+8,At),dt.setUint8(10*(ft+k+Ct)+9,180);for(var Ct=0;Ct<st;Ct++)dt.setInt16(10*(ft+Ct+2*k)+0,(0,o.BufferGetUint16)(w)-8160,!0),dt.setInt16(10*(ft+Ct+2*k)+2,(0,o.BufferGetUint16)(w)-8160,!0);if(ut){for(var lt=(0,o.BufferGetUint16)(w),Ct=0;Ct<lt;Ct++)mt[m.iFaceIndexCnt]=(0,o.BufferGetUint16)(w)+ft,m.iFaceIndexCnt++;var ct=(0,o.BufferGetUint16)(w);if(ct>=2&&St==at-1){gt[m.iLineIndexCnt]=(0,o.BufferGetUint16)(w)+ft,m.iLineIndexCnt++,gt[m.iLineIndexCnt]=(0,o.BufferGetUint16)(w)+ft,m.iLineIndexCnt++;for(var Ct=2;Ct<ct;Ct++)gt[m.iLineIndexCnt]=gt[m.iLineIndexCnt-1],m.iLineIndexCnt++,gt[m.iLineIndexCnt]=(0,o.BufferGetUint16)(w)+ft,m.iLineIndexCnt++}else(0,o.BufferSkip)(w,2*ct);for(var ht=(0,o.BufferGetUint16)(w),Ct=0;Ct<ht;Ct++)vt[m.iShadowIndexCnt]=(0,o.BufferGetUint16)(w)+ft,m.iShadowIndexCnt++}else{for(var lt=(0,o.BufferGetUint16)(w),Ct=0;Ct<lt;Ct++)mt[m.iFaceIndexCnt]=(0,o.BufferGetUint8)(w)+ft,m.iFaceIndexCnt++;var ct=(0,o.BufferGetUint16)(w);if(ct>=2&&St==at-1){gt[m.iLineIndexCnt]=(0,o.BufferGetUint8)(w)+ft,m.iLineIndexCnt++,gt[m.iLineIndexCnt]=(0,o.BufferGetUint8)(w)+ft,m.iLineIndexCnt++;for(var Ct=2;Ct<ct;Ct++)gt[m.iLineIndexCnt]=gt[m.iLineIndexCnt-1],m.iLineIndexCnt++,gt[m.iLineIndexCnt]=(0,o.BufferGetUint8)(w)+ft,m.iLineIndexCnt++}else(0,o.BufferSkip)(w,ct);for(var ht=(0,o.BufferGetUint16)(w),Ct=0;Ct<ht;Ct++)vt[m.iShadowIndexCnt]=(0,o.BufferGetUint8)(w)+ft,m.iShadowIndexCnt++}ft+=2*k+st}}m.vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,m.vbo),e.bufferData(e.ARRAY_BUFFER,pt,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),m.fibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,m.fibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,mt,e.STATIC_DRAW),m.libo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,m.libo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,gt,e.STATIC_DRAW),m.sibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,m.sibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,vt,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}else if(3==u){var w=(0,o.BufferNew)(y),x=(0,o.BufferGetUint8)(w),k=(0,o.BufferGetUint32)(w);m.pois=[],m.themeZoom=-1;for(var Dt=t.getZoom(),Mt=!1,P=0;P<k;P++){(0,o.BufferSkip)(w,1);var kt=(0,o.BufferGetUint32)(w),Tt=(0,o.BufferGetInt32)(w),Lt=(0,o.BufferGetInt32)(w),It=(0,o.BufferGetUint8)(w);if(!(It<=0)){for(var Bt=new Uint16Array(It),Ct=0;Ct<It;Ct++)Bt[Ct]=(0,o.BufferGetUint16)(w),12288==Bt[Ct]?Bt[Ct]=32:Bt[Ct]>65280&&Bt[Ct]<65375&&(Bt[Ct]-=65248);var Rt=String.fromCharCode.apply(null,Bt);275004!=kt&&275003!=kt||(Rt=Rt.replace("市","")),Dt<=7&&("香港"==Rt||"澳门"==Rt)&&(Mt=!0);var Ft=v.MMMgr.getInstance().gcj2mercator(Tt,Lt);m.pois.push(new f.SkPointLabel(kt,Ft.x,Ft.y,Rt))}}if(Mt){var Pt=m.pois.findIndex(function(t,e,n){return"香港"==t.names[0]}),Ot=m.pois[Pt],Nt=m.pois.findIndex(function(t,e,n){return"澳门"==t.names[0]}),Ut=m.pois[Nt];-1!=Nt&&-1!=Pt&&Nt>Pt&&(Ut._m_iPosFlag=2,Ut._padding=-3,Ut._if="map.getZoom() ==4&&(this.pixelX+=this._padding)",Ot._padding=3,Ot._if="map.getZoom() ==4&&(this.pixelX+=this._padding)",m.pois[Pt]=Ut,m.pois[Nt]=Ot)}for(var D=0;D<g.poiData.length;D++)if(g.poiData[D].minZoom<=l&&g.poiData[D].maxZoom>=l)if(g.poiData[D].kind)m.pois.push(new f.SkPointLabel(g.poiData[D].kind,g.poiData[D].lon,g.poiData[D].lat,g.poiData[D].name));else if(g.poiData[D].theme){var zt=new f.SkPointLabel(g.poiData[D].kind,g.poiData[D].lon,g.poiData[D].lat,g.poiData[D].name);zt.properties.theme=g.poiData[D].theme,m.pois.push(zt)}m.pois=(0,a.SkSortPoiLabels)(m.pois)}else if(4==u){var w=(0,o.BufferNew)(y),x=(0,o.BufferGetUint8)(w),jt=0,j=(0,o.BufferGetUint16)(w),Wt=v.MMMgr.getInstance().gcj2mercator(m.env.startLon,m.env.startLat),Yt=v.MMMgr.getInstance().gcj2mercator(m.env.endLon,m.env.endLat),Gt=Yt.x-Wt.x;m.labels=[],m.themeZoom=-1;for(var P=0;P<j;P++){for(var It=(0,o.BufferGetUint8)(w),Bt=new Uint16Array(It),Ct=0;Ct<It;Ct++)Bt[Ct]=(0,o.BufferGetUint16)(w),12288==Bt[Ct]?Bt[Ct]=32:Bt[Ct]>65280&&Bt[Ct]<65375&&(Bt[Ct]-=65248);for(var Rt=String.fromCharCode.apply(null,Bt),Vt=22*It,ft=(0,o.BufferGetUint16)(w),pt=new Int32Array(4*ft),Ht=0,Ct=0;Ct<ft;Ct++){0==Ct?Ht=(0,o.BufferGetUint8)(w):(0,o.BufferSkip)(w,1);var qt=(0,o.BufferGetUint8)(w),Xt=3.1415926*(qt-45)/180,Zt=(0,o.BufferGetUint8)(w),Jt=(0,o.BufferGetUint8)(w);pt[4*Ct+0]=Wt.x+(Zt-Math.cos(-Xt)*Vt/2)*Gt/255,pt[4*Ct+1]=Wt.y+(Jt-Math.sin(-Xt)*Vt/2)*Gt/255,pt[4*Ct+2]=Wt.x+(Zt+Math.cos(-Xt)*Vt/2)*Gt/255,pt[4*Ct+3]=Wt.y+(Jt+Math.sin(-Xt)*Vt/2)*Gt/255}var Kt=new s.SkRoadLabel(Rt,ft,pt,Ht);m.labels.push(Kt)}jt=(0,o.BufferEmpty)(w)?0:(0,o.BufferGetUint16)(w);for(var P=0;P<jt;P++){for(var It=(0,o.BufferGetUint8)(w),Bt=new Uint16Array(It),Ct=0;Ct<It;Ct++)Bt[Ct]=(0,o.BufferGetUint16)(w),12288==Bt[Ct]?Bt[Ct]=32:Bt[Ct]>65280&&Bt[Ct]<65375&&(Bt[Ct]-=65248);for(var Rt=String.fromCharCode.apply(null,Bt),Vt=22*It,ft=(0,o.BufferGetUint16)(w),pt=new Int32Array(4*ft),Ht=0,Ct=0;Ct<ft;Ct++){0==Ct?Ht=(0,o.BufferGetUint16)(w):(0,o.BufferSkip)(w,2);var qt=(0,o.BufferGetUint8)(w),Xt=3.1415926*(qt-45)/180,Zt=(0,o.BufferGetUint8)(w),Jt=(0,o.BufferGetUint8)(w);pt[4*Ct+0]=Wt.x+(Zt-Math.cos(-Xt)*Vt/2)*Gt/255,pt[4*Ct+1]=Wt.y+(Jt-Math.sin(-Xt)*Vt/2)*Gt/255,pt[4*Ct+2]=Wt.x+(Zt+Math.cos(-Xt)*Vt/2)*Gt/255,pt[4*Ct+3]=Wt.y+(Jt+Math.sin(-Xt)*Vt/2)*Gt/255}var Kt=new s.SkRoadLabel(Rt,ft,pt,Ht);m.labels.push(Kt)}}else if(5==u){for(var w=(0,o.BufferNew)(y),x=(0,o.BufferGetUint8)(w),j=(0,o.BufferGetUint16)(w),Y=0,G=0,P=0;P<j;P++){(0,o.BufferSkip)(w,9);var k=(0,o.BufferGetUint16)(w),q=k%4;k=parseInt(k/4),(0,o.BufferSkip)(w,3+(k-1)*(q+1)),Y+=4*k-4,G+=6*(2*k-3)}var X={};Y>0&&(X.linePoints=new ArrayBuffer(20*Y),X.linePointsDV=new DataView(X.linePoints)),G>0&&(X.lineIndex={},X.lineIndex[0]=new Uint16Array(G)),X.linePointCnt=0,X.lineIndexCnt=new Int32Array(1),(0,o.BufferReset)(w),(0,o.BufferSkip)(w,3);for(var P=0;P<j;P++){var $t=(0,o.BufferGetInt8)(w),Qt=(0,o.BufferGetInt32)(w),te=(0,o.BufferGetInt32)(w),k=(0,o.BufferGetUint16)(w),q=k%4;k=parseInt(k/4);var ee=-1;d.getTrafficStat&&(ee=d.getTrafficStat(Qt,te));var Z=new Float32Array(2*k),J=(0,o.BufferGetTrid)(w),K=(0,a.morten2xy10)(J);Z[0]=K.x,Z[1]=K.y;for(var $=1;$<k;$++)0==q?J+=(0,o.BufferGetInt8)(w):1==q?J+=(0,o.BufferGetInt16)(w):2==q?J+=(0,o.BufferGetTrid)(w)-8388608:3==q&&(J+=(0,o.BufferGetInt32)(w)),K=(0,a.morten2xy10)(J,Zt,Jt),Z[2*$+0]=K.x,Z[2*$+1]=K.y;var R={m_FColor:{}},ne=n.getPlineTheme(l,$t);R.m_iMainWidth=R?ne.m_fTIWidth:2,-1==ee?(R.m_fTexS=.75,R.m_fTexE=1,R.m_FColor.r=35,R.m_FColor.g=255,R.m_FColor.b=1):122==ee?(R.m_fTexS=.75,R.m_fTexE=1,R.m_FColor.r=254,R.m_FColor.g=0,R.m_FColor.b=0):108==ee?(R.m_fTexS=.75,R.m_fTexE=1,R.m_FColor.r=251,R.m_FColor.g=215,R.m_FColor.b=0):101==ee&&(R.m_fTexS=.75,R.m_fTexE=1,R.m_FColor.r=35,R.m_FColor.g=255,R.m_FColor.b=1),R.m_fSegLength=100,R.m_FColor.a=255,(0,a.ParCacheLine2Triangle)(Z,k,X,0,R)}if(m.m_iCityCnt=(0,o.BufferGetInt16)(w),m.m_iCityCnt>0){m.m_pCityCodes=new Int32Array(m.m_iCityCnt);for(var D=0;D<m.m_iCityCnt;D++)m.m_pCityCodes[D]=(0,o.BufferGetInt32)(w)}else console.log("Error TI Tile Has No Cities!");0<X.linePointCnt&&(m.m_LineVBO=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,m.m_LineVBO),e.bufferData(e.ARRAY_BUFFER,X.linePoints,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)),m.m_LineIBO={},m.m_iLineICnt=X.lineIndexCnt,0<X.lineIndexCnt[0]&&(m.m_LineIBO[0]=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,m.m_LineIBO[0]),e.bufferData(e.ELEMENT_ARRAY_BUFFER,X.lineIndex[0],e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))}m.dataReady=!0,t.postInvalidate()})};b.prototype.RenderShadow=function(t,e,n){if(this.dataReady&&!this.isEmpty){var r=_(e,t,n,this.env,2,!1);t.bindBuffer(t.ARRAY_BUFFER,this.vbo),t.enableVertexAttribArray(r.a_Position),t.vertexAttribPointer(r.a_Position,3,t.SHORT,!1,10,0),t.disableVertexAttribArray(r.a_Color),t.vertexAttrib4f(r.a_Color,.788,.788,.788,1),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.sibo),t.frontFace(t.CCW),t.stencilOp(t.KEEP,t.KEEP,t.INCR),t.drawElements(t.TRIANGLES,this.iShadowIndexCnt,t.UNSIGNED_SHORT,0),t.frontFace(t.CW),t.stencilOp(t.KEEP,t.KEEP,t.DECR),t.drawElements(t.TRIANGLES,this.iShadowIndexCnt,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null)}},b.prototype.Render=function(t,e,n,r,i,o){var a=this.dataReady;if(!a)return a;if(this.isEmpty)return a;var s=_(n,e,r,this.env,this.datatype,this.isImg);if(0==this.datatype)this.isImg?(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture),e.uniform1i(s.uSampler,0),e.bindBuffer(e.ARRAY_BUFFER,n.imgvbo),e.enableVertexAttribArray(s.a_Position),e.vertexAttribPointer(s.a_Position,2,e.UNSIGNED_BYTE,!1,4,0),e.enableVertexAttribArray(s.a_TextCoord),e.vertexAttribPointer(s.a_TextCoord,2,e.UNSIGNED_BYTE,!1,4,2),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTexture(e.TEXTURE_2D,null)):(e.bindBuffer(e.ARRAY_BUFFER,this.areaBuffer),e.enableVertexAttribArray(s.a_Position),e.vertexAttribPointer(s.a_Position,2,e.SHORT,!1,8,0),e.enableVertexAttribArray(s.a_Color),e.vertexAttribPointer(s.a_Color,4,e.UNSIGNED_BYTE,!0,8,4),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.areaIndexBuffer),e.drawElements(e.TRIANGLES,this.iAreaIndexCnt,e.UNSIGNED_SHORT,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindBuffer(e.ARRAY_BUFFER,null));else if(1==this.datatype)e.uniform1i(s.uSampler,0),e.enableVertexAttribArray(s.a_TextCoord),e.enableVertexAttribArray(s.a_Position),e.enableVertexAttribArray(s.a_Color),o?(e.bindBuffer(e.ARRAY_BUFFER,this.m_LineVBO),e.vertexAttribPointer(s.a_Position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(s.a_TextCoord,2,e.FLOAT,!1,20,8),e.vertexAttribPointer(s.a_Color,4,e.UNSIGNED_BYTE,!0,20,16),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.m_LineIBO[i]),e.drawElements(e.TRIANGLES,this.m_iLineICnt[i],e.UNSIGNED_SHORT,0)):(e.bindBuffer(e.ARRAY_BUFFER,this.m_RouteVBO),e.vertexAttribPointer(s.a_TextCoord,2,e.FLOAT,!1,32,16),i%2==0?(e.vertexAttribPointer(s.a_Position,2,e.FLOAT,!1,32,0),e.vertexAttribPointer(s.a_Color,4,e.UNSIGNED_BYTE,!0,32,24)):(e.vertexAttribPointer(s.a_Position,2,e.FLOAT,!1,32,8),e.vertexAttribPointer(s.a_Color,4,e.UNSIGNED_BYTE,!0,32,28)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.m_RouteIBO[i]),e.drawElements(e.TRIANGLES,this.m_iRouteICnt[i],e.UNSIGNED_SHORT,0));else if(2==this.datatype)e.bindBuffer(e.ARRAY_BUFFER,this.vbo),e.enableVertexAttribArray(s.a_Position),e.vertexAttribPointer(s.a_Position,3,e.SHORT,!1,10,0),e.enableVertexAttribArray(s.a_Color),e.vertexAttribPointer(s.a_Color,4,e.UNSIGNED_BYTE,!0,10,6),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.fibo),e.drawElements(e.TRIANGLES,this.iFaceIndexCnt,e.UNSIGNED_SHORT,0),e.disableVertexAttribArray(s.a_Color),e.vertexAttrib4f(s.a_Color,.788,.788,.788,1),e.lineWidth(1),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.libo),e.drawElements(e.LINES,this.iLineIndexCnt,e.UNSIGNED_SHORT,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindBuffer(e.ARRAY_BUFFER,null);else if(3==this.datatype)for(var u=this.pois.length-1;u>=0;u--){(l=this.pois[u]).notVisible||l.visible?(l.notVisible=!1,l.visible=!1):l.findPos(n,t.labelRTree,this.onEdge)&&(t.labelRTree.insert(l.rect,""),t.curLabel.push(l))}else if(4==this.datatype)for(u=this.labels.length-1;u>=0;u--){var l;if((l=this.labels[u]).notVisible||l.visible)l.notVisible=!1,l.visible=!1;else if(l.findPos(n,t.labelRTree,this.onEdge)){if(l.rect)t.labelRTree.insert(l.rect,"");else if(l.rectArray)for(var c=0;c<l.rectArray.length;c++)t.labelRTree.insert(l.rectArray[c],"");t.curLabel.push(l)}}else 5==this.datatype&&(e.uniform1i(s.uSampler,0),e.enableVertexAttribArray(s.a_TextCoord),e.enableVertexAttribArray(s.a_Position),e.enableVertexAttribArray(s.a_Color),e.bindBuffer(e.ARRAY_BUFFER,this.m_LineVBO),e.vertexAttribPointer(s.a_Position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(s.a_TextCoord,2,e.FLOAT,!1,20,8),e.vertexAttribPointer(s.a_Color,4,e.UNSIGNED_BYTE,!0,20,16),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.m_LineIBO[i]),e.drawElements(e.TRIANGLES,this.m_iLineICnt[i],e.UNSIGNED_SHORT,0));return a};e.SkInterLayer=m.Evented.extend({options:{mapStyle:d.styleConf.normal,map:undefined,zIndex:1,opacity:undefined,zooms:[3,18],detectRetina:!0,features:["bg","building","road","point"]},initialize:function(t){p.setOptions(this,t),this.options.map&&this.setMap(this.options.map)},setMap:function(t){this.options.map=t,t?(this.map||this.init("tile",t),t.addLayer(this)):this.map&&this.map.removeLayer(this)},_isShow:function(){if(!this.map||!this.options.zooms)return!1;var t=this.map.getZoom(),e=this.options.zooms;return t<=e[1]&&t>=e[0]&&this._visible},init:function(t,e){this.map=e,this.gl=e.gl,this.lastLabel=[],this.curLabel=[],this.lastLabelZoom=0,this.tileReady=!0,this.cache=new u.LRUMap(8192),this.cache.shift=function(){var t=u.LRUMap.prototype.shift.call(this),n=t[1];if(n.dataReady&&!n.isEmpty){var r=e.gl;if(0==n.datatype)n.isImg?n.texture&&r.deleteTexture(n.texture):(n.areaBuffer&&r.deleteBuffer(n.areaBuffer),n.areaIndexBuffer&&r.deleteBuffer(n.areaIndexBuffer));else if(1==n.datatype){n.m_RouteVBO&&r.deleteBuffer(n.m_RouteVBO),n.m_LineVBO&&r.deleteBuffer(n.m_LineVBO);for(var i=0;i<v.MMConstant.ROADLAYERCNT;i++)0<n.m_iRouteICnt[i]&&n.m_RouteIBO[i]&&r.deleteBuffer(n.m_RouteIBO[i]);for(i=0;i<v.MMConstant.LINELAYERCNT;i++)0<n.m_iLineICnt[i]&&n.m_LineIBO[i]&&r.deleteBuffer(n.m_LineIBO[i])}else 2==n.datatype&&(n.vbo&&r.deleteBuffer(n.vbo),n.fibo&&r.deleteBuffer(n.fibo),n.libo&&r.deleteBuffer(n.libo),n.sibo&&r.deleteBuffer(n.sibo));return t}},this.setCustomStyle()},onThemeChanged:function(){this.cache.clear(),this.map.postInvalidate()},setCustomStyle:function(t){this.options.mapStyle=t||this.options.mapStyle;var e=this,n=this.options.mapStyle;h.MapThemeMgr.getInstance().onChengeTheme(n.name,n.dir,function(){e.onThemeChanged()})},getPoiAround:function(t){if(!this._isShow()||!this.map||!this.curLabel)return null;for(var e=0;e<this.curLabel.length;e++){var n=this.curLabel[e];if(n instanceof f.SkPointLabel&&n.incPix(t))return n}},getTiles:function(t,e,n,r){var o=[];return v.MMMgr.getInstance().datConf?o=function(t,e,n,r,o,s){for(var u=[],l=0;l<e.length;l++){var c=e[l],f=1<<c,p=(v.MMConstant.diameter,parseInt(n.startLon/v.MMConstant.diameter*f)),d=parseInt(n.endLon/v.MMConstant.diameter*f),m=parseInt(n.startLat/v.MMConstant.diameter*f),g=parseInt(n.endLat/v.MMConstant.diameter*f);n.startLon<0&&p--;for(var y=p;y<=d;y++)for(var x=m;x<=g;x++){var _=y%f,w=x%f;_<0&&(_+=f);var E=r+":"+c+":"+_+":"+w,A=t.cache.get(E);A||(A=new b(t.map,t.gl,h.MapThemeMgr.getInstance().themeMgr,E,r,c,_,w,t),t.cache.set(E,A));var S=A.env;A.env.startLon-o.mx<-v.MMConstant.radii?((S=new i.SkEnvelope).startLat=A.env.startLat,S.endLat=A.env.endLat,S.startLon=A.env.startLon+v.MMConstant.diameter,S.endLon=A.env.endLon+v.MMConstant.diameter):A.env.endLon-o.mx>v.MMConstant.radii&&((S=new i.SkEnvelope).startLat=A.env.startLat,S.endLat=A.env.endLat,S.startLon=A.env.startLon-v.MMConstant.diameter,S.endLon=A.env.endLon-v.MMConstant.diameter),(90==t.map.mapController.lookAngle&&0==t.map.mapController.mapAngle||(0,a.MapQueryObjIntersect)(s,S))&&(u.push(A),3!=r&&4!=r||((0,a.MapQueryObjIncPoint)(s,A.env.startLon,A.env.startLat)&&(0,a.MapQueryObjIncPoint)(s,A.env.startLon,A.env.endLat)&&(0,a.MapQueryObjIncPoint)(s,A.env.endLon,A.env.startLat)&&(0,a.MapQueryObjIncPoint)(s,A.env.endLon,A.env.endLat)?A.onEdge=!1:A.onEdge=!0))}}return u}(this,v.MMMgr.getInstance().datConf.getLvs(t,e),n,t,this.map.axes.getCenter(),r):o},prepareData:function(){if(!h.MapThemeMgr.getInstance().themeMgr||!v.MMMgr.getInstance().datConf)return!0;var t=this.map,e=t.mapController.getZoomVal();this.mapdata={},this.mapdata.bgTiles=[],this.mapdata.rTiles=[],this.mapdata.bdTiles=[];var n=this.cache.size;t.opts.baseLayer&&(this.hasFeature("bg")&&(this.mapdata.bgTiles=this.getTiles(0,e,t.env,t.queryObj)),this.hasFeature("road")&&(this.mapdata.rTiles=this.getTiles(1,e,t.env,t.queryObj)));var r=this.options.mapStyle;return this.hasFeature("building")&&r.showbuilding&&(this.mapdata.bdTiles=this.getTiles(2,e,t.env,t.queryObj)),n!=this.cache.size},prepareLabel:function(t){if(h.MapThemeMgr.getInstance().themeMgr&&v.MMMgr.getInstance().datConf){var e=this.map,n=e.mapController.getZoomVal(),r=[],i=[];if(e.opts.label){this.hasFeature("point")&&(r=this.getTiles(3,n,e.env,e.queryObj)),this.hasFeature("road")&&(i=this.getTiles(4,n,e.env,e.queryObj));for(var o=r.length-1;o>=0;o--){if((p=r[o]).dataReady&&!p.isEmpty&&p.themeZoom!=e.mapController.zoom){p.themeZoom=e.mapController.zoom;for(var u=0;u<p.pois.length;u++)if(p.pois[u].properties.kind){var c=h.MapThemeMgr.getInstance().themeMgr.getPoiTheme(p.themeZoom,p.pois[u].properties.kind);p.pois[u].setTheme(c,e.labelContext)}else p.pois[u].setTheme(p.pois[u].properties.theme,e.labelContext);p.pois=(0,a.SkSortPoiLabels)(p.pois)}}for(o=i.length-1;o>=0;o--){var p;if((p=i[o]).dataReady&&!p.isEmpty&&p.themeZoom!=e.mapController.zoom){p.themeZoom=e.mapController.zoom;for(u=0;u<p.labels.length;u++){c=h.MapThemeMgr.getInstance().themeMgr.getPlineTheme(p.themeZoom,p.labels[u].properties.kind);p.labels[u].setTheme(c,e.labelContext)}}}this.labelRTree=t||(0,l["default"])(10);var d=this.lastLabelZoom/n;(d<=.75||d>=1.33)&&(this.lastLabel=[]),this.curLabel=[];for(var m=0;m<this.lastLabel.length;m++){var g=this.lastLabel[m];if(g instanceof s.SkRoadLabel?c=h.MapThemeMgr.getInstance().themeMgr.getPlineTheme(e.mapController.zoom,g.properties.kind):g instanceof f.SkPointLabel&&(c=g.properties.kind?h.MapThemeMgr.getInstance().themeMgr.getPoiTheme(e.mapController.zoom,g.properties.kind):g.properties.theme),c&&c!=g.theme&&g.setTheme(c,e.labelContext),g.findPos(e,this.labelRTree,!0)){if(g.visible=!0,g.rect)this.labelRTree.insert(g.rect,"");else if(g.rectArray)for(var y=0;y<g.rectArray.length;y++)this.labelRTree.insert(g.rectArray[y],"");this.curLabel.push(g)}else g.notVisible=!0}for(o=i.length-1;o>=0;o--)i[o].Render(this,null,e);for(o=r.length-1;o>=0;o--)r[o].Render(this,null,e);this.lastLabel=this.curLabel,this.lastLabelZoom=n}else this.lastLabel=[]}},render:function(){if(!h.MapThemeMgr.getInstance().themeMgr||!v.MMMgr.getInstance().datConf)return!1;if(!this.mapdata)return!1;if(!this._isShow())return!0;for(var t=!0,e=this.map,n=e.gl,r=e.GetCurProj(),i=this.mapdata.bgTiles,o=this.mapdata.rTiles,a=this.mapdata.bdTiles,s=i.length-1;s>=0;s--)t=i[s].Render(this,n,e,r)&&t;n.useProgram(e.routeProgram.prog),n.bindTexture(n.TEXTURE_2D,e.m_LineTex);for(s=o.length-1;s>=0;s--)o[s].m_iLineICnt&&o[s].m_iLineICnt[0]>0&&(t=o[s].Render(this,n,e,r,0,!0)&&t);n.bindTexture(n.TEXTURE_2D,e.m_RouteTex);for(var u=0;u<v.MMConstant.ROADLAYERCNT;u++)for(s=o.length-1;s>=0;s--)o[s].m_iRouteICnt&&o[s].m_iRouteICnt[u]>0&&(t=o[s].Render(this,n,e,r,u)&&t);n.bindTexture(n.TEXTURE_2D,e.m_LineTex);for(s=o.length-1;s>=0;s--)o[s].m_iLineICnt&&o[s].m_iLineICnt[1]>0&&(t=o[s].Render(this,n,e,r,1,!0)&&t);n.bindTexture(n.TEXTURE_2D,null),n.useProgram(e.bgProgram.prog),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),e.opts.buildingTranslucent?n.colorMask(!1,!1,!1,!1):n.disable(n.BLEND);for(s=a.length-1;s>=0;s--)t=a[s].Render(this,n,e,r)&&t;if(e.opts.buildingTranslucent){n.colorMask(!0,!0,!0,!0),n.depthMask(!1);for(s=a.length-1;s>=0;s--)t=a[s].Render(this,n,e,r)&&t;n.depthMask(!0)}else n.enable(n.BLEND);return n.disable(n.DEPTH_TEST),t},renderLabel:function(t){if(this._isShow()){var e=this.map.mapController.getZoomVal();if(!(this.lastLabelZoom/e<=.5))for(var n=0;n<this.curLabel.length;n++){var r=this.curLabel[n];(r instanceof s.SkRoadLabel&&this.hasFeature("road")||r instanceof f.SkPointLabel&&this.hasFeature("point"))&&r.draw(this.map.labelContext,this.map,t)}}},hasFeature:function(t){return!!this.options.features&&-1!=this.options.features.indexOf(t)},setFeatures:function(t){var e=this.map;e&&(this.options.features=t,e.postInvalidate())},getFeatures:function(){return this.options.features},_visible:!0,show:function(){this._visible||(this._visible=!0,this.map.postInvalidate())},hide:function(){this._visible&&(this._visible=!1,this.map.postInvalidate())},setzIndex:function(t){this.options.zIndex!=t&&(this.options.zIndex=t,this.options.map&&this.options.map.sortLayer())}});function _(t,e,n,i,o,a){var s=function(t,e,n){if(3==e||4==e)return null;var r=t.bgProgram;n&&(r=t.bgImgProgram);1!=e&&5!=e||(r=t.routeProgram);return r}(t,o,a);if(s){var u=r.mat4.clone(n),l=v.MMMgr.getInstance().gcj2mercator(i.startLon,i.endLat),c=(0,y.SkMercatortoLonLat)(l.x,l.y);c=t.lngLatToContainer(c),l=t.axes.toMapAxes(l.x,l.y),r.mat4.translate(u,u,[l.x,l.y,0]);var h=f(t,i,o);0==o&&(h=f(t,i,o,!a)),r.mat4.scale(u,u,h),2==o&&(r.mat4.translate(u,u,[127,127,0]),r.mat4.scale(u,u,[1/64,1/64,1/64])),e.useProgram(s.prog),e.uniformMatrix4fv(s.uniLocation,!1,u)}return s;function f(t,e,n,r){var i=[1,1,1],o=1;switch(n){case 0:case 2:o=r?(e.endLon-e.startLon)/2040:(e.endLon-e.startLon)/255,2==n&&(i[2]=o);break;case 1:o=(e.endLon-e.startLon)/510;break;case 5:o=(e.endLon-e.startLon)/1020}return i=[o,o,i[2]]}}},function(t,e,n){"use strict";function r(t){var e=t.data.getUint8(t.offset);return t.offset++,e}function i(t){var e=t.data.getUint16(t.offset,t.littleEndian);return t.offset+=2,e}function o(t){if("string"==typeof t)return t;for(var e="",n=t,r=0;r<n.length;r++){var i=n[r].toString(2),o=i.match(/^1+?(?=0)/);if(o&&8==i.length){for(var a=o[0].length,s=n[r].toString(2).slice(7-a),u=1;u<a;u++)s+=n[u+r].toString(2).slice(2);e+=String.fromCharCode(parseInt(s,2)),r+=a-1}else e+=String.fromCharCode(n[r])}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.BufferNew=function(t){return{data:t,offset:0,littleEndian:!(arguments.length>1)||arguments[1]}},e.BufferGetUint8=r,e.BufferGetInt8=function(t){var e=t.data.getInt8(t.offset);return t.offset++,e},e.BufferGetInt16=function(t){var e=t.data.getInt16(t.offset,t.littleEndian);return t.offset+=2,e},e.BufferGetUint16=i,e.BufferGetTrid=function(t){var e=0,n=t.data.getUint8(t.offset),r=t.data.getUint8(t.offset+1),i=t.data.getUint8(t.offset+2);return e|=n,e|=r<<8,e|=i<<16,t.offset+=3,e},e.BufferGetInt32=function(t){var e=t.data.getInt32(t.offset,t.littleEndian);return t.offset+=4,e},e.BufferGetUint32=function(t){var e=t.data.getUint32(t.offset,t.littleEndian);return t.offset+=4,e},e.BufferSkip=function(t,e){t.offset+=e},e.BufferReset=function(t){t.offset=0},e.BufferEmpty=function(t){return t.offset>=t.data.length},e.BufferGetOffset=function(t){return t.offset},e.BufferSetOffset=function(t,e){t.offset=e},e.BufferGetUniString=function(t){var e=r(t);if(e<=0)return"";for(var n=new Uint16Array(e),o=0;o<e;o++)n[o]=i(t),12288==n[o]?n[o]=32:n[o]>65280&&n[o]<65375&&(n[o]-=65248);return String.fromCharCode.apply(null,n)},e.BufferGetGBKString=function(t,e){if(0==e)return null;for(var n=new Array,i=0;i<e;i++){var a=r(t);n.push(a)}return o(n)},e.byteToString=o},function(t,e,n){"use strict";var r=n(524),i=n(525);r.prototype.bbox=i.bbox,r.prototype.geoJSON=i.geoJSON,r.Rectangle=n(154),t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Marker=undefined;var r=m(n(1)),i=n(47),o=m(n(11)),a=m(n(54)),s=n(32),u=d(n(224)),l=n(233),c=n(234),h=n(74),f=n(15),p=d(n(232));function d(t){return t&&t.__esModule?t:{"default":t}}function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}e.Marker=i.Overlay.extend({options:{position:undefined,offset:new s.Pixel(-10,-34),icon:"https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png",content:undefined,topWhenClick:!1,bubble:!1,draggable:!1,raiseOnDrag:!1,visible:!0,zIndex:100,angle:0,autoRotation:!1,animation:"CMMAP_ANIMATION_NONE",shadow:undefined,title:undefined,clickable:!0,shape:undefined,extData:undefined,label:undefined,cursor:"pointer"},initialize:function(t){r.setOptions(this,t),i.Overlay.prototype.initialize.call(this,this.options),this.options.map&&this.setMap(this.options.map)},getOffset:function(){return this.options.offset},setOffset:function(t){this.options.offset=t,this.update()},setAnimation:function(t){this.options.animation=t,t&&r.isString(t)?"CMMAP_ANIMATION_BOUNCE"==t?this._bounce():"CMMAP_ANIMATION_DROP"==t?this._drop():this._clearAnimal():this._clearAnimal()},_clearAnimal:function(){this._t&&(clearTimeout(this._t),self.marker_ui.style.top="0px")},_drop:function(){var t=this,e=0,n=50,r=10;this._clearAnimal(),function i(){if(e<r){e++;var o=Math.ceil(p["default"].Quint.easeIn(e,-n,n,r));t.marker_ui.style.top=o+"px",t._t=setTimeout(i,60)}else t.marker_ui.style.top="0px"}()},_bounce:function(){var t=this,e=0,n=50,r=10;this._clearAnimal(),function i(){if(e<r){e++;var o=Math.ceil(p["default"].Quint.easeOut(e,0,n,r));t.marker_ui.style.top=-o+"px",t._t=setTimeout(i,60)}else t.marker_ui.style.top="0px",e=0,t._t=setTimeout(i,60)}()},getAnimation:function(){return this.options.animation},setClickable:function(t){this.options.clickable=t},getClickable:function(){return this.options.clickable},getPosition:function(){return this.options.position},setPosition:function(t){this.options.position=t,this.update()},setAngle:function(t){this.options.angle=t,this.update()},getAngle:function(){return this.options.angle},setLabel:function(t){if(t){var e=!1;t.content&&(this.options.label?this.options.label.content!=t.content&&(this.options.label=t,e=!0):e=!0),this.label||(e=!0),e&&(this.label?this.label._updateText(t):(this.label=new c.Label(t),this.label._createText(),this.label._updateText(),this.marker_ui&&this.marker_ui.appendChild(this.label.getLabel())))}else this.label&&this.marker_ui&&(this.options.label=t,o.remove(this.label.getLabel()),this.label=null)},getLabel:function(){return this.options.label},setzIndex:function(t){this.options.zIndex=t,this.marker_ui&&(this.marker_ui.style["z-index"]=t)},getzIndex:function(){return this.options.zIndex},setIcon:function(t){t!=this.options.icon&&this.options.icon&&(this.options.icon=t||this.options.icon,this._icon&&(this._icon.getIcon()&&o.remove(this._icon.getIcon()),this._icon=null),this.options.content||(r.isString(this.options.icon)?this._icon=new l.Icon({image:this.options.icon}):this.options.icon instanceof l.Icon&&(this._icon=this.options.icon),this._icon&&this.marker_ui&&(this._icon._createIcon(),this._icon._updateIcon(),this.marker_ui.appendChild(this._icon.getIcon()))))},getIcon:function(){return this.options.icon},setDraggable:function(t){this.options.draggable=t},getDraggable:function(){return this.options.draggable},hide:function(){this.marker_ui&&(this.marker_ui.style.display="none")},show:function(){this.marker_ui&&"none"==this.marker_ui.style.display&&(this.marker_ui.style.display="")},setCursor:function(t){this.options.cursor=t},getCursor:function(){return this.options.cursor},setContent:function(t){t&&(this.options.content=t,this._content||this.marker_ui&&(this._content=o.create("div","cmmap-marker-content",this.marker_ui),o.setStyle(this._content,{"white-space":"pre",opacity:1})),r.isString(this.options.content)?this._content.innerHTML=this.options.content:r.isHTMLElement(this.options.content)&&(this._content.innerHTML="",this._content.appendChild(this.options.content)),this._icon&&(o.remove(this._icon.getIcon()),this._icon=null))},getContent:function(){return this.options.content},moveAlong:function(t,e,n){n()},moveTo:function(t,e){},stopMove:function(){},pauseMove:function(){},resumeMove:function(){},setTitle:function(t){if(this.marker_ui){var e=!1;this.marker_ui.getAttribute("title")?this.options.title!=t&&(e=!0):t&&(e=!0),e&&(this.options.title=t,this.marker_ui.setAttribute("title",t))}},getTitle:function(){return this.options.title},setTop:function(t){this.marker_ui&&(t?(this._isTop=!0,this.marker_ui.style.zIndex="999"):(this._isTop=!1,this.marker_ui.style.zIndex=this.getzIndex()||0))},getTop:function(){return this._isTop},setShadow:function(t){},getShadow:function(){},setShape:function(t){},getShape:function(){},setExtData:function(t){this.options.extData=t},getExtData:function(){return this.options.extData},onAdd:function(){var t=this.getMap();t&&(!t.isComplete()&&t.on("complete",this.update,this),t.on("zoomchange",this.update,this),t.on("mapmove",this.update,this),t.isComplete()&&this.update())},_createmark:function(t){if(!this.marker_ui){var e=o.create("div","cmmap-marker",t||this.options.map.markersDiv);this.marker_ui=e,this.hmanager=new u["default"].Manager(this.marker_ui),this.hmanager.add(new u["default"].Tap({event:"doubletap",taps:2})),this.hmanager.add(new u["default"].Tap({event:"singletap"})),this.hmanager.get("doubletap").recognizeWith("singletap"),this.hmanager.get("singletap").requireFailure("doubletap"),this.hmanager.add(new u["default"].Pan({direction:u["default"].DIRECTION_ALL,threshold:0})),this.hmanager.on("singletap doubletap mouseenter",new g(this._hmhandler,this)),a.on(this.marker_ui,"mousemove mouseover mouseout mousedown mouseup",this._domhandler,this),a.on(this.marker_ui,"touchstart touchmove touchend",this._touchhandler,this),this.marker_ui.oncontextmenu=function(t){return!1},this.hmanager.on("pan",new g(this._panhandler,this))}return this},update:function(){var t=this.getMap(),e=(0,f.toLngLat)(this.options.position);if(e&&t){this.options.position=e;var n=t.lngLatToContainer(e);this.getOffset()&&(n.x=n.x+this.options.offset.x,n.y=n.y+this.options.offset.y),this._createmark(),o.setPosition(this.marker_ui,n),this.init||(this.setTitle(this.options.title),this.setLabel(this.options.label),this.setIcon(),this.setContent(this.options.content),this.setzIndex(this.getzIndex()),this.setCursor(this.getCursor()),o.setRotate(this.marker_ui,this.getAngle()),this.setAnimation(this.options.animation),this.init=!0)}},_hmhandler:function(t){console.log("marker Click"),this.getClickable()&&("doubletap"==t.type?this.fire("dblclick",(0,h.MapEvent)(this.getMap(),t)):"singletap"==t.type&&this.fire("click",(0,h.MapEvent)(this.getMap(),t)))},_touchhandler:function(t){this.fire(t.type,(0,h.MapEvent)(this.getMap(),t))},_domhandler:function(t){"mouseup"==t.type&&2==t.button&&this.fire("rightclick",(0,h.MapEvent)(this.getMap(),t)),"mouseover"==t.type?this.getMap()._setMapCursor(this.options.cursor):"mouseout"==t.type&&this.getMap()._setMapCursor(),this.fire(t.type,(0,h.MapEvent)(this.getMap(),t))},_panhandler:function(t){if(this.getDraggable()){this.delta={x:0,y:0};var e=t.deltaX-this.mapScroll.x,n=t.deltaY-this.mapScroll.y;this.scrollBy(e,n),t.isFinal?(this.mapScroll.x=0,this.mapScroll.y=0):(this.mapScroll.x=t.deltaX,this.mapScroll.y=t.deltaY),this._isdrag?t.isFinal?(this.dragend(),this.getMap().preventDefalut(!1),this.fire("dragend",(0,h.MapEvent)(this.getMap(),t))):this.fire("dragging",(0,h.MapEvent)(this.getMap(),t)):(this._isdrag=!0,this.getMap().preventDefalut(!0),this.fire("dragstart",(0,h.MapEvent)(this.getMap(),t)))}},scrollBy:function(t,e){if(this.marker_ui){var n=o.getPosition(this.marker_ui),r=n.x+t,i=n.y+e;this.delta.x+=t,this.delta.y+=e,this._updatePosition(),o.setPosition(this.marker_ui,new s.Pixel(r,i))}},dragend:function(){this.delta={x:0,y:0},this._isdrag=!1},_updatePosition:function(){var t=this.getMap();if(t){var e=this.delta.x,n=this.delta.y,r=t.lngLatToContainer(this.options.position).add(new s.Pixel(e,n));this.options.position=t.containerToLngLat(r)}},onRemove:function(){var t=this.getMap();t&&(t.off("zoomchange",this.update,this),t.off("mapmove",this.update,this),this.marker_ui&&(this.init=!1,o.remove(this.marker_ui),this._content=null,this._icon=null,this.marker_ui=null))},_contains:function(t){return!1},getContentDom:function(){return this._content},isType:function(t){return"marker"==t}});function g(t,e){return function(n){return t.call(e,n||window.event)}}},function(t,e,n){"use strict";function r(t,e){var n={r:(t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t};return n.a=e?parseInt(255*e):255,n}Object.defineProperty(e,"__esModule",{value:!0}),e.hexToRgb=r,e.hexToDevice=function(t,e){var n=r(t,e);return[n.r/255,n.g/255,n.b/255,n.a/255]}},function(t,e,n){"use strict";var r=n(77);t.exports=r.DEFAULT=new r({include:[n(88)],explicit:[n(584),n(585),n(586)]})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=undefined;var r=n(105),i=s(n(1)),o=s(n(11)),a=n(16);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}e.Layer=r.Class.extend({initialize:function(t){this.options=i.extend({zooms:[3,18],zIndex:2},t)},render:function(){},onAdd:function(){var t=this.getMap();this._container=o.create("div","",t._getLayerContainer()),o.setStyle(this._container,{position:"absolute"}),this.setzIndex()},onRemove:function(){this._container&&this.getMap()._getLayerContainer().removeChild(this._container)},setMap:function(t){t?t.addLayer(this):this.getMap()&&this.getMap().removeLayer(this)},getMap:function(){return this._map},show:function(){this._show(!0)},hide:function(){this._show(!1)},_show:function(t){this._container&&((t=t&&this._isShow())?o.show(this._container):o.hide(this._container))},_isShow:function(){if(!this.options.zooms||!this.getMap())return!1;var t=this.getMap().getZoom();return!(t<this.options.zooms[0]||t>this.options.zooms[1])},setzIndex:function(t){this._container&&(t===undefined?t=this.options.zIndex:this.options.zIndex=t,this._container.style.zIndex=t)},getzIndex:function(){return this.options.zIndex},get:function(t){return this[t]}});a.Map.include({addLayer:function(t){if(t){if(this.hasLayer(t))return;t.onAdd&&(t._map=this,t.onAdd(this)),this.layers.push(t),this.layers.sort(function(t,e){return(t.options.zIndex||0)-(e.options.zIndex||0)}),this.postInvalidate()}},removeLayer:function(t){if(t){t.onRemove&&(t.onRemove(this),t._map=this);var e=this.layers.indexOf(t);this.layers.splice(e,1),this.postInvalidate()}},sortLayer:function(){this.layers.sort(function(t,e){return(t.options.zIndex||0)-(e.options.zIndex||0)}),this.postInvalidate()},hasLayer:function(t){return-1!=this.layers.indexOf(t)}})},function(t,e,n){var r=n(5),i=n(3).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(3),i=n(28),o=n(50),a=n(164),s=n(9).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(89)("keys"),i=n(56);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(5),i=n(2),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(29)(Function.call,n(23).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):undefined),check:o}},function(t,e){t.exports="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(5),i=n(122).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(38),i=n(37);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==Infinity)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(38),i=n(37);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":undefined:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(50),i=n(0),o=n(19),a=n(18),s=n(69),u=n(130),l=n(67),c=n(24),h=n(6)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,m,g,v){u(n,e,d);var y,x,b,_=function(t){if(!f&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",E="values"==m,A=!1,S=t.prototype,C=S[h]||S["@@iterator"]||m&&S[m],D=C||_(m),M=m?E?_("entries"):D:undefined,k="Array"==e&&S.entries||C;if(k&&(b=c(k.call(new t)))!==Object.prototype&&b.next&&(l(b,w,!0),r||"function"==typeof b[h]||a(b,h,p)),E&&C&&"values"!==C.name&&(A=!0,D=function(){return C.call(this)}),r&&!v||!f&&!A&&S[h]||a(S,h,D),s[e]=D,s[w]=p,m)if(y={values:E?D:_("values"),keys:g?D:_("keys"),entries:M},v)for(x in y)x in S||o(S,x,y[x]);else i(i.P+i.F*(f||A),e,y);return y}},function(t,e,n){"use strict";var r=n(59),i=n(55),o=n(67),a={};n(18)(a,n(6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(93),i=n(37);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},function(t,e,n){var r=n(69),i=n(6)("iterator"),o=Array.prototype;t.exports=function(t){return t!==undefined&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(9),i=n(55);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(80),i=n(6)("iterator"),o=n(69);t.exports=n(28).getIteratorMethod=function(t){if(t!=undefined)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(349);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(12),i=n(58),o=n(10);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:undefined,n),u=a>2?arguments[2]:undefined,l=u===undefined?n:i(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(51),i=n(180),o=n(69),a=n(22);t.exports=n(129)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=undefined,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r,i,o,a=n(29),s=n(170),u=n(121),l=n(117),c=n(3),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,m=c.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},x=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},p=function(t){delete v[t]},"process"==n(30)(h)?r=function(t){h.nextTick(a(y,t,1))}:m&&m.now?r=function(t){m.now(a(y,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=x,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",x,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,n){var r=n(3),i=n(139).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(30)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=undefined,o}}e=undefined,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(undefined);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:undefined};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(14);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(e!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){"use strict";var r=n(3),i=n(8),o=n(50),a=n(100),s=n(18),u=n(64),l=n(4),c=n(62),h=n(38),f=n(10),p=n(189),d=n(60).f,m=n(9).f,g=n(137),v=n(67),y="prototype",x="Wrong index!",b=r.ArrayBuffer,_=r.DataView,w=r.Math,E=r.RangeError,A=r.Infinity,S=b,C=w.abs,D=w.pow,M=w.floor,k=w.log,T=w.LN2,L=i?"_b":"buffer",I=i?"_l":"byteLength",B=i?"_o":"byteOffset";function R(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?D(2,-24)-D(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=C(t))!=t||t===A?(i=t!=t?1:0,r=u):(r=M(k(t)/T),t*(o=D(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?c/o:c*D(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*D(2,e),r+=l):(i=t*D(2,l-1)*D(2,e),r=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*f,a}function F(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-A:A;r+=D(2,e),c-=a}return(l?-1:1)*r*D(2,c-e)}function P(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function O(t){return[255&t]}function N(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return R(t,52,8)}function j(t){return R(t,23,4)}function W(t,e,n){m(t[y],e,{get:function(){return this[n]}})}function Y(t,e,n,r){var i=p(+n);if(i+e>t[I])throw E(x);var o=t[L]._b,a=i+t[B],s=o.slice(a,a+e);return r?s:s.reverse()}function G(t,e,n,r,i,o){var a=p(+n);if(a+e>t[I])throw E(x);for(var s=t[L]._b,u=a+t[B],l=r(+i),c=0;c<e;c++)s[u+c]=l[o?c:e-c-1]}if(a.ABV){if(!l(function(){b(1)})||!l(function(){new b(-1)})||l(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var V,H=(b=function(t){return c(this,b),new S(p(t))})[y]=S[y],q=d(S),X=0;q.length>X;)(V=q[X++])in b||s(b,V,S[V]);o||(H.constructor=b)}var Z=new _(new b(2)),J=_[y].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(_[y],{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},!0)}else b=function(t){c(this,b,"ArrayBuffer");var e=p(t);this._b=g.call(new Array(e),0),this[I]=e},_=function(t,e,n){c(this,_,"DataView"),c(t,b,"DataView");var r=t[I],i=h(e);if(i<0||i>r)throw E("Wrong offset!");if(i+(n=n===undefined?r-i:f(n))>r)throw E("Wrong length!");this[L]=t,this[B]=i,this[I]=n},i&&(W(b,"byteLength","_l"),W(_,"buffer","_b"),W(_,"byteLength","_l"),W(_,"byteOffset","_o")),u(_[y],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return P(Y(this,4,t,arguments[1]))},getUint32:function(t){return P(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){G(this,1,t,O,e)},setUint8:function(t,e){G(this,1,t,O,e)},setInt16:function(t,e){G(this,2,t,N,e,arguments[2])},setUint16:function(t,e){G(this,2,t,N,e,arguments[2])},setInt32:function(t,e){G(this,4,t,U,e,arguments[2])},setUint32:function(t,e){G(this,4,t,U,e,arguments[2])},setFloat32:function(t,e){G(this,4,t,j,e,arguments[2])},setFloat64:function(t,e){G(this,8,t,z,e,arguments[2])}});v(b,"ArrayBuffer"),v(_,"DataView"),s(_[y],a.VIEW,!0),e.ArrayBuffer=b,e.DataView=_},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}r.prototype=n(465),r.prototype.loadAsync=n(508),r.support=n(52),r.defaults=n(209),r.version="3.1.5",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=n(84),t.exports=r},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}:t.exports=e.nextTick}).call(e,n(46))},function(t,e,n){"use strict";(function(e,r){t.exports=p;var i=n(144),o=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:i,a=n(42).Buffer;p.WritableState=f;var s=n(83);s.inherits=n(73);var u,l={deprecate:n(471)};!function(){try{u=n(106)}catch(t){}finally{u||(u=n(107).EventEmitter)}}();var c;a=n(42).Buffer;function h(){}function f(t,e){c=c||n(65),t=t||{},this.objectMode=!!t.objectMode,e instanceof c&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:a,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,a=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?i(o,r):o(r);t._writableState.errorEmitted=!0,t.emit("error",r)}(t,n,r,e,a);else{var s=v(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||g(t,n),r?o(m,t,n,s,a):m(t,n,s,a)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new b(this),this.corkedRequestsFree.next=new b(this)}function p(t){if(c=c||n(65),!(this instanceof p||this instanceof c))return new p(t);this._writableState=new f(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),u.call(this)}function d(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function m(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),x(t,e)}function g(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0;n;)i[a]=n,n=n.next,a+=1;d(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var s=n.chunk,u=n.encoding,l=n.callback;if(d(t,e,!1,e.objectMode?1:s.length,s,u,l),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function v(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function y(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function x(t,e){var n=v(e);return n&&(0===e.pendingcb?(y(t,e),e.finished=!0,t.emit("finish")):y(t,e)),n}function b(t){var e=this;this.next=null,this.entry=null,this.finish=function(n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}s.inherits(p,u),f.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(f.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}(),p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},p.prototype.write=function(t,e,n){var r=this._writableState,o=!1;return"function"==typeof e&&(n=e,e=null),a.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=h),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i(e,n)}(this,n):function(t,e,n,r){var o=!0;if(!a.isBuffer(n)&&"string"!=typeof n&&null!==n&&n!==undefined&&!e.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),i(r,s),o=!1}return o}(this,r,t,n)&&(r.pendingcb++,o=function(t,e,n,r,i){n=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new a(e,n)),e}(e,n,r),a.isBuffer(n)&&(r="buffer");var o=e.objectMode?1:n.length;e.length+=o;var s=e.length<e.highWaterMark;s||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest=new function(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}(n,r,i),u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else d(t,e,!1,o,n,r,i);return s}(this,r,t,e,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||g(this,t))},p.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},p.prototype._write=function(t,e,n){n(new Error("not implemented"))},p.prototype._writev=null,p.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&t!==undefined&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,x(t,e),n&&(e.finished?i(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)}}).call(e,n(46),n(469).setImmediate)},function(t,e,n){"use strict";t.exports=a;var r=n(65),i=n(83);function o(t){this.afterTransform=function(e,n){return function(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&n!==undefined&&t.push(n);i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState=new o(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}i.inherits=n(73),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(206)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(84),i=n(210),o=n(211),a=n(212);o=n(211);function s(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var t=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new a).pipe(new o("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},t.exports=s},function(t,e,n){"use strict";var r=n(7);var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ZOOMCONF=[{val:262144,rule:1e6},{val:131072,rule:5e5},{val:65536,rule:5e5},{val:32768,rule:2e5},{val:16384,rule:2e5},{val:8192,rule:1e5},{val:4096,rule:5e4},{val:2048,rule:2e4},{val:1024,rule:1e4},{val:512,rule:5e3},{val:256,rule:2e3},{val:128,rule:1e3},{val:64,rule:500},{val:32,rule:200},{val:16,rule:100},{val:8,rule:50},{val:4,rule:20},{val:2,rule:10},{val:1,rule:10},{val:.5,rule:10},{val:.25,rule:10},{val:.125,rule:10},{val:.0625,rule:10},{val:.03125,rule:10},{val:.015625,rule:10}]},function(t,e,n){var r,i;!function(o,a){const s=e;!function(t){const e=Symbol("newer"),n=Symbol("older");function r(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=undefined,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size))}function i(t,r){this.key=t,this.value=r,this[e]=undefined,this[n]=undefined}function o(t){this.entry=t}function a(t){this.entry=t}function s(t){this.entry=t}t.LRUMap=r,r.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][n]=t[n]),t[n]&&(t[n][e]=t[e]),t[e]=undefined,t[n]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t)},r.prototype.assign=function(t){let r,o=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=t[Symbol.iterator]();for(let s=a.next();!s.done;s=a.next()){let t=new i(s.value[0],s.value[1]);if(this._keymap.set(t.key,t),r?(r[e]=t,t[n]=r):this.oldest=t,r=t,0==o--)throw new Error("overflow")}this.newest=r,this.size=this._keymap.size},r.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},r.prototype.set=function(t,r){var o=this._keymap.get(t);return o?(o.value=r,this._markEntryAsUsed(o),this):(this._keymap.set(t,o=new i(t,r)),this.newest?(this.newest[e]=o,o[n]=this.newest):this.oldest=o,this.newest=o,++this.size,this.size>this.limit&&this.shift(),this)},r.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[n]=undefined):(this.oldest=undefined,this.newest=undefined),t[e]=t[n]=undefined,this._keymap["delete"](t.key),--this.size,[t.key,t.value]},r.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:undefined},r.prototype.has=function(t){return this._keymap.has(t)},r.prototype["delete"]=function(t){var r=this._keymap.get(t);if(r)return this._keymap["delete"](r.key),r[e]&&r[n]?(r[n][e]=r[e],r[e][n]=r[n]):r[e]?(r[e][n]=undefined,this.oldest=r[e]):r[n]?(r[n][e]=undefined,this.newest=r[n]):this.oldest=this.newest=undefined,this.size--,r.value},r.prototype.clear=function(){this.oldest=this.newest=undefined,this.size=0,this._keymap.clear()},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:undefined}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:undefined}},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:undefined}},r.prototype.keys=function(){return new a(this.oldest)},r.prototype.values=function(){return new s(this.oldest)},r.prototype.entries=function(){return this},r.prototype[Symbol.iterator]=function(){return new o(this.oldest)},r.prototype.forEach=function(t,n){"object"!=typeof n&&(n=this);let r=this.oldest;for(;r;)t.call(n,r.value,r.key,this),r=r[e]},r.prototype.toJSON=function(){for(var t=new Array(this.size),n=0,r=this.oldest;r;)t[n++]={key:r.key,value:r.value},r=r[e];return t},r.prototype.toString=function(){for(var t="",n=this.oldest;n;)t+=String(n.key)+":"+n.value,(n=n[e])&&(t+=" < ");return t}}(s),(i="function"==typeof(r=s)?r.call(e,n,e,t):r)===undefined||(t.exports=i)}()},function(t,e,n){"use strict";function r(t,e,n,i){if(!(this instanceof r))return new r(t,e,n,i);var o,a,s;t.x?(n=t.w,i=t.h,e=t.y,0!==t.w&&!t.w&&t.x2?(n=t.x2-t.x,i=t.y2-t.y):(n=t.w,i=t.h),t=t.x,o=t+n,a=e+i,s=!(i+n)):(o=t+n,a=e+i,s=!(i+n)),this.x1=this.x=function(){return t},this.y1=this.y=function(){return e},this.x2=function(){return o},this.y2=function(){return a},this.w=function(){return n},this.h=function(){return i},this.p=function(){return s},this.overlap=function(n){return s||n.p()?t<=n.x2()&&o>=n.x()&&e<=n.y2()&&a>=n.y():t<n.x2()&&o>n.x()&&e<n.y2()&&a>n.y()},this.expand=function(r){var s,u,l=r.x(),c=r.y(),h=r.x2(),f=r.y2();return s=t>l?l:t,u=e>c?c:e,n=o>h?o-s:h-s,i=a>f?a-u:f-u,t=s,e=u,this}}r.overlapRectangle=function(t,e){return 0===t.h&&0===t.w||0===e.h&&0===e.w?t.x<=e.x+e.w&&t.x+t.w>=e.x&&t.y<=e.y+e.h&&t.y+t.h>=e.y:t.x<e.x+e.w&&t.x+t.w>e.x&&t.y<e.y+e.h&&t.y+t.h>e.y},r.containsRectangle=function(t,e){return t.x+t.w<=e.x+e.w&&t.x>=e.x&&t.y+t.h<=e.y+e.h&&t.y>=e.y},r.expandRectangle=function(t,e){var n,r,i=t.x+t.w,o=e.x+e.w,a=t.y+t.h,s=e.y+e.h;return n=t.x>e.x?e.x:t.x,r=t.y>e.y?e.y:t.y,t.w=i>o?i-n:o-n,t.h=a>s?a-r:s-r,t.x=n,t.y=r,t},r.makeMBR=function(t,e){if(!t.length)return{x:0,y:0,w:0,h:0};(e=e||{}).x=t[0].x,e.y=t[0].y,e.w=t[0].w,e.h=t[0].h;for(var n=1,i=t.length;n<i;n++)r.expandRectangle(e,t[n]);return e},r.squarifiedRatio=function(t,e,n){var r=(t+e)/2,i=t*e;return i*n/(i/(r*r))},t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapThemeMgr=e.ThemeArr=e.MapTheme=undefined,e.MapThemeMgrGetSectionVal=l,e.MapThemeMgrGetSectionValFloat=c,e.MapThemeMgrGetColor=function(t,e){var n={};return n.r=c(t,"r=",e.r),n.g=c(t,"g=",e.g),n.b=c(t,"b=",e.b),n.a=c(t,"a=",e.a),n},e.MapThemeMgrGetByteColor=h,e.MapThemeMgrInitBGConf=f,e.MapThemeMgrInitRegionConf=p,e.MapThemeMgrInitPlineConf=d,e.MapThemeMgrInitPointConf=m,e.MapThemeMgrInitTIConf=g,e.DecodeTheme=function(t,e,n){var r=new y,i=[];e=e&&e.dir?e.dir:"daymode/";for(var o=0;o<r.themes.length;o++)i.push(t.file(e+o+".mthm").async("binarystring"));Promise.all(i).then(function(t){for(var e=0;e<r.themes.length;e++)r.themes[e]=new v(t[e]);n(r)})};var r=n(26),i=n(35),o=u(n(81)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(104)),s=u(n(143));function u(t){return t&&t.__esModule?t:{"default":t}}function l(t,e,n){var r=t.indexOf(e);if(-1==r)return n;var i=parseInt(t.substring(r+e.length));if(isNaN(i)){var o=r+e.length,a=t.substring(o).indexOf(" ");return t.substring(o,o+a)}return i}function c(t,e,n){var r=t.indexOf(e);return-1==r?n:parseFloat(t.substring(r+e.length))}function h(t,e,n){var r={};return r.r=l(t,e+"r=",n.r),r.g=l(t,e+"g=",n.g),r.b=l(t,e+"b=",n.b),r.a=l(t,e+"a=",n.a),r}function f(t,e){var n=e.indexOf("<BGConfig>"),r=e.indexOf("</BGConfig>"),i=e.substring(n,r);t.m_BGTheme={},t.m_BGTheme.m_Color={},t.m_BGTheme.m_Color.a=l(i,"a=",255),t.m_BGTheme.m_Color.r=l(i,"r=",255),t.m_BGTheme.m_Color.g=l(i,"g=",255),t.m_BGTheme.m_Color.b=l(i,"b=",255)}function p(t,e){for(var n={r:0,g:0,b:0,a:.5},r={r:255,g:255,b:255,a:.5},i=e.indexOf("<RegionConfig>"),o=e.indexOf("</RegionConfig>"),a=e.substring(i,o),s=0,u=a.indexOf("<Region ",s);-1!=u;){s=u+"<Region ".length;var c=a.indexOf("/>",s),f=a.substring(s,c);u=a.indexOf("<Region ",s);var p=l(f,"id=",0);t[p]={id:p},t[p].m_iLabelCtrl=l(f,"sl=",0),t[p].m_iTFontSize=l(f,"tfs=",0),t[p].m_Color=h(f,"",r),t[p].m_BColor=h(f," b",n),t[p].m_TColorM=h(f,"t",r),t[p].m_TColorB=h(f,"tb",n)}}function d(t,e){for(var n={r:0,g:0,b:0,a:255},i={r:255,g:255,b:255,a:255},o=e.indexOf("<PlineConfig>"),a=e.indexOf("</PlineConfig>"),s=e.substring(o,a),u=0,f=s.indexOf("<Pline ",u);-1!=f;){u=f+"<Pline ".length;var p=s.indexOf("/>",u),d=s.substring(u,p);f=s.indexOf("<Pline ",u);var m=l(d,"kind=",0);0!=m&&(t[m]={kind:m},t[m].m_iLineType=l(d,"lt=",0),t[m].m_iMainWidth=c(d,"mw=",1),t[m].m_iBordWidth=c(d,"bw=",0),t[m].m_iTFontSize=l(d,"tfs=",16),t[m].m_fTIWidth=c(d,"tiw=",2),t[m].m_FColor=h(d,"m",i),t[m].m_BColor=h(d,"b",n),t[m].m_AColor=h(d,"a",n),t[m].m_TColorM=h(d,"t",i),t[m].m_TColorB=h(d,"tb",n),t[m].font=(t[m].m_iTFontSize-6)*(0,r.getPixelRatio)()+"px sans-serif",t[m].fillStyle="rgba("+t[m].m_TColorM.r+","+t[m].m_TColorM.g+","+t[m].m_TColorM.b+","+t[m].m_TColorM.a+")",t[m].strokeStyle="rgba("+t[m].m_TColorB.r+","+t[m].m_TColorB.g+","+t[m].m_TColorB.b+","+t[m].m_TColorB.a+")",t[m].m_fTexS=c(d,"texs=",0),t[m].m_fTexE=c(d,"texe=",0),t[m].m_fSegLength=c(d,"seg=",480))}}function m(t,e){for(var n={r:0,g:0,b:0,a:255},i={r:255,g:255,b:255,a:255},o=e.indexOf("<POIConfig>"),a=e.indexOf("</POIConfig>"),s=e.substring(o,a),u=0,c=s.indexOf("<poi ",u);-1!=c;){u=c+"<poi ".length;var f=s.indexOf("/>",u),p=s.substring(u,f);c=s.indexOf("<poi ",u);var d=l(p,"type=",0);0!=d&&(t[d]={type:d},t[d].iconid=l(p,"val=",0),t[d].labelctrl=l(p,"sl=",0),t[d].fontsize=l(p,"tfs=",0),t[d].m_TColorM=h(p,"t",i),t[d].m_TColorB=h(p,"tb",n),t[d].m_BColorM=h(p," b",n),t[d].m_BColorB=h(p,"bb",n),t[d].boundctrl=parseInt(t[d].labelctrl/1e3)%10,t[d].m_iPrivilage=parseInt(t[d].labelctrl/100)%10,t[d].iconctrl=parseInt(t[d].labelctrl/10)%10,t[d].labelctrl=parseInt(t[d].labelctrl/1)%10,t[d].fontsize<=0&&(t[d].labelctrl=0),1==t[d].labelctrl&&(t[d].iconctrl=0),t[d].fontsize>0&&(t[d].fontsize=parseInt(t[d].fontsize-6)*(0,r.getPixelRatio)()),t[d].font=t[d].fontsize+"px sans-serif",t[d].fillStyle="rgba("+t[d].m_TColorM.r+","+t[d].m_TColorM.g+","+t[d].m_TColorM.b+","+t[d].m_TColorM.a+")",t[d].strokeStyle="rgba("+t[d].m_TColorB.r+","+t[d].m_TColorB.g+","+t[d].m_TColorB.b+","+t[d].m_TColorB.a+")",t[d].boundFillStyle="rgba("+t[d].m_BColorM.r+","+t[d].m_BColorM.g+","+t[d].m_BColorM.b+",0.8)",t[d].boundStrokeStyle="rgba("+t[d].m_BColorB.r+","+t[d].m_BColorB.g+","+t[d].m_BColorB.b+",0.8)")}}function g(t,e){for(var n={r:0,g:0,b:0,a:255},r={r:255,g:255,b:255,a:255},i=e.indexOf("<TIConfig>"),o=e.indexOf("</TIConfig>"),a=e.substring(i,o),s=0,u=a.indexOf("<TI ",s);-1!=u;){s=u+"<TI ".length;var c=a.indexOf("/>",s),f=a.substring(s,c);u=a.indexOf("<TI ",s);var p=l(f,"stat=",0);0!=p&&(t[p]={stat:p},t[p].m_FColor=h(f,"m",r),t[p].m_BColor=h(f,"b",n))}}var v=e.MapTheme=function(t){this.regionThemes={},this.plineThemes={},this.poiThemes={},this.tiThemes={},f(this,t),p(this.regionThemes,t),d(this.plineThemes,t),m(this.poiThemes,t),g(this.tiThemes,t)};v.prototype.getRegionTheme=function(t){return this.regionThemes[t]},v.prototype.getPlineTheme=function(t){return this.plineThemes[t]},v.prototype.getPoiTheme=function(t){return this.poiThemes[t]},v.prototype.getTiTheme=function(t){return this.tiThemes[t]};var y=e.ThemeArr=function(){this.themes=[],this.themes.length=19};y.prototype.getBGTheme=function(t){var e=this.themes[t];return e?e.m_BGTheme:null},y.prototype.getRegionTheme=function(t,e){var n=this.themes[t];return n?n.getRegionTheme(e):null},y.prototype.getPlineTheme=function(t,e){var n=this.themes[t];return n?n.getPlineTheme(e):null},y.prototype.getPoiTheme=function(t,e){var n=this.themes[t];return n?n.getPoiTheme(e):null},y.prototype.getTiTheme=function(t,e){var n=this.themes[t];return n?n.getTiTheme(e):null};e.MapThemeMgr=function(){var t;return{getInstance:function(){t===undefined&&(t=new function(){this.themeMgr=null;var t=this;this.onChengeTheme=function(e,n,r){var u=i.UrlConf.getUrl("theme",{"{name}":e});n=n||"daymode/",(0,o["default"])(u+"&rid="+(new Date).getTime(),{param:"jsonp"},function(e,i){if(!e&&"ok"==i.status.toLowerCase()){var o=a.urlBase64ToUint8Array(i.data),u=new s["default"];u.loadAsync(o).then(function(e){!function(t,e,n){for(var r=new y,i=[],o=0;o<r.themes.length;o++)i.push(t.file(e+o+".mthm").async("string"));Promise.all(i).then(function(t){for(var e=0;e<r.themes.length;e++)r.themes[e]=new v(t[e]);n(r)})}(e,n,function(e){t.themeMgr=e,r&&r()})})}})}});return t}}}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SkPointLabel=undefined;var _sktools=__webpack_require__(33),_styleconf=__webpack_require__(86),_Browser=__webpack_require__(26),_MapMM=__webpack_require__(66),_Util=__webpack_require__(1),Util=_interopRequireWildcard(_Util),_MapAxes=__webpack_require__(231),_geo=__webpack_require__(41),_glMatrix=__webpack_require__(34),_mercator=__webpack_require__(17);function _interopRequireWildcard(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var ICONSIZE=18*(0,_Browser.getPixelRatio)(),ICON_CTRL_NOICON=0,ICON_CTRL_STATICON=2,LABEL_CTRL_NOLABEL=0,LABEL_CTRL_CENLABEL=1,LABEL_CTRL_ARNDLABEL=2,BOUND_CTRL_NOBOUND=0,BOUND_CTRL_RBOUND=1,BOUND_CTRL_BOUND=2,SkPointLabel=exports.SkPointLabel=function(t,e,n,r){var i;(this.properties={kind:t},this.lon=e,this.lat=n,this.pixelX=0,this.pixelY=0,this.textWidth=0,this.m_iPosFlag=-1,this.rect={x:0,y:0,w:0,h:0},this.names=[],this.textWidths=[],(0,_sktools.SkLabelNameIsEnglish)(r))?r.length>14&&(i=this.breakEnglishLine(r))>0&&i<r.length?(this.names.push(r.substring(0,i)),this.names.push(r.substring(i+1))):this.names.push(r):r.length>7&&(i=this.breakChineseLine(r))>0&&i<r.length?(this.names.push(r.substring(0,i)),this.names.push(r.substring(i))):this.names.push(r);this.textWidths.length=this.names.length};SkPointLabel.prototype.breakChineseLine=function(t){var e=t.indexOf("(");if(e>=3)return e;var n=parseInt((t.length-1)/2)+1,r=t.charCodeAt(n);if(r<255&&32!=r)for(var i=1;i<n-1;i++){var o=t.charCodeAt(n-i);if(32==o||o>255)return n-i+1;var a=t.charCodeAt(n+i);if(32==a||a>255)return n+i}return n},SkPointLabel.prototype.breakEnglishLine=function(t){for(var e=parseInt(t.length/2),n=0;n<e;n++){if(32==t.charCodeAt(e-n))return e-n;if(n>0&&32==t.charCodeAt(e+n))return e+n}return 0},SkPointLabel.prototype.setTheme=function(t,e){if(this.theme=t,this.theme){e.font=this.theme.font,this.textWidth=0;for(var n=0;n<this.names.length;n++)this.textWidths[n]=e.measureText(this.names[n]).width,this.textWidth=Math.max(this.textWidth,this.textWidths[n])}},SkPointLabel.prototype.findPos=function(map,rtree,checkQueryObj){if(!this.theme)return!1;if(LABEL_CTRL_NOLABEL!=this.theme.labelctrl&&this.textWidth<=0)return!1;if(LABEL_CTRL_NOLABEL==this.theme.labelctrl&&ICON_CTRL_NOICON==this.theme.iconctrl)return this.m_iPosFlag=-1,!1;if(checkQueryObj&&!(0,_sktools.MapQueryObjIncPoint)(map.queryObj,this.lon,this.lat))return this.m_iPosFlag=-1,!1;var glCoor=map.axes.toMapAxes(this.lon,this.lat),pixel=map.gl2Pixel(glCoor.x,glCoor.y),zoomval=map.mapController.getZoomVal(),rotatedGLCoorY=glCoor.y*map.mapController.angCos+glCoor.x*map.mapController.angSin;if(rotatedGLCoorY<=0||70<=map.mapController.getLookAngle())this.factor=1;else{var dist2eye=Math.sqrt((map.ey-rotatedGLCoorY/zoomval/4)*(map.ey-rotatedGLCoorY/zoomval/4)+map.ez2);this.factor=map.eye2zero/dist2eye}if(this.labelWidth=this.textWidth*this.factor,this.labelHeight=this.theme.fontsize*this.names.length*this.factor,this.iconSize=ICONSIZE*this.factor,this.pixelX=pixel.x,this.pixelY=pixel.y,LABEL_CTRL_CENLABEL==this.theme.labelctrl)return this.rect.x=this.pixelX-this.textWidth/2*this.factor,this.rect.y=this.pixelY-this.theme.fontsize*this.names.length/2*this.factor,this.rect.w=this.textWidth*this.factor,this.rect.h=this.theme.fontsize*this.names.length*this.factor,rtree.search(this.rect).length>0?(this.m_iPosFlag=-1,!1):(this.m_iPosFlag=4,!0);if(LABEL_CTRL_ARNDLABEL==this.theme.labelctrl){(-1==this.m_iPosFlag||this._m_iPosFlag)&&(this.m_iPosFlag=this._m_iPosFlag?this._m_iPosFlag:0),this._if&&eval(this._if);for(var pf=0;pf<4;pf++){var posFlag=(pf+this.m_iPosFlag)%4;if(0==posFlag||2==posFlag?(this.rect.y=this.pixelY-Math.max(this.iconSize,this.labelHeight)/2,this.rect.h=Math.max(this.iconSize,this.labelHeight)):1==posFlag?(this.rect.y=this.pixelY-this.iconSize/2-this.labelHeight,this.rect.h=this.labelHeight+this.iconSize):(this.rect.y=this.pixelY-this.iconSize/2,this.rect.h=this.labelHeight+this.iconSize),1==posFlag||3==posFlag?(this.rect.x=this.pixelX-this.labelWidth/2,this.rect.w=this.labelWidth):0==posFlag?(this.rect.x=this.pixelX-this.iconSize/2,this.rect.w=this.labelWidth+this.iconSize):(this.rect.x=this.pixelX-this.iconSize/2-this.labelWidth,this.rect.w=this.labelWidth+this.iconSize),!(rtree.search(this.rect).length>0))return this.m_iPosFlag=posFlag,!0}}else if(ICON_CTRL_NOICON!=this.theme.iconctrl)return this.rect.x=this.pixelX-this.iconSize/2*this.factor,this.rect.y=this.pixelY-this.iconSize/2*this.factor,this.rect.w=this.iconSize*this.factor,this.rect.h=this.iconSize*this.factor,rtree.search(this.rect).length>0?(this.m_iPosFlag=-1,!1):(this.m_iPosFlag=4,!0);return this.m_iPosFlag=-1,!1},SkPointLabel.prototype.draw=function(t,e,n,r,i){var o=_MapMM.MMMgr.getInstance().iconConf;if(this.theme&&-1!=this.m_iPosFlag&&o){if(n){var a=e.axes.world2pixel(this.lon,this.lat);this.pixelX=a.x,this.pixelY=a.y}if(i&&this.rect&&t.clearRect(this.rect.x,this.rect.y,this.rect.w,this.rect.h),LABEL_CTRL_NOLABEL!=this.theme.labelctrl){if(this.theme.boundctrl!=BOUND_CTRL_NOBOUND){t.fillStyle=r?_styleconf.styleConf[e._getMapStyle()].horverfillStyle:this.theme.boundFillStyle,t.strokeStyle=r?_styleconf.styleConf[e._getMapStyle()].horverstrokeStyle:this.theme.boundStrokeStyle;var s=0,u=0;0==this.m_iPosFlag||2==this.m_iPosFlag||4==this.m_iPosFlag?u=this.pixelY-this.labelHeight/2:1==this.m_iPosFlag?u=this.pixelY-this.labelHeight-this.iconSize/2:3==this.m_iPosFlag&&(u=this.pixelY+this.iconSize/2),1==this.m_iPosFlag||3==this.m_iPosFlag||4==this.m_iPosFlag?s=this.pixelX-this.labelWidth/2:0==this.m_iPosFlag?s=this.pixelX+this.iconSize/2:2==this.m_iPosFlag&&(s=this.pixelX-this.iconSize/2-this.labelWidth),this.theme.boundctrl==BOUND_CTRL_RBOUND?((0,_sktools.SkRoundRectanglePath)(t,s-3,u-2,this.labelWidth+6,this.labelHeight+4,4),t.stroke(),t.fill()):this.theme.boundctrl==BOUND_CTRL_BOUND&&(t.strokeRect(s-3,u-2,this.labelWidth+6,this.labelHeight+4),t.fillRect(s-3,u-2,this.labelWidth+6,this.labelHeight+4))}if(1!=this.factor&&(t.save(),t.scale(this.factor,this.factor)),t.font=this.theme.font,t.fillStyle=r?_styleconf.styleConf[e._getMapStyle()].horverfillStyle:this.theme.fillStyle,t.strokeStyle=r?_styleconf.styleConf[e._getMapStyle()].horverstrokeStyle:this.theme.strokeStyle,t.lineWidth=3,0==this.m_iPosFlag){s=this.pixelX/this.factor+ICONSIZE/2,u=this.pixelY/this.factor-this.theme.fontsize*this.names.length/2+8*this.theme.fontsize/9;for(var l=0;l<this.names.length;l++)t.strokeText(this.names[l],s,u+l*this.theme.fontsize),t.fillText(this.names[l],s,u+l*this.theme.fontsize)}else if(2==this.m_iPosFlag)for(s=this.pixelX/this.factor-ICONSIZE/2,u=this.pixelY/this.factor-this.theme.fontsize*this.names.length/2+8*this.theme.fontsize/9,l=0;l<this.names.length;l++)t.strokeText(this.names[l],s-this.textWidths[l],u+l*this.theme.fontsize),t.fillText(this.names[l],s-this.textWidths[l],u+l*this.theme.fontsize);else if(1==this.m_iPosFlag||3==this.m_iPosFlag){s=this.pixelX/this.factor,u=this.pixelY/this.factor+ICONSIZE/2+8*this.theme.fontsize/9;1==this.m_iPosFlag&&(u-=ICONSIZE+this.theme.fontsize*this.names.length);for(l=0;l<this.names.length;l++)t.strokeText(this.names[l],s-this.textWidths[l]/2,u+l*this.theme.fontsize),t.fillText(this.names[l],s-this.textWidths[l]/2,u+l*this.theme.fontsize)}else if(4==this.m_iPosFlag)for(s=this.pixelX/this.factor,u=this.pixelY/this.factor-this.theme.fontsize*this.names.length/2+8*this.theme.fontsize/9,l=0;l<this.names.length;l++)t.strokeText(this.names[l],s-this.textWidths[l]/2,u+l*this.theme.fontsize),t.fillText(this.names[l],s-this.textWidths[l]/2,u+l*this.theme.fontsize);1!=this.factor&&t.restore()}if(ICON_CTRL_NOICON!=this.theme.iconctrl&&o&&this.theme.iconid>0){var c=this.theme.iconid-1,h=c%o.cols,f=parseInt(c/o.cols);t.drawImage(o.img,h*o.iconWidth,f*o.iconHeight,o.iconWidth,o.iconHeight,this.pixelX-this.iconSize/2*this.factor,this.pixelY-this.iconSize/2*this.factor,this.iconSize*this.factor,this.iconSize*this.factor)}}},SkPointLabel.prototype.incPix=function(t){return!(!this.theme||-1==this.m_iPosFlag||!this.rect)&&(!!(this.names&&LABEL_CTRL_NOLABEL!=this.theme.labelctrl||ICON_CTRL_NOICON!=this.theme.iconctrl&&0!=this.theme.iconid)&&(t.x-this.rect.x>=0&&t.x-this.rect.x<=this.rect.w&&t.y-this.rect.y>=0&&t.y-this.rect.y<=this.rect.h))},SkPointLabel.prototype.getData=function(){this.lnglat||(this.lnglat=(0,_mercator.SkMercatortoLonLat)(this.lon,this.lat));var t={name:this.names?this.names.join(""):"",lon:this.lnglat.lng,lat:this.lnglat.lat};return this.properties.info&&(t=Util.extend(t,this.properties.info)),{poi:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryUtil=e.Bounds=undefined;var r=n(528);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return r.Bounds}});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(529));e.GeometryUtil=i},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if("undefined"==typeof e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(i){r=null}e[t]=r}return e[t]}}(),a=null,s=0,u=[],l=n(534);function c(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(g(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(g(i.parts[a],e));r[i.id]={id:i.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(t,e){var n=o(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(t.insertAt.before,n);n.insertBefore(e,i)}}function p(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function d(t){var e=document.createElement("style");if(t.attrs.type===undefined&&(t.attrs.type="text/css"),t.attrs.nonce===undefined){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return m(e,t.attrs),f(t,e),e}function m(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform["default"](t.css)))return function(){};t.css=o}if(e.singleton){var u=s++;n=a||(a=d(e)),r=y.bind(null,n,u,!1),i=y.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type===undefined&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),f(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=e.convertToAbsoluteUrls===undefined&&i;(e.convertToAbsoluteUrls||o)&&(r=l(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){p(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return c(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}t&&c(h(t,e),e);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var v=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function y(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bounds=o;var r=n(15),i=n(82);function o(t,e){this.southWest=(0,r.toLngLat)(t),this.northEast=(0,r.toLngLat)(e)}o.prototype={set:function(t,e){this.southWest=(0,r.toLngLat)(t),this.northEast=(0,r.toLngLat)(e)},containsPoint:function(t){return(t=(0,r.toLngLat)(t)).lat<=this.northEast.lat&&t.lat>=this.southWest.lat&&t.lng<=this.northEast.lng&&t.lng>=this.southWest.lng},contains:function(t){return this.containsPoint(t)},containsBounds:function(t){return!!t&&(this.containsPoint(t.southWest)&&this.containsPoint(t.northEast)||t.containsPoint(this.southWest)&&t.containsPoint(this.northEast))},ext2Inc:function(t){return t?(this.southWest.lng=Math.min(this.southWest.lng,t.lng),this.southWest.lat=Math.min(this.southWest.lat,t.lat),this.northEast.lng=Math.max(this.northEast.lng,t.lng),this.northEast.lat=Math.max(this.northEast.lat,t.lat),this):null},isIntersection:function(t){return!!t&&!(this.northEast.lng<t.southWest.lng||this.northEast.lat>t.southWest.lat||t.northEast.lng<this.southWest.lng||t.northEast.lat>this.southWest.lat)},getIntersectionBounds:function(t){return t&&this.isIntersection(t)?new o(new r.LngLat(Math.max(this.southWest.lng,t.southWest.lng),Math.max(this.southWest.lat,t.southWest.lat)),new r.LngLat(Math.min(this.northEast.lng,t.northEast.lng),Math.min(this.northEast.lat,t.northEast.lat))):null},getCenter:function(){return new r.LngLat(this.southWest.lng/2+this.northEast.lng/2,this.southWest.lat/2+this.northEast.lat/2)},getSouthWest:function(){return this.southWest},getNorthEast:function(){return this.northEast},getNorthWest:function(){if(this.northEast&&this.southWest)return(0,r.toLngLat)([this.southWest.lng,this.northEast.lat])},getSize:function(){return new i.Size(this.northEast.lng-this.southWest.lng,this.northEast.lat-this.southWest.lat)},toString:function(){return this}}},function(t,e,n){"use strict";(function(e){var r=n(27),i=n(551),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(247):void 0!==e&&(t=n(247)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(o)}),t.exports=s}).call(e,n(46))},function(t,e,n){"use strict";var r=n(77);t.exports=new r({explicit:[n(571),n(572),n(573)]})},function(t,e,n){t.exports=!n(8)&&!n(4)(function(){return 7!=Object.defineProperty(n(117)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(6)},function(t,e,n){var r=n(21),i=n(22),o=n(90)(!1),a=n(119)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(9),i=n(2),o=n(57);t.exports=n(8)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(22),i=n(60).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(57),i=n(91),o=n(79),a=n(12),s=n(78),u=Object.assign;t.exports=!u||n(4)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,l=1,c=i.f,h=o.f;u>l;)for(var f,p=s(arguments[l++]),d=c?r(p).concat(c(p)):r(p),m=d.length,g=0;m>g;)h.call(p,f=d[g++])&&(n[f]=p[f]);return n}:u},function(t,e,n){"use strict";var r=n(14),i=n(5),o=n(170),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=n===undefined;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3).parseInt,i=n(68).trim,o=n(123),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(3).parseFloat,i=n(68).trim;t.exports=1/r(n(123)+"-0")!=-Infinity?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(30);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(5),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(126),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*function(t){return t+1/o-1/o}(i/u/a)*u*a:(n=(e=(1+a/o)*i)-(e-i))>s||n!=n?l*Infinity:l*n}},function(t,e,n){var r=n(2);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw o!==undefined&&r(o.call(t)),a}}},function(t,e,n){var r=n(14),i=n(12),o=n(78),a=n(10);t.exports=function(t,e,n,s,u){r(e);var l=i(t),c=o(l),h=a(l.length),f=u?h-1:0,p=u?-1:1;if(n<2)for(;;){if(f in c){s=c[f],f+=p;break}if(f+=p,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=p)f in c&&(s=e(s,c[f],f,l));return s}},function(t,e,n){"use strict";var r=n(12),i=n(58),o=n(10);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:undefined,c=Math.min((l===undefined?a:i(l,a))-u,a-s),h=1;for(u<s&&s<u+c&&(h=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=h,u+=h;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(8)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(95)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,n){var r=n(2),i=n(5),o=n(141);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(185),i=n(70);t.exports=n(99)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(9).f,i=n(59),o=n(64),a=n(29),s=n(62),u=n(63),l=n(129),c=n(180),h=n(61),f=n(8),p=n(49).fastKey,d=n(70),m=f?"_s":"size",g=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=undefined,t._l=undefined,t[m]=0,r!=undefined&&u(r,n,t[l],t)});return o(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=undefined),delete n[r.i];t._f=t._l=undefined,t[m]=0},"delete":function(t){var n=d(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:undefined,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(d(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return d(this,e)[m]}}),c},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:undefined,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=undefined},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=undefined,c(1))},n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(185),i=n(70);t.exports=n(99)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(40)(0),o=n(19),a=n(49),s=n(168),u=n(188),l=n(5),c=n(4),h=n(70),f=a.getWeak,p=Object.isExtensible,d=u.ufstore,m={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},v={get:function(t){if(l(t)){var e=f(t);return!0===e?d(h(this,"WeakMap")).get(t):e?e[this._i]:undefined}},set:function(t,e){return u.def(h(this,"WeakMap"),t,e)}},y=t.exports=n(99)("WeakMap",g,v,u,!0,!0);c(function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)})&&(s((r=u.getConstructor(g,"WeakMap")).prototype,v),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=y.prototype,n=e[t];o(e,t,function(e,i){if(l(e)&&!p(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(64),i=n(49).getWeak,o=n(2),a=n(5),s=n(62),u=n(63),l=n(40),c=n(21),h=n(70),f=l(5),p=l(6),d=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return f(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},"delete":function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=d++,t._l=undefined,r!=undefined&&u(r,n,t[o],t)});return r(l.prototype,{"delete":function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(h(this,e))["delete"](t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?m(h(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?m(t).set(e,n):r[t._i]=n,t},ufstore:m}},function(t,e,n){var r=n(38),i=n(10);t.exports=function(t){if(t===undefined)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(60),i=n(91),o=n(2),a=n(3).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var r=n(92),i=n(5),o=n(10),a=n(29),s=n(6)("isConcatSpreadable");t.exports=function u(t,e,n,l,c,h,f,p){for(var d,m,g=c,v=0,y=!!f&&a(f,p,3);v<l;){if(v in n){if(d=y?y(n[v],v,e):n[v],m=!1,i(d)&&(m=(m=d[s])!==undefined?!!m:r(d)),m&&h>0)g=u(t,e,d,o(d.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=d}g++}v++}return g}},function(t,e,n){var r=n(10),i=n(125),o=n(37);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,l=n===undefined?" ":String(n),c=r(e);if(c<=u||""==l)return s;var h=c-u,f=i.call(l,Math.ceil(h/l.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},function(t,e,n){var r=n(57),i=n(22),o=n(79).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var r=n(80),i=n(195);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(63);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===Infinity||t===-Infinity?t:(t-e)*(i-r)/(n-e)+r}},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(p?-1:1)*Infinity;a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(106)},function(t,e,n){"use strict";(function(e){t.exports=d;var r=n(144),i=n(198),o=n(42).Buffer;d.ReadableState=p;n(107);var a,s=function(t,e){return t.listeners(e).length};!function(){try{a=n(106)}catch(t){}finally{a||(a=n(107).EventEmitter)}}();o=n(42).Buffer;var u=n(83);u.inherits=n(73);var l,c,h=n(468),f=undefined;function p(t,e){c=c||n(65),t=t||{},this.objectMode=!!t.objectMode,e instanceof c&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=n(201).StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function d(t){if(c=c||n(65),!(this instanceof d))return new d(t);this._readableState=new p(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),a.call(this)}function m(t,e,n,i,a){var s=function(t,e){var n=null;o.isBuffer(e)||"string"==typeof e||null===e||e===undefined||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(e,n);if(s)t.emit("error",s);else if(null===n)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,y(t)}(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!a){var u=new Error("stream.push() after EOF");t.emit("error",u)}else if(e.endEmitted&&a){u=new Error("stream.unshift() after end event");t.emit("error",u)}else{var l;!e.decoder||a||i||(n=e.decoder.write(n),l=!e.objectMode&&0===n.length),a||(e.reading=!1),l||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,a?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&y(t))),function(t,e){e.readingMore||(e.readingMore=!0,r(b,t,e))}(t,e)}else a||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}f=h&&h.debuglog?h.debuglog("stream"):function(){},u.inherits(d,a),d.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=new o(t,e),e=""),m(this,n,t,e,!1)},d.prototype.unshift=function(t){return m(this,this._readableState,t,"",!0)},d.prototype.isPaused=function(){return!1===this._readableState.flowing},d.prototype.setEncoding=function(t){return l||(l=n(201).StringDecoder),this._readableState.decoder=new l(t),this._readableState.encoding=t,this};var g=8388608;function v(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=g?t=g:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function y(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r(x,t):x(t))}function x(t){f("emit readable"),t.emit("readable"),E(t)}function b(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function _(t){f("readable nexttick read 0"),t.read(0)}function w(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),E(t),e.flowing&&!e.reading&&t.read(0)}function E(t){var e=t._readableState;if(f("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function A(t,e){var n,r=e.buffer,i=e.length,a=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||t>=i)n=a?r.join(""):1===r.length?r[0]:o.concat(r,i),r.length=0;else{if(t<r[0].length)n=(h=r[0]).slice(0,t),r[0]=h.slice(t);else if(t===r[0].length)n=r.shift();else{n=a?"":new o(t);for(var u=0,l=0,c=r.length;l<c&&u<t;l++){var h=r[0],f=Math.min(t-u,h.length);a?n+=h.slice(0,f):h.copy(n,u,0,f),f<h.length?r[0]=h.slice(f):r.shift(),u+=f}}}return n}function S(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,r(C,e,t))}function C(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}d.prototype.read=function(t){f("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?S(this):y(this),null;if(0===(t=v(t,e))&&e.ended)return 0===e.length&&S(this),null;var r,i=e.needReadable;return f("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",i=!0),(e.ended||e.reading)&&f("reading or ended",i=!1),i&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=v(n,e)),null===(r=t>0?A(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&S(this),null!==r&&this.emit("data",r),r},d.prototype._read=function(t){this.emit("error",new Error("not implemented"))},d.prototype.pipe=function(t,n){var o=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,n);var u=(!n||!1!==n.end)&&t!==e.stdout&&t!==e.stderr?c:d;function l(t){f("onunpipe"),t===o&&d()}function c(){f("onend"),t.end()}a.endEmitted?r(u):o.once("end",u),t.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,E(t))}}(o);t.on("drain",h);var p=!1;function d(){f("cleanup"),t.removeListener("close",v),t.removeListener("finish",y),t.removeListener("drain",h),t.removeListener("error",g),t.removeListener("unpipe",l),o.removeListener("end",c),o.removeListener("end",d),o.removeListener("data",m),p=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||h()}function m(e){f("ondata"),!1===t.write(e)&&(1!==a.pipesCount||a.pipes[0]!==t||1!==o.listenerCount("data")||p||(f("false write response, pause",o._readableState.awaitDrain),o._readableState.awaitDrain++),o.pause())}function g(e){f("onerror",e),x(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",y),x()}function y(){f("onfinish"),t.removeListener("close",v),x()}function x(){f("unpipe"),o.unpipe(t)}return o.on("data",m),t._events&&t._events.error?i(t._events.error)?t._events.error.unshift(g):t._events.error=[g,t._events.error]:t.on("error",g),t.once("close",v),t.once("finish",y),t.emit("pipe",o),a.flowing||(f("pipe resume"),o.resume()),t},d.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var o=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}(e.pipes,t);return-1===o?this:(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},d.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var i=this._readableState;i.readableListening||(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading?i.length&&y(this):r(_,this))}return n},d.prototype.addListener=d.prototype.on,d.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r(w,t,e))}(this,t)),this},d.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},d.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;for(var i in t.on("end",function(){if(f("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){(f("wrapped data"),e.decoder&&(i=e.decoder.write(i)),!e.objectMode||null!==i&&i!==undefined)&&((e.objectMode||i&&i.length)&&(r.push(i)||(n=!0,t.pause())))}),t)this[i]===undefined&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));return function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(["error","close","destroy","pause","resume"],function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){f("wrapped _read",e),n&&(n=!1,t.resume())},r},d._fromList=A}).call(e,n(46))},function(t,e,n){"use strict";var r=n(472).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=l,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=c,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return n!==undefined?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if((e=this.fillLast(t))===undefined)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var r=n(146),i=n(83);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(73),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r=n(7),i=n(52),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,i,a,s,u,l,c=[],h=0,f=t.length,p=f,d="string"!==r.getTypeOf(t);h<t.length;)p=f-h,d?(e=t[h++],n=h<f?t[h++]:0,i=h<f?t[h++]:0):(e=t.charCodeAt(h++),n=h<f?t.charCodeAt(h++):0,i=h<f?t.charCodeAt(h++):0),a=e>>2,s=(3&e)<<4|n>>4,u=p>1?(15&n)<<2|i>>6:64,l=p>2?63&i:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(u)+o.charAt(l));return c.join("")},e.decode=function(t){var e,n,r,a,s,u,l=0,c=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=i.uint8array?new Uint8Array(0|f):new Array(0|f);l<t.length;)e=o.indexOf(t.charAt(l++))<<2|(a=o.indexOf(t.charAt(l++)))>>4,n=(15&a)<<4|(s=o.indexOf(t.charAt(l++)))>>2,r=(3&s)<<6|(u=o.indexOf(t.charAt(l++))),h[c++]=e,64!==s&&(h[c++]=n),64!==u&&(h[c++]=r);return h}},function(t,e){var n=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(480);t.exports=function(t,e,n){if(r(t),e===undefined)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var r=n(147),i=n(109).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){"use strict";(function(e){var r=n(7),i=n(493),o=n(25),a=n(203),s=n(52),u=n(84),l=null;if(s.nodestream)try{l=n(494)}catch(f){}function c(t,n){return new u.Promise(function(i,o){var s=[],u=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",function(t,e){s.push(t),n&&n(e)}).on("error",function(t){s=[],o(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return r.newBlob(r.transformTo("arraybuffer",e),n);case"base64":return a.encode(e);default:return r.transformTo(t,e)}}(l,function(t,n){var r,i=0,o=null,a=0;for(r=0;r<n.length;r++)a+=n[r].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(a),r=0;r<n.length;r++)o.set(n[r],i),i+=n[r].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(u,s),c);i(t)}catch(f){o(f)}s=[]}).resume()})}function h(t,e,n){var a=e;switch(e){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=e,this._mimeType=n,r.checkSupport(a),this._worker=t.pipe(new i(a)),t.lock()}catch(f){this._worker=new o("error"),this._worker.error(f)}}h.prototype={accumulate:function(t){return c(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){r.delay(e,arguments,n)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=h}).call(e,n(42).Buffer)},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";var r=n(7),i=n(25);function o(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},function(t,e,n){"use strict";var r=n(7),i=n(25);function o(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}r.inherits(o,i),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},t.exports=o},function(t,e,n){"use strict";var r=n(25),i=n(150);function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(7).inherits(o,r),o.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=o},function(t,e,n){"use strict";var r=n(25);e.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},e.DEFLATE=n(497)},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+e[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var o=r,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var r=n(53),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(l){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,o,s=e||t.length,l=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)l[r++]=i;else if((o=a[i])>4)l[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&t[n++],o--;o>1?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return u(l,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";var r=n(7),i=n(52),o=n(221),a=n(510),s=n(511),u=n(223);t.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new u(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new a(t)}},function(t,e,n){"use strict";var r=n(222);function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}n(7).inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";var r=n(7);function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=i},function(t,e,n){"use strict";var r=n(221);function i(t){r.call(this,t)}n(7).inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",f=Math.round,p=Math.abs,d=Date.now;function m(t,e,n){return setTimeout(w(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(v(t,n[e],n),!0)}function v(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function y(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var x=y(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===s)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),b=y(function(t,e){return x(t,e,!0)},"merge","Use `assign`.");function _(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&u(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function E(t,e){return typeof t==h?t.apply(e&&e[0]||s,e):t}function A(t,e){return t===s?e:t}function S(t,e,n){v(k(e),function(e){t.addEventListener(e,n,!1)})}function C(t,e,n){v(k(e),function(e){t.removeEventListener(e,n,!1)})}function D(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function M(t,e){return t.indexOf(e)>-1}function k(t){return t.trim().split(/\s+/g)}function T(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function L(t){return Array.prototype.slice.call(t,0)}function I(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];T(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function B(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:e)in t)return r;o++}return s}var R=1;function F(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var P="ontouchstart"in i,O=B(i,"PointerEvent")!==s,N=P&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),U=25,z=1,j=2,W=4,Y=8,G=1,V=2,H=4,q=8,X=16,Z=V|H,J=q|X,K=Z|J,$=["x","y"],Q=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){E(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&z&&r-i==0,a=e&(W|Y)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=nt(e));i>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=e.center=rt(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=st(u,l),e.distance=at(u,l),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==z&&o.eventType!==W||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c=it(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=a?function(t,e){return at(e[0],e[1],Q)/at(t[0],t[1],Q)}(a.pointers,r):1,e.rotation=a?function(t,e){return st(e[1],e[0],Q)+st(t[1],t[0],Q)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!=Y&&(u>U||a.velocity===s)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,h=it(u,l,c);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=ot(l,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var h=t.element;D(e.srcEvent.target,h)&&(h=e.srcEvent.target);e.target=h}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:f(t.pointers[n].clientX),clientY:f(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:rt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rt(t){var e=t.length;if(1===e)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:f(n/e),y:f(r/e)}}function it(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?G:p(t)>=p(e)?t<0?V:H:e<0?q:X}function at(t,e,n){n||(n=$);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function st(t,e,n){n||(n=$);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(F(this.element),this.evWin,this.domHandler)}};var ut={mousedown:z,mousemove:j,mouseup:W},lt="mousedown",ct="mousemove mouseup";function ht(){this.evEl=lt,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}_(ht,tt,{handler:function(t){var e=ut[t.type];e&z&&0===t.button&&(this.pressed=!0),e&j&&1!==t.which&&(e=W),this.pressed&&(e&W&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ft={pointerdown:z,pointermove:j,pointerup:W,pointercancel:Y,pointerout:Y},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},dt="pointerdown",mt="pointermove pointerup pointercancel";function gt(){this.evEl=dt,this.evWin=mt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(dt="MSPointerDown",mt="MSPointerMove MSPointerUp MSPointerCancel"),_(gt,tt,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ft[r],o=pt[t.pointerType]||t.pointerType,a="touch"==o,s=T(e,t.pointerId,"pointerId");i&z&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):i&(W|Y)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var vt={touchstart:z,touchmove:j,touchend:W,touchcancel:Y},yt="touchstart",xt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=yt,this.evWin=xt,this.started=!1,tt.apply(this,arguments)}_(bt,tt,{handler:function(t){var e=vt[t.type];if(e===z&&(this.started=!0),this.started){var n=function(t,e){var n=L(t.touches),r=L(t.changedTouches);e&(W|Y)&&(n=I(n.concat(r),"identifier",!0));return[n,r]}.call(this,t,e);e&(W|Y)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var _t={touchstart:z,touchmove:j,touchend:W,touchcancel:Y},wt="touchstart touchmove touchend touchcancel";function Et(){this.evTarget=wt,this.targetIds={},tt.apply(this,arguments)}_(Et,tt,{handler:function(t){var e=_t[t.type],n=function(t,e){var n=L(t.touches),r=this.targetIds;if(e&(z|j)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=L(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return D(t.target,u)}),e===z)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(W|Y)&&delete r[a[i].identifier],i++;if(!s.length)return;return[I(o.concat(s),"identifier",!0),s]}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var At=2500,St=25;function Ct(){tt.apply(this,arguments);var t=w(this.handler,this);this.touch=new Et(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Dt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},At)}}_(Ct,tt,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(t,e){t&z?(this.primaryTouch=e.changedPointers[0].identifier,Dt.call(this,e)):t&(W|Y)&&Dt.call(this,e)}).call(this,e,n);else if(i&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=St&&a<=St)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Mt=B(c.style,"touchAction"),kt=Mt!==s,Tt="auto",Lt="manipulation",It="none",Bt="pan-x",Rt="pan-y",Ft=function(){if(!kt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function Pt(t,e){this.manager=t,this.set(e)}Pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),kt&&this.manager.element.style&&Ft[t]&&(this.manager.element.style[Mt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(e){E(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(M(t,It))return It;var e=M(t,Bt),n=M(t,Rt);if(e&&n)return It;if(e||n)return e?Bt:Rt;if(M(t,Lt))return Lt;return Tt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=M(r,It)&&!Ft[It],o=M(r,Rt)&&!Ft[Rt],a=M(r,Bt)&&!Ft[Bt];if(i){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&n&Z||a&&n&J?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Ot=1,Nt=2,Ut=4,zt=8,jt=zt,Wt=16;function Yt(t){this.options=u({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=A(this.options.enable,!0),this.state=Ot,this.simultaneous={},this.requireFail=[]}function Gt(t){return t&Wt?"cancel":t&zt?"end":t&Ut?"move":t&Nt?"start":""}function Vt(t){return t==X?"down":t==q?"up":t==V?"left":t==H?"right":""}function Ht(t,e){var n=e.manager;return n?n.get(t):t}function qt(){Yt.apply(this,arguments)}function Xt(){qt.apply(this,arguments),this.pX=null,this.pY=null}function Zt(){qt.apply(this,arguments)}function Jt(){Yt.apply(this,arguments),this._timer=null,this._input=null}function Kt(){qt.apply(this,arguments)}function $t(){qt.apply(this,arguments)}function Qt(){Yt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function te(t,e){return(e=e||{}).recognizers=A(e.recognizers,te.defaults.preset),new ee(t,e)}Yt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Ht(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=Ht(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===T(e,t=Ht(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=Ht(t,this);var e=T(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<zt&&r(e.options.event+Gt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=zt&&r(e.options.event+Gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Ot)))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!E(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(jt|Wt|32)&&(this.state=Ot),this.state=this.process(e),this.state&(Nt|Ut|zt|Wt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(qt,Yt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Nt|Ut),i=this.attrTest(t);return r&&(n&Y||!i)?e|Wt:r||i?n&W?e|zt:e&Nt?e|Ut:Nt:32}}),_(Xt,qt,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var t=this.options.direction,e=[];return t&Z&&e.push(Rt),t&J&&e.push(Bt),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Z?(i=0===o?G:o<0?V:H,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?G:a<0?q:X,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return qt.prototype.attrTest.call(this,t)&&(this.state&Nt||!(this.state&Nt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(Zt,qt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[It]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Nt)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),_(Jt,Yt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Tt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(W|Y)&&!i)this.reset();else if(t.eventType&z)this.reset(),this._timer=m(function(){this.state=jt,this.tryEmit()},e.time,this);else if(t.eventType&W)return jt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===jt&&(t&&t.eventType&W?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),_(Kt,qt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[It]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Nt)}}),_($t,qt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|J,pointers:1},getTouchAction:function(){return Xt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Z|J)?e=t.overallVelocity:n&Z?e=t.overallVelocityX:n&J&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&W},emit:function(t){var e=Vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(Qt,Yt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Lt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&z&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=W)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=m(function(){this.state=jt,this.tryEmit()},e.interval,this),Nt):jt}return 32},failTimeout:function(){return this._timer=m(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==jt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),te.VERSION="2.0.7",te.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Kt,{enable:!1}],[Zt,{enable:!1},["rotate"]],[$t,{direction:Z}],[Xt,{direction:Z},["swipe"]],[Qt],[Qt,{event:"doubletap",taps:2},["tap"]],[Jt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ee(t,e){this.options=u({},te.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){var e=t.options.inputClass;return new(e||(O?gt:N?Et:P?Ct:ht))(t,et)}(this),this.touchAction=new Pt(this,this.options.touchAction),ne(this,!0),v(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ne(t,e){var n,r=t.element;r.style&&(v(t.options.cssProps,function(i,o){n=B(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}ee.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&jt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Nt|Ut|zt)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Yt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=T(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return v(k(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==s){var n=this.handlers;return v(k(t),function(t){e?n[t]&&n[t].splice(T(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ne(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(te,{INPUT_START:z,INPUT_MOVE:j,INPUT_END:W,INPUT_CANCEL:Y,STATE_POSSIBLE:Ot,STATE_BEGAN:Nt,STATE_CHANGED:Ut,STATE_ENDED:zt,STATE_RECOGNIZED:jt,STATE_CANCELLED:Wt,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:V,DIRECTION_RIGHT:H,DIRECTION_UP:q,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:J,DIRECTION_ALL:K,Manager:ee,Input:tt,TouchAction:Pt,TouchInput:Et,MouseInput:ht,PointerEventInput:gt,TouchMouseInput:Ct,SingleTouchInput:bt,Recognizer:Yt,AttrRecognizer:qt,Tap:Qt,Pan:Xt,Swipe:$t,Pinch:Zt,Rotate:Kt,Press:Jt,on:S,off:C,each:v,merge:b,extend:x,assign:u,inherit:_,bindFn:w,prefixed:B}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=te,(r=function(){return te}.call(e,n,e,t))===s||(t.exports=r)}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){let e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,i,o,a,s,u,l){let c=new r.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=o,c[5]=a,c[6]=s,c[7]=u,c[8]=l,c},e.set=function(t,e,n,r,i,o,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){let n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=c*a-s*l,f=-c*o+s*u,p=l*o-a*u,d=n*h+r*f+i*p;if(!d)return null;return d=1/d,t[0]=h*d,t[1]=(-c*r+i*l)*d,t[2]=(s*r-i*a)*d,t[3]=f*d,t[4]=(c*n-i*u)*d,t[5]=(-s*n+i*o)*d,t[6]=p*d,t[7]=(-l*n+r*u)*d,t[8]=(a*n-r*o)*d,t},e.adjoint=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=a*c-s*l,t[1]=i*l-r*c,t[2]=r*s-i*a,t[3]=s*u-o*c,t[4]=n*c-i*u,t[5]=i*o-n*s,t[6]=o*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*o,t},e.determinant=function(t){let e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*o-a*u)+n*(-l*i+a*s)+r*(u*i-o*s)},e.multiply=i,e.translate=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=f*r+p*a+l,t[7]=f*i+p*s+c,t[8]=f*o+p*u+h,t},e.rotate=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(n),p=Math.cos(n);return t[0]=p*r+f*a,t[1]=p*i+f*s,t[2]=p*o+f*u,t[3]=p*a-f*r,t[4]=p*s-f*i,t[5]=p*u-f*o,t[6]=l,t[7]=c,t[8]=h,t},e.scale=function(t,e,n){let r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,p=i*s,d=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-h-d,t[3]=c-v,t[6]=f+g,t[1]=c+v,t[4]=1-l-d,t[7]=p-m,t[2]=f-g,t[5]=p+m,t[8]=1-l-h,t},e.normalFromMat4=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,x=n*u-i*a,b=n*l-o*a,_=r*u-i*s,w=r*l-o*s,E=i*l-o*u,A=c*m-h*d,S=c*g-f*d,C=c*v-p*d,D=h*g-f*m,M=h*v-p*m,k=f*v-p*g,T=y*k-x*M+b*D+_*C-w*S+E*A;if(!T)return null;return T=1/T,t[0]=(s*k-u*M+l*D)*T,t[1]=(u*C-a*k-l*S)*T,t[2]=(a*M-s*C+l*A)*T,t[3]=(i*M-r*k-o*D)*T,t[4]=(n*k-i*C+o*S)*T,t[5]=(r*C-n*M-o*A)*T,t[6]=(m*E-g*w+v*_)*T,t[7]=(g*b-d*E-v*x)*T,t[8]=(d*w-m*b+v*y)*T,t},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){let n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=e[0],p=e[1],d=e[2],m=e[3],g=e[4],v=e[5],y=e[6],x=e[7],b=e[8];return Math.abs(n-f)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-d)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-m)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-g)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-v)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(l-y)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-x)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(x))&&Math.abs(h-b)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))};var r=n(43);function i(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=n[0],p=n[1],d=n[2],m=n[3],g=n[4],v=n[5],y=n[6],x=n[7],b=n[8];return t[0]=f*r+p*a+d*l,t[1]=f*i+p*s+d*c,t[2]=f*o+p*u+d*h,t[3]=m*r+g*a+v*l,t[4]=m*i+g*s+v*c,t[5]=m*o+g*u+v*h,t[6]=y*r+x*a+b*l,t[7]=y*i+x*s+b*c,t[8]=y*o+x*u+b*h,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}const a=i;e.mul=a;const s=o;e.sub=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.clone=function(t){let e=new r.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.fromValues=function(t,e,n,i,o,a,s,u,l,c,h,f,p,d,m,g){let v=new r.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=n,v[3]=i,v[4]=o,v[5]=a,v[6]=s,v[7]=u,v[8]=l,v[9]=c,v[10]=h,v[11]=f,v[12]=p,v[13]=d,v[14]=m,v[15]=g,v},e.set=function(t,e,n,r,i,o,a,s,u,l,c,h,f,p,d,m,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=h,t[11]=f,t[12]=p,t[13]=d,t[14]=m,t[15]=g,t},e.identity=i,e.transpose=function(t,e){if(t===e){let n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*a,x=n*u-i*a,b=n*l-o*a,_=r*u-i*s,w=r*l-o*s,E=i*l-o*u,A=c*m-h*d,S=c*g-f*d,C=c*v-p*d,D=h*g-f*m,M=h*v-p*m,k=f*v-p*g,T=y*k-x*M+b*D+_*C-w*S+E*A;if(!T)return null;return T=1/T,t[0]=(s*k-u*M+l*D)*T,t[1]=(i*M-r*k-o*D)*T,t[2]=(m*E-g*w+v*_)*T,t[3]=(f*w-h*E-p*_)*T,t[4]=(u*C-a*k-l*S)*T,t[5]=(n*k-i*C+o*S)*T,t[6]=(g*b-d*E-v*x)*T,t[7]=(c*E-f*b+p*x)*T,t[8]=(a*M-s*C+l*A)*T,t[9]=(r*C-n*M-o*A)*T,t[10]=(d*w-m*b+v*y)*T,t[11]=(h*b-c*w-p*y)*T,t[12]=(s*S-a*D-u*A)*T,t[13]=(n*D-r*S+i*A)*T,t[14]=(m*x-d*_-g*y)*T,t[15]=(c*_-h*x+f*y)*T,t},e.adjoint=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(f*v-p*g)-h*(u*v-l*g)+m*(u*p-l*f),t[1]=-(r*(f*v-p*g)-h*(i*v-o*g)+m*(i*p-o*f)),t[2]=r*(u*v-l*g)-s*(i*v-o*g)+m*(i*l-o*u),t[3]=-(r*(u*p-l*f)-s*(i*p-o*f)+h*(i*l-o*u)),t[4]=-(a*(f*v-p*g)-c*(u*v-l*g)+d*(u*p-l*f)),t[5]=n*(f*v-p*g)-c*(i*v-o*g)+d*(i*p-o*f),t[6]=-(n*(u*v-l*g)-a*(i*v-o*g)+d*(i*l-o*u)),t[7]=n*(u*p-l*f)-a*(i*p-o*f)+c*(i*l-o*u),t[8]=a*(h*v-p*m)-c*(s*v-l*m)+d*(s*p-l*h),t[9]=-(n*(h*v-p*m)-c*(r*v-o*m)+d*(r*p-o*h)),t[10]=n*(s*v-l*m)-a*(r*v-o*m)+d*(r*l-o*s),t[11]=-(n*(s*p-l*h)-a*(r*p-o*h)+c*(r*l-o*s)),t[12]=-(a*(h*g-f*m)-c*(s*g-u*m)+d*(s*f-u*h)),t[13]=n*(h*g-f*m)-c*(r*g-i*m)+d*(r*f-i*h),t[14]=-(n*(s*g-u*m)-a*(r*g-i*m)+d*(r*u-i*s)),t[15]=n*(s*f-u*h)-a*(r*f-i*h)+c*(r*u-i*s),t},e.determinant=function(t){let e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],p=t[12],d=t[13],m=t[14],g=t[15];return(e*a-n*o)*(h*g-f*m)-(e*s-r*o)*(c*g-f*d)+(e*u-i*o)*(c*m-h*d)+(n*s-r*a)*(l*g-f*p)-(n*u-i*a)*(l*m-h*p)+(r*u-i*s)*(l*d-c*p)},e.multiply=o,e.translate=function(t,e,n){let r,i,o,a,s,u,l,c,h,f,p,d,m=n[0],g=n[1],v=n[2];e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=r*m+s*g+h*v+e[12],t[13]=i*m+u*g+f*v+e[13],t[14]=o*m+l*g+p*v+e[14],t[15]=a*m+c*g+d*v+e[15]);return t},e.scale=function(t,e,n){let r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.rotate=function(t,e,n,i){let o,a,s,u,l,c,h,f,p,d,m,g,v,y,x,b,_,w,E,A,S,C,D,M,k=i[0],T=i[1],L=i[2],I=Math.sqrt(k*k+T*T+L*L);if(I<r.EPSILON)return null;k*=I=1/I,T*=I,L*=I,o=Math.sin(n),a=Math.cos(n),s=1-a,u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],p=e[5],d=e[6],m=e[7],g=e[8],v=e[9],y=e[10],x=e[11],b=k*k*s+a,_=T*k*s+L*o,w=L*k*s-T*o,E=k*T*s-L*o,A=T*T*s+a,S=L*T*s+k*o,C=k*L*s+T*o,D=T*L*s-k*o,M=L*L*s+a,t[0]=u*b+f*_+g*w,t[1]=l*b+p*_+v*w,t[2]=c*b+d*_+y*w,t[3]=h*b+m*_+x*w,t[4]=u*E+f*A+g*S,t[5]=l*E+p*A+v*S,t[6]=c*E+d*A+y*S,t[7]=h*E+m*A+x*S,t[8]=u*C+f*D+g*M,t[9]=l*C+p*D+v*M,t[10]=c*C+d*D+y*M,t[11]=h*C+m*D+x*M,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},e.rotateX=function(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t},e.rotateY=function(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t},e.rotateZ=function(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotation=function(t,e,n){let i,o,a,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);if(c<r.EPSILON)return null;return s*=c=1/c,u*=c,l*=c,i=Math.sin(e),o=Math.cos(e),a=1-o,t[0]=s*s*a+o,t[1]=u*s*a+l*i,t[2]=l*s*a-u*i,t[3]=0,t[4]=s*u*a-l*i,t[5]=u*u*a+o,t[6]=l*u*a+s*i,t[7]=0,t[8]=s*l*a+u*i,t[9]=u*l*a-s*i,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromXRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromYRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromZRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.fromRotationTranslation=a,e.fromQuat2=function(t,e){let n=new r.ARRAY_TYPE(3),i=-e[0],o=-e[1],s=-e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7],p=i*i+o*o+s*s+u*u;p>0?(n[0]=2*(l*u+f*i+c*s-h*o)/p,n[1]=2*(c*u+f*o+h*i-l*s)/p,n[2]=2*(h*u+f*s+l*o-c*i)/p):(n[0]=2*(l*u+f*i+c*s-h*o),n[1]=2*(c*u+f*o+h*i-l*s),n[2]=2*(h*u+f*s+l*o-c*i));return a(t,e,n),t},e.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},e.getScaling=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+s*s),t[2]=Math.sqrt(u*u+l*l+c*c),t},e.getRotation=function(t,e){let n=e[0]+e[5]+e[10],r=0;n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r);return t},e.fromRotationTranslationScale=function(t,e,n,r){let i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,h=i*u,f=i*l,p=i*c,d=o*l,m=o*c,g=a*c,v=s*u,y=s*l,x=s*c,b=r[0],_=r[1],w=r[2];return t[0]=(1-(d+g))*b,t[1]=(f+x)*b,t[2]=(p-y)*b,t[3]=0,t[4]=(f-x)*_,t[5]=(1-(h+g))*_,t[6]=(m+v)*_,t[7]=0,t[8]=(p+y)*w,t[9]=(m-v)*w,t[10]=(1-(h+d))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},e.fromRotationTranslationScaleOrigin=function(t,e,n,r,i){let o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,h=s+s,f=o*l,p=o*c,d=o*h,m=a*c,g=a*h,v=s*h,y=u*l,x=u*c,b=u*h,_=r[0],w=r[1],E=r[2],A=i[0],S=i[1],C=i[2],D=(1-(m+v))*_,M=(p+b)*_,k=(d-x)*_,T=(p-b)*w,L=(1-(f+v))*w,I=(g+y)*w,B=(d+x)*E,R=(g-y)*E,F=(1-(f+m))*E;return t[0]=D,t[1]=M,t[2]=k,t[3]=0,t[4]=T,t[5]=L,t[6]=I,t[7]=0,t[8]=B,t[9]=R,t[10]=F,t[11]=0,t[12]=n[0]+A-(D*A+T*S+B*C),t[13]=n[1]+S-(M*A+L*S+R*C),t[14]=n[2]+C-(k*A+I*S+F*C),t[15]=1,t},e.fromQuat=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,p=i*s,d=i*u,m=o*a,g=o*s,v=o*u;return t[0]=1-h-d,t[1]=c+v,t[2]=f-g,t[3]=0,t[4]=c-v,t[5]=1-l-d,t[6]=p+m,t[7]=0,t[8]=f+g,t[9]=p-m,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},e.frustum=function(t,e,n,r,i,o,a){let s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t},e.perspective=function(t,e,n,r,i){let o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t},e.perspectiveFromFieldOfView=function(t,e,n,r){let i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t},e.ortho=function(t,e,n,r,i,o,a){let s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t},e.lookAt=function(t,e,n,o){let a,s,u,l,c,h,f,p,d,m,g=e[0],v=e[1],y=e[2],x=o[0],b=o[1],_=o[2],w=n[0],E=n[1],A=n[2];if(Math.abs(g-w)<r.EPSILON&&Math.abs(v-E)<r.EPSILON&&Math.abs(y-A)<r.EPSILON)return i(t);f=g-w,p=v-E,d=y-A,m=1/Math.sqrt(f*f+p*p+d*d),a=b*(d*=m)-_*(p*=m),s=_*(f*=m)-x*d,u=x*p-b*f,(m=Math.sqrt(a*a+s*s+u*u))?(a*=m=1/m,s*=m,u*=m):(a=0,s=0,u=0);l=p*u-d*s,c=d*a-f*u,h=f*s-p*a,(m=Math.sqrt(l*l+c*c+h*h))?(l*=m=1/m,c*=m,h*=m):(l=0,c=0,h=0);return t[0]=a,t[1]=l,t[2]=f,t[3]=0,t[4]=s,t[5]=c,t[6]=p,t[7]=0,t[8]=u,t[9]=h,t[10]=d,t[11]=0,t[12]=-(a*g+s*v+u*y),t[13]=-(l*g+c*v+h*y),t[14]=-(f*g+p*v+d*y),t[15]=1,t},e.targetTo=function(t,e,n,r){let i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],l=r[2],c=i-n[0],h=o-n[1],f=a-n[2],p=c*c+h*h+f*f;p>0&&(p=1/Math.sqrt(p),c*=p,h*=p,f*=p);let d=u*f-l*h,m=l*c-s*f,g=s*h-u*c;(p=d*d+m*m+g*g)>0&&(p=1/Math.sqrt(p),d*=p,m*=p,g*=p);return t[0]=d,t[1]=m,t[2]=g,t[3]=0,t[4]=h*g-f*m,t[5]=f*d-c*g,t[6]=c*m-h*d,t[7]=0,t[8]=c,t[9]=h,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t},e.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t},e.subtract=s,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},e.equals=function(t,e){let n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],p=t[10],d=t[11],m=t[12],g=t[13],v=t[14],y=t[15],x=e[0],b=e[1],_=e[2],w=e[3],E=e[4],A=e[5],S=e[6],C=e[7],D=e[8],M=e[9],k=e[10],T=e[11],L=e[12],I=e[13],B=e[14],R=e[15];return Math.abs(n-x)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(i-b)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-_)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-w)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-E)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-A)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(l-S)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-C)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(h-D)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(D))&&Math.abs(f-M)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(p-k)<=r.EPSILON*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(d-T)<=r.EPSILON*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(m-L)<=r.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(g-I)<=r.EPSILON*Math.max(1,Math.abs(g),Math.abs(I))&&Math.abs(v-B)<=r.EPSILON*Math.max(1,Math.abs(v),Math.abs(B))&&Math.abs(y-R)<=r.EPSILON*Math.max(1,Math.abs(y),Math.abs(R))};var r=n(43);function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function o(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],m=e[12],g=e[13],v=e[14],y=e[15],x=n[0],b=n[1],_=n[2],w=n[3];return t[0]=x*r+b*s+_*h+w*m,t[1]=x*i+b*u+_*f+w*g,t[2]=x*o+b*l+_*p+w*v,t[3]=x*a+b*c+_*d+w*y,x=n[4],b=n[5],_=n[6],w=n[7],t[4]=x*r+b*s+_*h+w*m,t[5]=x*i+b*u+_*f+w*g,t[6]=x*o+b*l+_*p+w*v,t[7]=x*a+b*c+_*d+w*y,x=n[8],b=n[9],_=n[10],w=n[11],t[8]=x*r+b*s+_*h+w*m,t[9]=x*i+b*u+_*f+w*g,t[10]=x*o+b*l+_*p+w*v,t[11]=x*a+b*c+_*d+w*y,x=n[12],b=n[13],_=n[14],w=n[15],t[12]=x*r+b*s+_*h+w*m,t[13]=x*i+b*u+_*f+w*g,t[14]=x*o+b*l+_*p+w*v,t[15]=x*a+b*c+_*d+w*y,t}function a(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,h=r*u,f=r*l,p=i*u,d=i*l,m=o*l,g=a*s,v=a*u,y=a*l;return t[0]=1-(p+m),t[1]=h+y,t[2]=f-v,t[3]=0,t[4]=h-y,t[5]=1-(c+m),t[6]=d+g,t[7]=0,t[8]=f+v,t[9]=d-g,t[10]=1-(c+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}const u=o;e.mul=u;const l=s;e.sub=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=s,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},e.setAxisAngle=u,e.getAxisAngle=function(t,e){let n=2*Math.acos(e[3]),r=Math.sin(n/2);0!=r?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0);return n},e.multiply=l,e.rotateX=function(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-r*s,t},e.rotateY=function(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u-o*s,t[1]=i*u+a*s,t[2]=o*u+r*s,t[3]=a*u-i*s,t},e.rotateZ=function(t,e,n){n*=.5;let r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*s,t[1]=i*u-r*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t},e.calculateW=function(t,e){let n=e[0],r=e[1],i=e[2];return t[0]=n,t[1]=r,t[2]=i,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),t},e.slerp=c,e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},e.fromMat3=h,e.fromEuler=function(t,e,n,r){let i=.5*Math.PI/180;e*=i,n*=i,r*=i;let o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return t[0]=o*u*c-a*s*l,t[1]=a*s*c+o*u*l,t[2]=a*u*l-o*s*c,t[3]=a*u*c+o*s*l,t},e.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"};var r=n(43),i=n(225),o=n(228),a=n(229);function s(){let t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function u(t,e,n){n*=.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function l(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,t}function c(t,e,n,r){let i,o,a,s,u,l=e[0],c=e[1],h=e[2],f=e[3],p=n[0],d=n[1],m=n[2],g=n[3];return(o=l*p+c*d+h*m+f*g)<0&&(o=-o,p=-p,d=-d,m=-m,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),t[0]=s*l+u*p,t[1]=s*c+u*d,t[2]=s*h+u*m,t[3]=s*f+u*g,t}function h(t,e){let n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);let i=(r+1)%3,o=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*i+i]-e[3*o+o]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*i+o]-e[3*o+i])*n,t[i]=(e[3*i+r]+e[3*r+i])*n,t[o]=(e[3*o+r]+e[3*r+o])*n}return t}const f=a.clone;e.clone=f;const p=a.fromValues;e.fromValues=p;const d=a.copy;e.copy=d;const m=a.set;e.set=m;const g=a.add;e.add=g;const v=l;e.mul=v;const y=a.scale;e.scale=y;const x=a.dot;e.dot=x;const b=a.lerp;e.lerp=b;const _=a.length;e.length=_;const w=_;e.len=w;const E=a.squaredLength;e.squaredLength=E;const A=E;e.sqrLen=A;const S=a.normalize;e.normalize=S;const C=a.exactEquals;e.exactEquals=C;const D=a.equals;e.equals=D;const M=function(){let t=o.create(),e=o.fromValues(1,0,0),n=o.fromValues(0,1,0);return function(r,i,a){let s=o.dot(i,a);return s<-.999999?(o.cross(t,e,i),o.len(t)<1e-6&&o.cross(t,n,i),o.normalize(t,t),u(r,t,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(o.cross(t,i,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+s,S(r,r))}}();e.rotationTo=M;const k=function(){let t=s(),e=s();return function(n,r,i,o,a,s){return c(t,r,a,s),c(e,i,o,s),c(n,t,e,2*s*(1-s)),n}}();e.sqlerp=k;const T=function(){let t=i.create();return function(e,n,r,i){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],S(e,h(e,t))}}();e.setAxes=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=o,e.fromValues=a,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=s,e.multiply=u,e.divide=l,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=c,e.squaredDistance=h,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=p,e.dot=d,e.cross=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.lerp=function(t,e,n,r){let i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.hermite=function(t,e,n,r,i,o){let a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t},e.bezier=function(t,e,n,r,i,o){let a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,h=3*u*a,f=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*h+i[0]*f,t[1]=e[1]*l+n[1]*c+r[1]*h+i[1]*f,t[2]=e[2]*l+n[2]*c+r[2]*h+i[2]*f,t},e.random=function(t,e){e=e||1;let n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},e.transformMat4=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){let r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){let r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=i*l-o*u,h=o*s-r*l,f=r*u-i*s,p=i*f-o*h,d=o*c-r*f,m=r*h-i*c,g=2*a;return c*=g,h*=g,f*=g,p*=2,d*=2,m*=2,t[0]=s+c+p,t[1]=u+h+d,t[2]=l+f+m,t},e.rotateX=function(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){let i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){let n=a(t[0],t[1],t[2]),r=a(e[0],e[1],e[2]);p(n,n),p(r,r);let i=d(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){let n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-u)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(u))};var r=n(43);function i(){let t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function o(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function a(t,e,n){let i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function c(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function h(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function f(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function p(t,e){let n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}const m=s;e.sub=m;const g=u;e.mul=g;const v=l;e.div=v;const y=c;e.dist=y;const x=h;e.sqrDist=x;const b=o;e.len=b;const _=f;e.sqrLen=_;const w=function(){let t=i();return function(e,n,r,i,o,a){let s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();e.forEach=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=i,e.clone=function(t){let e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.fromValues=function(t,e,n,i){let o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},e.scale=u,e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},e.distance=l,e.squaredDistance=c,e.length=h,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},e.normalize=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.lerp=function(t,e,n,r){let i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t[3]=s+r*(n[3]-s),t},e.random=function(t,e){var n,i,o,a,s,l;e=e||1;do{n=2*r.RANDOM()-1,i=2*r.RANDOM()-1,s=n*n+i*i}while(s>=1);do{o=2*r.RANDOM()-1,a=2*r.RANDOM()-1,l=o*o+a*a}while(l>=1);var c=Math.sqrt((1-s)/l);return t[0]=u*n,t[1]=u*i,t[2]=u*o*c,t[3]=u*a*c,t},e.transformMat4=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t},e.transformQuat=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*o-u*i,h=l*i+u*r-a*o,f=l*o+a*i-s*r,p=-a*r-s*i-u*o;return t[0]=c*l+p*-a+h*-u-f*-s,t[1]=h*l+p*-s+f*-a-c*-u,t[2]=f*l+p*-u+c*-s-h*-a,t[3]=e[3],t},e.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){let n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};var r=n(43);function i(){let t=new r.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function u(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function l(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+o*o)}function c(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return n*n+r*r+i*i+o*o}function h(t){let e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function f(t){let e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}const p=o;e.sub=p;const d=a;e.mul=d;const m=s;e.div=m;const g=l;e.dist=g;const v=c;e.sqrDist=v;const y=h;e.len=y;const x=f;e.sqrLen=x;const b=function(){let t=i();return function(e,n,r,i,o,a){let s,u;for(n||(n=4),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();e.forEach=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._pointersCount=undefined,e.addPointerListener=function(t,e,n,o){"touchstart"===e?function(t,e,n){var o=i.bind(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(h.indexOf(t.target.tagName)<0))return;r.preventDefault(t)}y(t,e)});t["_leaflet_touchstart"+n]=o,t.addEventListener(s,o,!1),p||(document.documentElement.addEventListener(s,m,!0),document.documentElement.addEventListener(u,g,!0),document.documentElement.addEventListener(l,v,!0),document.documentElement.addEventListener(c,v,!0),p=!0)}(t,n,o):"touchmove"===e?function(t,e,n){var r=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&y(t,e)};t["_leaflet_touchmove"+n]=r,t.addEventListener(u,r,!1)}(t,n,o):"touchend"===e&&function(t,e,n){var r=function(t){y(t,e)};t["_leaflet_touchend"+n]=r,t.addEventListener(l,r,!1),t.addEventListener(c,r,!1)}(t,n,o);return this},e.removePointerListener=function(t,e,n){var r=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(s,r,!1):"touchmove"===e?t.removeEventListener(u,r,!1):"touchend"===e&&(t.removeEventListener(l,r,!1),t.removeEventListener(c,r,!1));return this};var r=a(n(54)),i=a(n(1)),o=a(n(26));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var s=o.msPointer?"MSPointerDown":"pointerdown",u=o.msPointer?"MSPointerMove":"pointermove",l=o.msPointer?"MSPointerUp":"pointerup",c=o.msPointer?"MSPointerCancel":"pointercancel",h=["INPUT","SELECT","OPTION"],f={},p=!1,d=e._pointersCount=0;function m(t){f[t.pointerId]=t,e._pointersCount=d+=1}function g(t){f[t.pointerId]&&(f[t.pointerId]=t)}function v(t){delete f[t.pointerId],e._pointersCount=d-=1}function y(t,e){for(var n in t.touches=[],f)t.touches.push(f[n]);t.changedTouches=[t],e(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapAxes=u,e.glu_pixel2world=l,e.glu_world2pix=c;var r=n(34),i=n(16),o=n(41),a=n(17),s=n(66);function u(t){this.map=t;var e=null,n=1071983126;this.updateCenter=function(t,n){var r=(0,a.SkLonLat2Mercator)(t,n);e=new i.MLngLat(r.x,r.y),this.map.queryObj=null},this.getCenter=function(){var t=this.map.env,r=e;if(t){var i=(t.endLat-t.startLat)/2;r.my>n+i&&(r.my=n+i),r.my<1758697+i&&(r.my=1758697+i)}return r},this.scrollBy=function(t,r){for(e.mx-=t,e.my-=r;e.mx>s.MMConstant.diameter;)e.mx-=s.MMConstant.diameter;for(;e.mx<0;)e.mx+=s.MMConstant.diameter;var i=this.map.env,o=(i.endLat-i.startLat)/2;e.my>n+o&&(e.my=n+o),e.my<1758697+o&&(e.my=1758697+o)}}function l(t,e,n,i,o){var a=r.vec4.create(),s=r.vec4.create(),u=2*e/i-1,l=2*(o-n)/o-1;return a[0]=u,a[1]=l,a[2]=0,a[3]=1,s[0]=u,s[1]=l,s[2]=1,s[3]=1,r.vec4.transformMat4(a,a,t),r.vec4.transformMat4(s,s,t),0==a[3]||0==s[3]?null:(a[0]=a[0]/a[3],a[1]=a[1]/a[3],a[2]=a[2]/a[3],a[3]=a[3]/a[3],s[0]=s[0]/s[3],s[1]=s[1]/s[3],s[2]=s[2]/s[3],s[3]=s[3]/s[3],a[0]=a[0]-a[2]*(s[0]-a[0])/(s[2]-a[2]),a[1]=a[1]-a[2]*(s[1]-a[1])/(s[2]-a[2]),{x:a[0],y:a[1]})}function c(t,e,n,i,o){var a=r.vec4.fromValues(e,n,0,1);return r.vec4.transformMat4(a,a,t),a[0]/=a[3],a[1]/=a[3],a[2]/=a[3],{x:e=(1+a[0])*i/2,y:n=o-(1+a[1])*o/2}}Object.assign(u.prototype,{toMapAxes:function(t,e){var n=this.getCenter(),r=parseFloat(t-n.getMX());return r>s.MMConstant.radii?r-=s.MMConstant.diameter:r<-s.MMConstant.radii&&(r+=s.MMConstant.diameter),{x:r,y:parseFloat(n.getMY()-e)}},world2pixel:function(t,e){var n=this.map.GetCurProj(),r=this.toMapAxes(t,e);return r=c(n,r.x,r.y,this.map._glWidth,this.map._glHeight),new o.Pixel(r.x,r.y)},pixel2World:function(t,e){var n=this.map.GetCurProj(),o=r.mat4.create();r.mat4.invert(o,n);var a=l(o,t,e,this.map._glWidth,this.map._glHeight),s=this.getCenter(),u=a.x+s.getMX(),c=s.getMY()-a.y;return new i.MLngLat(u,c)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={Linear:function(t,e,n,r){return n*t/r+e},Quad:{easeIn:function(t,e,n,r){return n*(t/=r)*t+e},easeOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}},Cubic:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOut:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e}},Quart:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOut:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e}},Quint:{easeIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e}},Sine:{easeIn:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOut:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOut:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e}},Expo:{easeIn:function(t,e,n,r){return 0==t?e:n*Math.pow(2,10*(t/r-1))+e},easeOut:function(t,e,n,r){return t==r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOut:function(t,e,n,r){return 0==t?e:t==r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e}},Circ:{easeIn:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOut:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOut:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},Elastic:{easeIn:function(t,e,n,r,i,o){if(0==t)return e;if(1==(t/=r))return e+n;if(o||(o=.3*r),!i||i<Math.abs(n)){i=n;var a=o/4}else a=o/(2*Math.PI)*Math.asin(n/i);return-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)+e},easeOut:function(t,e,n,r,i,o){if(0==t)return e;if(1==(t/=r))return e+n;if(o||(o=.3*r),!i||i<Math.abs(n)){i=n;var a=o/4}else a=o/(2*Math.PI)*Math.asin(n/i);return i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e},easeInOut:function(t,e,n,r,i,o){if(0==t)return e;if(2==(t/=r/2))return e+n;if(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)){i=n;var a=o/4}else a=o/(2*Math.PI)*Math.asin(n/i);return t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e}},Back:{easeIn:function(t,e,n,r,i){return i==undefined&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOut:function(t,e,n,r,i){return i==undefined&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOut:function(t,e,n,r,i){return i==undefined&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e}},Bounce:{easeIn:function(t,e,n,i){return n-r.Bounce.easeOut(i-t,0,n,i)+e},easeOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOut:function(t,e,n,i){return t<i/2?.5*r.Bounce.easeIn(2*t,0,n,i)+e:.5*r.Bounce.easeOut(2*t-i,0,n,i)+.5*n+e}}};e["default"]=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Icon=undefined;n(82);var r=o(n(1)),i=o(n(11));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var a=e.Icon=function(t){this.options=r.extend(r.create({size:null,imageOffset:null,image:"http://61.189.20.113:8000/images/mark_b.png",imageSize:null}),t)};a.prototype._createIcon=function(){var t=i.create("div","cmmap-icon");i.setStyle(t,{position:"absolute",overflow:"inherit",opacity:1});var e=i.create("img","",t);e.ondragstart=function(t){return!1},this.icon=t,this._img=e,this.setImageSize(this.options.imageSize),this.setSize(this.options.size)},a.prototype._updateIcon=function(t){(t&&r.setOptions(this,t),this.icon)&&(this.icon.children[0].setAttribute("src",this.options.image),this.options.imageOffset&&i.setPosition(this._img,this.options.imageOffset))},a.prototype.getIcon=function(){return this.icon},a.prototype.getImageSize=function(){return this.options.imageSize},a.prototype.setImageSize=function(t){this.options.imageSize=t,this._img&&t&&i.setStyle(this._img,{width:t.width+"px",height:t.height+"px"})},a.prototype.setSize=function(t){this.options.size=t,this.icon&&t&&i.setStyle(this.icon,{width:t.width+"px",height:t.height+"px",overflow:"hidden"})},a.prototype.getSize=function(){return this.options.size}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Label=undefined;var r=n(32),i=a(n(1)),o=a(n(11));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var s=e.Label=function(t){this.options={content:"",offset:new r.Pixel(0,0)},i.setOptions(this,t)};s.prototype._createText=function(){var t=o.create("div","cmmap-marker-label");this.label=t},s.prototype._updateText=function(t){t&&i.setOptions(this,t),this.label&&(this.label.innerHTML=this.options.content,o.setPosition(this.label,this.options.offset))},s.prototype.getLabel=function(){return this.label}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polyline=undefined,e.create=function(t){return new m(t)};var r=n(47),i=d(n(1)),o=n(33),a=n(17),s=n(34),u=n(16),l=n(160),c=d(n(236)),h=n(15),f=n(74),p=n(26);function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var m=e.Polyline=r.Overlay.extend({options:{zIndex:50,bubble:!1,cursor:undefined,geodesic:!1,isOutline:!0,borderWeight:1,outlineColor:"#000000",path:undefined,strokeColor:"#006600",strokeOpacity:.9,strokeWeight:1,strokeStyle:"solid",strokeDasharray:undefined,lineJoin:"miter",lineCap:"butt",draggable:!1,extData:undefined,showDir:!1},visibility:!0,initialize:function(t){i.setOptions(this,t),r.Overlay.prototype.initialize.call(this,this.options),this.options.map&&this.setMap(this.options.map)},setPath:function(t,e){e||(this.options.path=t,this.dataReady=!1),this.prepareData(),this.render()},prepareData:function(){if(!this.dataReady){var t=this.getMap(),e=t.layergl,n=this._convertLngLats(this.options.path);if(n.length>0){this.env=new u.SkEnvelope;for(var r=0;r<n.length;r++){var i=(0,a.SkLonLat2Mercator)(n[r].lng,n[r].lat);this.env.ext2Inc(i.x,i.y)}var s=[];for(r=0;r<n.length;r++){var l={x:(i=(0,a.SkLonLat2Mercator)(n[r].lng,n[r].lat)).x-this.env.startLon,y:this.env.endLat-i.y};s.push(l)}var c=t.axes.pixel2World(0,0),h=t.axes.pixel2World(1,0).mx-c.mx,f={};f.m_iMainWidth=this.options.strokeWeight*h,f.m_FColor=this.hexToRgb(this.options.strokeColor),this.options.isOutline?f.m_iBordWidth=this.options.borderWeight*h:f.m_iBordWidth=0,f.m_BColor=this.hexToRgb(this.options.outlineColor);var p=[0],d=[],m=[new Int32Array(2)],g=Math.ceil(n.length/16250)-1;for(r=0;r<=g;r++){var v,y=0,x=0,b=16250*(r+1)>n.length?n.length-16250*r:16250,_=16250*(r+1)>n.length?n.length:16250*(r+1);d.push(_),v=4*b,f.m_iMainWidth>0&&(x=6*(2*b-1)),f.m_iBordWidth>0&&(y=6*(2*b-1)),p.length-1<r&&p.push(0),m.length-1<r&&m.push(new Int32Array(2)),p[r]=v,m[r][0]=y,m[r][1]=x}this.roadVBOs=[];for(var w=0;w<=g;w++){var E={routePoints:null,routeIndex:[]};E.routeIndex.length=2,p[w]>0&&(E.routePoints=new ArrayBuffer(32*p[w]),E.routePointsDV=new DataView(E.routePoints));for(var A=0;A<2;A++)m[w][A]>0&&(E.routeIndex[A]=new Uint16Array(m[w][A]));E.routePointCnt=0,E.routeIndexCnt=new Int32Array(2);var S=0,C=n.length;w<g&&(C=d[w]),w>0&&(S=d[w-1]);_=C-S;for(var D=new Float32Array(2*_),M=(r=0,S);M<C;M++){l=s[M];D[2*r+0]=l.x,D[2*r+1]=l.y,r++}(0,o.ParCacheRoute2Triangle)(D,_,E,0,f,!0,!0,!1);var k={};if(0<E.routePointCnt){k.vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,k.vbo),e.bufferData(e.ARRAY_BUFFER,E.routePoints,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),k.coors=[],k.coors.length=E.routePointsDV.byteLength/32;for(var T=k.coors.length,L=(A=0,E.routePointsDV.byteLength);A<L;A+=32){var I=A/32;I%2==0?k.coors[I/2]={x:E.routePointsDV.getFloat32(A+8,!0),y:E.routePointsDV.getFloat32(A+12,!0)}:k.coors[T-(I+1)/2]={x:E.routePointsDV.getFloat32(A+8,!0),y:E.routePointsDV.getFloat32(A+12,!0)}}}k.ibo=[],k.ibo.length=2,k.icnt=E.routeIndexCnt;for(A=0;A<2;A++)0<E.routeIndexCnt[A]&&(k.ibo[A]=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,k.ibo[A]),e.bufferData(e.ELEMENT_ARRAY_BUFFER,E.routeIndex[A],e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null));this.roadVBOs.push(k)}}this.dataReady=!0}},render:function(){if(this.dataReady&&this.roadVBOs&&!(this.roadVBOs.length<=0)){var t=this.getMap(),e=t.layergl,n=t.GetCurProj(),r=s.mat4.clone(n),i=t.axes.toMapAxes(this.env.startLon,this.env.endLat);s.mat4.translate(r,r,[i.x,i.y,0]),e.bindTexture(e.TEXTURE_2D,t.m_layerRouteTex),e.useProgram(t.layerpathProgram.prog);var o=t.layerpathProgram;e.uniform1i(o.uSampler,0),e.uniformMatrix4fv(o.uniLocation,!1,r),e.enableVertexAttribArray(o.a_TextCoord),e.enableVertexAttribArray(o.a_Position),e.enableVertexAttribArray(o.a_Color);for(var a=0;a<2;a++)for(var u=0;u<this.roadVBOs.length;u++){var l=this.roadVBOs[u];l.vbo&&l.ibo[a]&&0!=l.icnt[a]&&(e.bindBuffer(e.ARRAY_BUFFER,l.vbo),e.vertexAttribPointer(o.a_TextCoord,2,e.FLOAT,!1,32,16),a%2==0?(e.vertexAttribPointer(o.a_Position,2,e.FLOAT,!1,32,0),e.vertexAttribPointer(o.a_Color,4,e.UNSIGNED_BYTE,!0,32,24)):(e.vertexAttribPointer(o.a_Position,2,e.FLOAT,!1,32,8),e.vertexAttribPointer(o.a_Color,4,e.UNSIGNED_BYTE,!0,32,28)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,l.ibo[a]),e.drawElements(e.TRIANGLES,l.icnt[a],e.UNSIGNED_SHORT,0))}}},hexToRgb:function(t,e){var n={r:(t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t};return n.a=e?parseInt(255*e):255,n},getPath:function(){return this.options.path},setOptions:function(t){var e=this.getMap();e&&(i.setOptions(this,t),this.dataReady=!1,this.prepareData(),e.RenderOverlay())},getOptions:function(){return this.options},getBounds:function(){if(this.env){var t=(0,a.SkMercatortoLonLat)(this.env.startLon,this.env.startLat),e=(0,a.SkMercatortoLonLat)(this.env.endLon,this.env.endLat);return new l.Bounds(new h.LngLat(t.lng,e.lat),new h.LngLat(e.lng,t.lat))}return null},hide:function(){this.visibility=!1,this.fire("hide"),this.getMap()&&this.getMap().postInvalidate()},show:function(){this.fire("show"),this.visibility=!0,this.getMap()&&this.getMap().postInvalidate()},setExtData:function(t){this.ext=t},getExtData:function(){return this.ext},onAdd:function(){var t=this.getMap();t&&(t.isComplete()||(this.prepareData(),t.on("complete",this._zoomchange,this)),t.on("zoomchange",this._zoomchange,this),t.on("mapmove",this._movechange,this),t.isComplete()&&this.update())},_zoomchange:function(t){this.dataReady=!1,this.prepareData(),this.render()},_movechange:function(t){this.render()},onRemove:function(){var t=this.getMap();if(t&&(t.off("zoomchange",this._zoomchange,this),t.off("mapmove",this._movechange,this),this.dataReady=!1,this.roadVBOs))for(var e=0,n=this.roadVBOs.length;e<n;e++){t.layergl.deleteBuffer(this.roadVBOs[e].vbo);for(var r=0;r<this.roadVBOs[e].ibo.length;r++)t.layergl.deleteBuffer(this.roadVBOs[e].ibo[r])}},update:function(){this.setPath(this.options.path,!0)},_convertLngLats:function(t){for(var e=[],n=c.isFlat(t),r=0,i=t.length;r<i;r++)e[r]=n?(0,h.toLngLat)(t[r]):this._convertLngLats(t[r]);return e},_pan:function(t){var e=t.deltaX-this.mapScroll.x,n=t.deltaY-this.mapScroll.y;this.scrollBy(e,n),t.isFinal?(this.mapScroll.x=0,this.mapScroll.y=0,this.dragend()):(this.mapScroll.x=t.deltaX,this.mapScroll.y=t.deltaY),this._isdragging?t.isFinal?(this._isdragging=!1,this.fire("dragend",(0,f.MapEvent)(this.getMap(),t))):this.fire("dragging",(0,f.MapEvent)(this.getMap(),t)):(this._isdragging=!0,this.fire("dragstart",(0,f.MapEvent)(this.getMap(),t)))},scrollBy:function(t,e){var n=this.getMap(),r=n.axes.pixel2World(0,0),i=n.axes.pixel2World(t*(0,p.getPixelRatio)(),e*(0,p.getPixelRatio)());this.delta.x=i.mx-r.mx,this.delta.y=-(i.my-r.my),this._updatePath(),this.getMap().RenderOverlay(!1)},dragend:function(){this.delta={x:0,y:0}},_updatePath:function(){var t=this.delta.x,e=this.delta.y;this.env.startLon+=t,this.env.endLon+=t,this.env.startLat-=e,this.env.endLat-=e;for(var n=this.options.path,r=0,i=n.length;r<i;r++){var o=(0,h.toLngLat)(n[r]),s=(0,a.SkLonLat2Mercator)(o.lng,o.lat),u=(0,a.SkMercatortoLonLat)(s.x+t,s.y-e);n[r]=(0,h.toLngLat)([u.lng,u.lat])}},contains:function(t){var e=(0,h.toLngLat)(t),n=(0,a.SkLonLat2Mercator)(e.lng,e.lat),r=new u.MLngLat(n.x,n.y);return this._contains(r)},_contains:function(t){if(!this.env||!this.env.inc(t.mx,t.my)||!this.roadVBOs)return!1;for(var e=t.mx-this.env.startLon,n=this.env.endLat-t.my,r=0,i=this.roadVBOs.length;r<i;r++){if((0,o.SkRingIncPoint)(this.roadVBOs[r].coors,e,n))return!0}return!1},_reload:function(){var t=this.getMap();t&&(t.off("zoomchange",this._zoomchange,this),t.off("mapmove",this._movechange,this),t.on("zoomchange",this._zoomchange,this),t.on("mapmove",this._movechange,this)),this.render()},isType:function(t){return"polyline"==t}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.simplify=function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,i=new(("undefined"==typeof Uint8Array?"undefined":r(Uint8Array))!==undefined+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,function s(t,e,n,r,i){var o,a,u,l=0;for(a=r+1;a<=i-1;a++)(u=c(t[a],t[r],t[i],!0))>l&&(o=a,l=u);l>n&&(e[o]=1,s(t,e,n,r,o),s(t,e,n,o,i))}(t,i,e,0,n-1);var o,a=[];for(o=0;o<n;o++)i[o]&&a.push(t[o]);return a}(t=function(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)l(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}(t,n),n)},e.pointToSegmentDistance=function(t,e,n){return Math.sqrt(c(t,e,n,!0))},e.closestPointOnSegment=function(t,e,n){return c(t,e,n)},e.clipSegment=function(t,e,n,r,o){var a,l,c,h=r?i:u(t,n),f=u(e,n);i=f;for(;;){if(!(h|f))return[t,e];if(h&f)return!1;l=s(t,e,a=h||f,n,o),c=u(l,n),a===h?(t=l,h=c):(e=l,f=c)}},e._getEdgeIntersection=s,e._getBitCode=u,e._sqClosestPointOnSegment=c,e.isFlat=h,e._flat=function(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),h(t)};var i,o=n(32),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1));function s(t,e,n,r,i){var a,s,u=e.x-t.x,l=e.y-t.y,c=r.min,h=r.max;return 8&n?(a=t.x+u*(h.y-t.y)/l,s=h.y):4&n?(a=t.x+u*(c.y-t.y)/l,s=c.y):2&n?(a=h.x,s=t.y+l*(h.x-t.x)/u):1&n&&(a=c.x,s=t.y+l*(c.x-t.x)/u),new o.Pixel(a,s,i)}function u(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function l(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function c(t,e,n,r){var i,a=e.x,s=e.y,u=n.x-a,l=n.y-s,c=u*u+l*l;return c>0&&((i=((t.x-a)*u+(t.y-s)*l)/c)>1?(a=n.x,s=n.y):i>0&&(a+=u*i,s+=l*i)),u=t.x-a,l=t.y-s,r?u*u+l*l:new o.Pixel(a,s)}function h(t){return!a.isArray(t[0])||"object"!==r(t[0][0])&&"undefined"!=typeof t[0][0]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=undefined,e.create=function(t){return new d(t)};var r=n(47),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),o=n(114),a=n(17),s=n(34),u=n(15),l=n(16),c=n(157),h=n(41),f=n(74),p=n(32);var d=e.Circle=r.Overlay.extend({options:{ismark:!1,zIndex:10,center:undefined,bubble:!1,cursor:undefined,radius:undefined,strokeColor:"#006600",strokeOpacity:.9,strokeWeight:1,fillColor:"#006600",fillOpacity:.9,strokeStyle:"solid",extData:undefined,strokeDasharray:undefined},visibility:!0,initialize:function(t){i.setOptions(this,t),r.Overlay.prototype.initialize.call(this,this.options),this.options.map&&this.setMap(this.options.map)},prepareData:function(){if(!this.dataReady){var t=this.getMap(),e=t.layergl;if(this.options.center&&this.options.radius){var n=(0,u.toLngLat)(this.options.center);if(this.centerM=(0,a.SkLonLat2Mercator)(n.lng,n.lat),this.env||(this.env=new l.SkEnvelope),this.options.ismark){var r=t.axes.pixel2World(0,0),i=t.axes.pixel2World(this.options.radius,0).mx-r.mx;this._radius=i}else{i=35*this.options.radius;this._radius=i}this.env.ext2Inc(this.centerM.x-this._radius,this.centerM.y-this._radius),this.env.ext2Inc(this.centerM.x+this._radius,this.centerM.y+this._radius);var s=new ArrayBuffer(2080),c=new DataView(s),h=(0,o.hexToRgb)(this.options.strokeColor,this.options.strokeOpacity),f=(0,o.hexToRgb)(this.options.fillColor,this.options.fillOpacity);c.setFloat32(0,0,!0),c.setFloat32(4,0,!0),c.setUint8(8,h.r),c.setUint8(9,h.g),c.setUint8(10,h.b),c.setUint8(11,h.a),c.setUint8(12,f.r),c.setUint8(13,f.g),c.setUint8(14,f.b),c.setUint8(15,f.a);for(var p=2*Math.PI/128,d=0;d<129;d++)c.setFloat32(16*(d+1)+0,Math.cos(d*p),!0),c.setFloat32(16*(d+1)+4,Math.sin(d*p),!0),c.setUint8(16*(d+1)+8,h.r),c.setUint8(16*(d+1)+9,h.g),c.setUint8(16*(d+1)+10,h.b),c.setUint8(16*(d+1)+11,h.a),c.setUint8(16*(d+1)+12,f.r),c.setUint8(16*(d+1)+13,f.g),c.setUint8(16*(d+1)+14,f.b),c.setUint8(16*(d+1)+15,f.a);this.vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vbo),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.dataReady=!0}}},render:function(){if(this.dataReady&&this.vbo&&this.visibility){var t=this.getMap(),e=t.layergl,n=t.GetCurProj(),r=s.mat4.clone(n),i=t.axes.toMapAxes(this.env.startLon,this.env.endLat);s.mat4.translate(r,r,[i.x,i.y,0]),s.mat4.scale(r,r,[this._radius,this._radius,0]),e.useProgram(t.layerbgProgram.prog);var o=t.layerbgProgram;e.enableVertexAttribArray(o.a_Position),e.enableVertexAttribArray(o.a_Color),e.bindBuffer(e.ARRAY_BUFFER,this.vbo),e.uniformMatrix4fv(o.uniLocation,!1,r),e.vertexAttribPointer(o.a_Position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(o.a_Color,4,e.UNSIGNED_BYTE,!0,16,12),e.drawArrays(e.TRIANGLE_FAN,0,130),this.options.strokeWeight&&(e.lineWidth(this.options.strokeWeight),e.vertexAttribPointer(o.a_Position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(o.a_Color,4,e.UNSIGNED_BYTE,!0,16,8),e.drawArrays(e.LINE_STRIP,1,129)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindBuffer(e.ARRAY_BUFFER,null)}},setCenter:function(t){this.options.center=(0,u.toLngLat)(t),this.centerM=(0,a.SkLonLat2Mercator)(this.options.center.lng,this.options.center.lat),this.render()},getCenter:function(){return this.options.center},getBounds:function(){if(this.env){var t=(0,a.SkMercatortoLonLat)(this.env.startLon,this.env.startLat),e=(0,a.SkMercatortoLonLat)(this.env.endLon,this.env.endLat);return new c.Bounds(new h.LngLat(t.lng,e.lat),new h.LngLat(e.lng,t.lat))}return null},setRadius:function(t){this.options.radius=t,this.reder()},getRadius:function(){return this.options.radius},setOptions:function(t){var e=this.getMap();e&&(i.setOptions(this,t),this.dataReady=!1,this.prepareData(),e.RenderOverlay())},getOptions:function(){return this.options},hide:function(){this.visibility=!1,this.getMap()&&this.getMap().postInvalidate()},show:function(){this.visibility=!0,this.getMap()&&this.getMap().postInvalidate()},setExtData:function(t){this.ext=t},getExtData:function(){return this.ext},_pan:function(t){this.delta={x:0,y:0};var e=t.deltaX-this.mapScroll.x,n=t.deltaY-this.mapScroll.y;this.scrollBy(e,n),t.isFinal?(this.mapScroll.x=0,this.mapScroll.y=0,this.dragend()):(this.mapScroll.x=t.deltaX,this.mapScroll.y=t.deltaY),this._isdragging?t.isFinal?(this._isdragging=!1,this.fire("dragend",(0,f.MapEvent)(this.getMap(),t))):this.fire("dragging",(0,f.MapEvent)(this.getMap(),t)):(this._isdragging=!0,this.fire("dragstart",(0,f.MapEvent)(this.getMap(),t)))},scrollBy:function(t,e){this.delta.x=t,this.delta.y=e,this._updatePosition(),this.getMap().RenderOverlay(!1)},dragend:function(){this.delta={x:0,y:0}},_updatePosition:function(){var t=this.getMap(),e=this.delta.x,n=this.delta.y,r=t.lngLatToContainer(this.options.center).add(new p.Pixel(e,n));this.options.center=t.containerToLngLat(r),this.centerM=(0,a.SkLonLat2Mercator)(this.options.center.lng,this.options.center.lat),this.env.ext2Inc(this.centerM.x-this._radius,this.centerM.y-this._radius),this.env.ext2Inc(this.centerM.x+this._radius,this.centerM.y+this._radius)},contains:function(t){var e=(0,u.toLngLat)(t),n=(0,a.SkLonLat2Mercator)(e.lng,e.lat),r=new l.MLngLat(n.x,n.y);return this._contains(r)},_contains:function(t){return!!(this.centerM&&this.env&&this.env.inc(t.mx,t.my))&&Math.sqrt((this.centerM.x-t.mx)*(this.centerM.x-t.mx)+(this.centerM.y-t.my)*(this.centerM.y-t.my))<=this._radius},onAdd:function(){var t=this.getMap();t&&(t.isComplete()||(this.prepareData(),t.on("complete",this._zoomchange,this)),t.on("zoomchange",this._zoomchange,this),t.on("mapmove",this._movechange,this),t.isComplete()&&this.update())},_zoomchange:function(t){var e=this.getMap();if(this.options.ismark){var n=e.axes.pixel2World(0,0),r=e.axes.pixel2World(this.options.radius,0).mx-n.mx;this._radius=r}this.render()},_movechange:function(t){this.render()},onRemove:function(){var t=this.getMap();t&&this.vbo&&(t.off("zoomchange",this._zoomchange,this),t.off("mapmove",this._movechange,this),this.dataReady=!1,t.layergl.deleteBuffer(this.vbo))},update:function(){this.prepareData(),this.render()},_reload:function(){var t=this.getMap();t&&(t.off("zoomchange",this._zoomchange,this),t.off("mapmove",this._movechange,this),t.on("zoomchange",this._zoomchange,this),t.on("mapmove",this._movechange,this)),this.render()},isType:function(t){return"circle"==t}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=undefined,e.create=function(t){return new m(t)};var r=n(47),i=function(t){return t&&t.__esModule?t:{"default":t}}(n(239)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),a=n(17),s=n(34),u=n(16),l=n(114),c=n(160),h=n(33),f=n(41),p=n(15),d=n(74);var m=e.Polygon=r.Overlay.extend({options:{zIndex:10,path:undefined,bubble:!1,cursor:undefined,strokeColor:"#FF33FF",strokeOpacity:.9,strokeWeight:1,fillColor:"#006600",fillOpacity:.9,draggable:!1,extData:undefined,strokeStyle:"solid",strokeDasharray:undefined},initialize:function(t){o.setOptions(this,t),r.Overlay.prototype.initialize.call(this,this.options),this.visibility=!0,this.mapScroll={x:0,y:0},this.delta={x:0,y:0},this.options.map&&this.setMap(this.options.map)},prepareData:function(){if(!this.dataReady){var t=this.getMap().layergl;if(this.options.path){o.isArray(this.options.path)&&1==this.options.path.length&&o.isArray(this.options.path[0])&&this.options.path[0].length>0&&(this.options.path=this.options.path[0]);var e=this.options.strokeColor?(0,l.hexToRgb)(this.options.strokeColor,this.options.strokeOpacity):{r:0,g:0,b:0,a:0},n=this.options.fillColor?(0,l.hexToRgb)(this.options.fillColor,this.options.fillOpacity):{r:0,g:0,b:0,a:0};this.env=new u.SkEnvelope;var r=!1;2==this.options.path.length&&o.isArray(this.options.path[0])&&o.isArray(this.options.path[1])&&(r=!0);for(var s=[],c=0;c<this.options.path.length;c++)if(r){for(var h=this.options.path[c],f=new u.SkEnvelope,d=0;d<h.length;d++){var m=(0,p.toLngLat)(h[d]),g=(0,a.SkLonLat2Mercator)(m.lng,m.lat);this.env.ext2Inc(g.x,g.y),f.ext2Inc(g.x,g.y)}s[c]=f}else{m=(0,p.toLngLat)(this.options.path[c]),g=(0,a.SkLonLat2Mercator)(m.lng,m.lat);this.env.ext2Inc(g.x,g.y)}h=[];if(r){var v=s[0].startLat<s[1].startLat?0:1,y=s[0].startLat<s[1].startLat?1:0;h.push(this.options.path[v]),h.push(this.options.path[y])}else h.push(this.options.path);this.polygonVBOs=[];for(d=0;d<h.length;d++){var x=h[d],b=new ArrayBuffer(16*x.length),_=new DataView(b),w=[],E=[];1==d&&(n={r:0,g:0,b:0,a:0});for(c=0;c<x.length;c++){m=(0,p.toLngLat)(x[c]),g=(0,a.SkLonLat2Mercator)(m.lng,m.lat);_.setFloat32(16*c+0,g.x-this.env.startLon,!0),_.setFloat32(16*c+4,this.env.endLat-g.y,!0),_.setUint8(16*c+8,n.r),_.setUint8(16*c+9,n.g),_.setUint8(16*c+10,n.b),_.setUint8(16*c+11,n.a),_.setUint8(16*c+12,e.r),_.setUint8(16*c+13,e.g),_.setUint8(16*c+14,e.b),_.setUint8(16*c+15,e.a),w[2*c+0]=g.x-this.env.startLon,w[2*c+1]=this.env.endLat-g.y,E.push({x:g.x-this.env.startLon,y:this.env.endLat-g.y})}var A=(0,i["default"])(w),S={};S.coors=E,S.vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,S.vbo),t.bufferData(t.ARRAY_BUFFER,b,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),S.PointCnt=x.length,S.IndexCnt=A.length,S.ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,S.ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(A),t.STATIC_DRAW),this.polygonVBOs.push(S)}this.dataReady=!0}}},render:function(){if(this.dataReady&&this.polygonVBOs&&0!=this.polygonVBOs.length&&this.visibility){var t=this.getMap(),e=t.layergl,n=t.GetCurProj(),r=s.mat4.clone(n),i=t.axes.toMapAxes(this.env.startLon,this.env.endLat);s.mat4.translate(r,r,[i.x,i.y,0]),e.useProgram(t.layerbgProgram.prog);var o=t.layerbgProgram;e.enableVertexAttribArray(o.a_Position),e.enableVertexAttribArray(o.a_Color);for(var a=0;a<this.polygonVBOs.length;a++){var u=this.polygonVBOs[a];e.bindBuffer(e.ARRAY_BUFFER,u.vbo),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u.ibo),e.uniformMatrix4fv(o.uniLocation,!1,r),e.vertexAttribPointer(o.a_Position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(o.a_Color,4,e.UNSIGNED_BYTE,!0,16,8),this.options.fillColor&&e.drawElements(e.TRIANGLES,u.IndexCnt,e.UNSIGNED_SHORT,0),e.lineWidth(3),e.vertexAttribPointer(o.a_Color,4,e.UNSIGNED_BYTE,!0,16,12),e.drawArrays(e.LINE_LOOP,0,u.PointCnt)}e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindBuffer(e.ARRAY_BUFFER,null)}},setPath:function(t){this.options.path=t,this.dataReady=!1,this.prepareData(),this.render()},getPath:function(){return this.options.path},setOptions:function(t){var e=this.getMap();e&&(o.setOptions(this,t),this.dataReady=!1,this.prepareData(),e.RenderOverlay())},getOptions:function(){return this.options},getBounds:function(){if(this.env){var t=(0,a.SkMercatortoLonLat)(this.env.startLon,this.env.startLat),e=(0,a.SkMercatortoLonLat)(this.env.endLon,this.env.endLat);return new c.Bounds(new f.LngLat(t.lng,e.lat),new f.LngLat(e.lng,t.lat))}return null},getArea:function(){},hide:function(){this.visibility=!1,this.fire("hide"),this.getMap()&&this.getMap().RenderOverlay()},show:function(){this.fire("show"),this.visibility=!0,this.getMap()&&this.getMap().RenderOverlay()},setExtData:function(t){this.options.extData=t},getExtData:function(){return this.options.extData},_pan:function(t){var e=t.deltaX-this.mapScroll.x,n=t.deltaY-this.mapScroll.y;this.scrollBy(e,n),t.isFinal?(this.mapScroll.x=0,this.mapScroll.y=0,this.dragend()):(this.mapScroll.x=t.deltaX,this.mapScroll.y=t.deltaY),this._isdragging?t.isFinal?(this._isdragging=!1,this.fire("dragend",(0,d.MapEvent)(this.getMap(),t))):this.fire("dragging",(0,d.MapEvent)(this.getMap(),t)):(this._isdragging=!0,this.fire("dragstart",(0,d.MapEvent)(this.getMap(),t)))},scrollBy:function(t,e){var n=this.getMap(),r=n.axes.pixel2World(0,0),i=n.axes.pixel2World(t*n.pixelRatio,e*n.pixelRatio);this.delta.x=i.mx-r.mx,this.delta.y=-(i.my-r.my),this._updatepath(),this.getMap().RenderOverlay(!1)},dragend:function(){this.delta={x:0,y:0}},_updatepath:function(){var t=this.delta.x,e=this.delta.y;this.env.startLon+=t,this.env.endLon+=t,this.env.startLat-=e,this.env.endLat-=e;var n=!1;2==this.options.path.length&&o.isArray(this.options.path[0])&&o.isArray(this.options.path[1])&&(n=!0);for(var r=0;r<this.options.path.length;r++)if(n)for(var i=this.options.path[r],s=0;s<i.length;s++){var u=(0,p.toLngLat)(i[s]),l=(0,a.SkLonLat2Mercator)(u.lng,u.lat),c=(0,a.SkMercatortoLonLat)(l.x+t,l.y-e);i[s]=(0,p.toLngLat)([c.lng,c.lat])}else{u=(0,p.toLngLat)(this.options.path[r]),l=(0,a.SkLonLat2Mercator)(u.lng,u.lat),c=(0,a.SkMercatortoLonLat)(l.x+t,l.y-e);this.options.path[r]=(0,p.toLngLat)([c.lng,c.lat])}},contains:function(t){var e=(0,p.toLngLat)(t),n=(0,a.SkLonLat2Mercator)(e.lng,e.lat),r=new u.MLngLat(n.x,n.y);return this._contains(r)},_contains:function(t){if(!this.env||!this.env.inc(t.mx,t.my)||!this.polygonVBOs)return!1;var e=t.mx-this.env.startLon,n=this.env.endLat-t.my;if(!(0,h.SkRingIncPoint)(this.polygonVBOs[0].coors,e,n))return!1;if(this.polygonVBOs.length>1&&(0,h.SkRingIncPoint)(this.polygonVBOs[1].coors,e,n))return!1;return!0},onAdd:function(){var t=this.getMap();t&&(t.isComplete()||(this.prepareData(),t.on("complete",this._zoomchange,this)),t.on("zoomchange",this._zoomchange,this),t.on("mapmove",this._movechange,this),t.isComplete()&&this.update())},_zoomchange:function(t){this.render()},_movechange:function(t){this.render()},onRemove:function(){var t=this.getMap();if(t){t.off("zoomchange",this._zoomchange,this),t.off("mapmove",this._movechange,this),this.dataReady=!1;for(var e=0,n=this.polygonVBOs.length;e<n;e++)t.layergl.deleteBuffer(this.polygonVBOs[e].vbo),t.layergl.deleteBuffer(this.polygonVBOs[e].ibo)}},update:function(){this.prepareData(),this.render()},_reload:function(){var t=this.getMap();t&&(t.off("zoomchange",this._zoomchange,this),t.off("mapmove",this._movechange,this),t.on("zoomchange",this._zoomchange,this),t.on("mapmove",this._movechange,this)),this.render()},isType:function(t){return"polygon"==t}})},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,u,l,c,p,m,g=e&&e.length,v=g?e[0]*n:t.length,y=i(t,0,v,n,!0),x=[];if(!y)return x;if(g&&(y=function(t,e,n,r){var a,s,u,l,c,p=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,l=a<s-1?e[a+1]*r:t.length,(c=i(t,u,l,r,!1))===c.next&&(c.steiner=!0),p.push(d(c));for(p.sort(h),a=0;a<p.length;a++)f(p[a],n),n=o(n,n.next);return n}(t,e,y,n)),t.length>80*n){r=u=t[0],s=l=t[1];for(var b=n;b<v;b+=n)c=t[b],p=t[b+1],c<r&&(r=c),p<s&&(s=p),c>u&&(u=c),p>l&&(l=p);m=0!==(m=Math.max(u-r,l-s))?1/m:0}return a(y,x,n,r,s,m),x}function i(t,e,n,r,i){var o,a;if(i===S(t,e,n,r)>0)for(o=e;o<n;o+=r)a=w(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=w(o,t[o],t[o+1],a);return a&&y(a,a.next)&&(E(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,h,f){if(t){!f&&h&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=p(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,h);for(var d,m,g=t;t.prev!==t.next;)if(d=t.prev,m=t.next,h?u(t,r,i,h):s(t))e.push(d.i/n),e.push(t.i/n),e.push(m.i/n),E(t),t=m.next,g=m.next;else if((t=m)===g){f?1===f?a(t=l(t,e,n),e,n,r,i,h,2):2===f&&c(t,e,n,r,i,h):a(o(t),e,n,r,i,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(v(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(v(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=p(s,u,e,n,r),f=p(l,c,e,n,r),d=t.prevZ,g=t.nextZ;d&&d.z>=h&&g&&g.z<=f;){if(d!==t.prev&&d!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,g!==t.prev&&g!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=f;){if(g!==t.prev&&g!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!y(i,o)&&x(i,r,r.next,o)&&b(i,o)&&b(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),E(r),E(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=_(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function h(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-Infinity;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,h=n.y,f=Infinity;r=n.next;for(;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&m(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&b(r,t)&&(n=r,f=u),r=r.next;return n}(t,e)){var n=_(e,t);o(n,n.next)}}function p(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function m(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&x(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function v(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,n,r){return!!(y(t,e)&&y(n,r)||y(t,r)&&y(n,e))||v(t,e,n)>0!=v(t,e,r)>0&&v(n,r,t)>0!=v(n,r,e)>0}function b(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function _(t,e){var n=new A(t.i,t.x,t.y),r=new A(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function w(t,e,n,r){var i=new A(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports["default"]=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(S(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(S(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InfoWindow=undefined;var r=n(47),i=s(n(1)),o=s(n(11)),a=n(15);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}e.InfoWindow=r.Overlay.extend({options:{isCustom:!1,autoMove:!1,closeWhenClickMap:!1,content:null,size:null,offset:null,position:null,showShadow:!1},initialize:function(t){i.setOptions(this,t)},open:function(t,e){t&&(this.options.position=e,this.infoDiv||this.setMap(t),o.show(this.infoDiv),this.update(),this.fire("open"))},close:function(){this.infoDiv&&(o.hide(this.infoDiv),this.fire("close"))},onAdd:function(){this.create(this.options);var t=this.getMap();t.on("mapmove",this.update,this),t.on("zoomchange",this.update,this)},onRemove:function(){var t=this.getMap();t.off("mapmove",this.update,this),t.off("zoomchange",this.update,this),this.close(),this.getMap().overlaysDiv.removeChild(this.infoDiv),this.infoDiv=null,this.contentDiv=null,this.containerDiv=null},create:function(t){var e=this.getMap(),n=document.createElement("div");n.className="cmmap-info";var r=document.createElement("div");r.style.position="absolute",r.style.bottom="0px",r.style.left="0px",n.appendChild(r);var o=document.createElement("div");if(o.className="cmmap-info-contentContainer",r.appendChild(o),t.isCustom)t.content&&(i.isString(t.content)?o.innerHTML=t.content:(o.innerHTML="",o.appendChild(t.content))),this.contentDiv=o;else{var a=document.createElement("div");a.className="cmmap-info-content cmmap-info-outer",t.content&&(i.isString(t.content)?a.innerHTML=t.content:(a.innerHTML="",a.appendChild(t.content))),t.size&&(a.width=t.size.width,a.height=t.size.height),o.appendChild(a);var s=document.createElement("a");s.className="cmmap-info-close",s.attributes.href="javascript:void(0)",s.style.right="5px",s.innerHTML="&times;",o.appendChild(s);var u=document.createElement("div");u.className="cmmap-info-sharp",u.style.height="23px",o.appendChild(u);var l=this;s.onclick=function(){l.close()},this.contentDiv=a}if(this.containerDiv=r,this.infoDiv=n,e.overlaysDiv.appendChild(this.infoDiv),e.infowindow){var c=i.stamp(this);i.stamp(e.infowindow)!=c&&e.infowindow.setMap(null)}return e.infowindow=this,this.update(),this},update:function(){var t=this.getMap();t&&this._updatePosition(t)},_updatePosition:function(t){var e=(0,a.toLngLat)(this.options.position);if(e){var n=t.lngLatToContainer(e),r=this.containerDiv.clientWidth||this.containerDiv.offsetWidth,i=n.x-r/2+15,o=n.y;this.options.offset&&(i+=this.options.offset.x,o+=this.options.offset.y),this.infoDiv.style.left=i+"px",this.infoDiv.style.top=o+"px"}},getIsOpen:function(){return!!this.infoDiv&&"none"!=this.infoDiv.style.display},setContent:function(t){this.options.content=t,this.fire("change"),this.contentDiv&&t&&(i.isString(t)?this.contentDiv.innerHTML=t:(this.contentDiv.innerHTML="",this.contentDiv.appendChild(t)))},getContent:function(){return this.options.content},setPosition:function(t){this.options.position=t,this.fire("change"),this.getMap()&&this.infoDiv&&this._updatePosition()},getPosition:function(){return this.options.position},setSize:function(t){this.options.size=t,!this.options.isCustom&&this.contentDiv&&(this.contentDiv.width=t.width,this.contentDiv.height=t.height,this.fire("change"))},getSize:function(){return this.options.size},getContentDom:function(){this.contentDiv}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayGroup=undefined;var r=n(105);e.OverlayGroup=r.Class.extend({initialize:function(t){this.overlays=[],this.addOverlays(t)},addOverlay:function(t){t&&(this.overlays.push(t),this._map&&this._map.add(t))},addOverlays:function(t){if(t)for(var e=0,n=t.length;e<n;e++)this.addOverlay(t[e])},getOverlays:function(){return this.overlays},hasOverlay:function(t){if(t){var e=this.overlays.indexOf(t);if(-1!=e)return this.overlays[e]}return null},removeOverlay:function(t){if(t){var e=this.overlays.indexOf(t);-1!=e&&(this.overlays[e].setMap(null),this.overlays.splice(e,1))}},removeOverlays:function(t){if(t)for(var e=0,n=t.length;e<n;e++)this.removeOverlay(t[e])},clearOverlays:function(){this._push(null),this.overlays=[]},eachOverlay:function(t){if(t)for(var e=0,n=this.overlays.length;e<n;e++)t(this.overlays[e],e,this.overlays)},setMap:function(t){this._push(t),this._map=t},setOptions:function(t){for(var e=0,n=this.overlays.length;e<n;e++)this.overlays[e].setOptions&&this.overlays[e].setOptions(t)},hide:function(){this._visible(!1)},show:function(){this._visible(!0)},_visible:function(t){for(var e=0,n=this.overlays.length;e<n;e++)t?this.overlays[e].show():this.overlays[e].hide()},_push:function(t){for(var e=0,n=this.overlays.length;e<n;e++)this.overlays[e].setMap(t)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndoorFloor=undefined;var r=n(75),i=a(n(11)),o=a(n(54));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}n(545);e.IndoorFloor=r.Control.extend({_foolIndex:-1,_foolheight:28,_foolcnt:0,_floor_list_box_height:153,_ul_list_height:0,initialize:function(t,e,n){this._foolcnt=t.floors.length,this._ul_list_height=this._foolcnt*this._foolheight,this.initView(t),this.selectfloor(this.getIndexByFloorId(t.curfloor)),e&&(this._callback=function(t){return e.call(n||this,t)})},onAdd:function(t){return this._indoorFloorDiv},onRemove:function(t){this._indoorFloorDiv=null,this._selectdockDiv=null,this._floorlistBoxDiv=null,this._floorlistDiv=null,this._ulChilds.length=0,this._foolIndex=-1,this._foolcnt=-1,this._ul_list_height=-1},setData:function(t){this._foolcnt=t.floors.length,this._ul_list_height=this._foolcnt*this._foolheight,!this._indoorFloorDiv.classList.contains("can-scroll")&&this._ul_list_height>this._floor_list_box_height?this._indoorFloorDiv.classList.add("can-scroll"):this._indoorFloorDiv.classList.contains("can-scroll")&&this._ul_list_height>this._floor_list_box_height&&this._indoorFloorDiv.classList.remove("can-scroll"),this._indoorFloorDiv.dataset.bdid=t.buildingid;for(var e=0,n=this._ulChilds.length;e<n;e++)this._floorlistDiv.removeChild(this._ulChilds[e]);var r=t.floors.reverse();this._ulChilds=[];for(e=0,n=r.length;e<n;e++){var o="floor-list-item";r[e].disable||(o+=" disable");var a=i.create("li",o,this._floorlistDiv);i.create("div","floor-btn floor-nonas",a).innerHTML=r[e].FloorName,this._ulChilds.appendChild(a)}this._data=t,this.selectfloor(this.getIndexByFloorId(t.curfloor))},initView:function(t){this._indoorFloorDiv=i.create("div","amap-indoormap-floorbar-control "),this._indoorFloorDiv.dataset.bdid=t.buildingid,this._ul_list_height>this._floor_list_box_height&&this._indoorFloorDiv.classList.add("can-scroll"),this._indoorFloorDiv.setAttribute("title",t.title);var e=i.create("div","panel-box",this._indoorFloorDiv);this._selectdockDiv=i.create("div","select-dock",e),this._floorplusDiv=i.create("div","floor-btn floor-nav floor-plus",e),this._floorplusDiv.innerHTML="+",this._floorlistBoxDiv=i.create("div","floor-list-box",e),this._floorlistDiv=i.create("ul","floor-list",this._floorlistBoxDiv),this._ulChilds=[];for(var n=t.floors.reverse(),r=0,a=n.length;r<a;r++){var s="floor-list-item";n[r].disable||(s+=" disable");var u=i.create("li",s,this._floorlistDiv);i.create("div","floor-btn floor-nonas",u).innerHTML=n[r].FloorName,this._ulChilds.push(u)}this._floorminusDiv=i.create("div","floor-btn floor-nav floor-minus",e),this._floorminusDiv.innerHTML="-",o.on(this._indoorFloorDiv,"click "+(document.mozFullScreen!==undefined?"DOMMouseScroll":"mousewheel"),this._handler,this),this._data=t},getBuldingId:function(){return this._indoorFloorDiv?this._indoorFloorDiv.dataset.bdid:null},getIndexByFloorId:function(t){return t&&this._data?this._data.floors.findIndex(function(e,n,r){return t==e.FloorID}):-1},getFloorID:function(t){return this._data?this._data.floors[t].FloorID:null},_handler:function(t){if("click"==t.type){var e=t.target;if(e.classList.contains("floor-plus"))e.classList.contains("disabled")||this.addfloor();else if(e.classList.contains("floor-minus"))e.classList.contains("disabled")||this.minfloor();else if(e.classList.contains("floor-nonas")){var n=this.findLi(e),r=this.findIndex(n);-1!=r&&this.selectfloor(r)}}else this.scrollindoor(t)},scrollindoor:function(t){if(!(!this._indoorFloorDiv.classList.contains("can-scroll")||t.deltaY<0&&!this._indoorFloorDiv.classList.contains("can-scroll-up")||t.deltaY>0&&!this._indoorFloorDiv.classList.contains("can-scroll-down"))){var e=t.deltaY||Math.abs(t.wheelDelta)/t.wheelDelta;"DOMMouseScroll"==t.type&&(e=t.detail);var n=100*-e,r=this._floorlistDiv.offsetTop,i=this._selectdockDiv.offsetTop;r+n<this._floor_list_box_height-this._ul_list_height?(n=this._floor_list_box_height-this._ul_list_height-r,this._indoorFloorDiv.classList.add("can-scroll-up"),this._indoorFloorDiv.classList.remove("can-scroll-down")):r+n>0?(n=0-r,this._indoorFloorDiv.classList.remove("can-scroll-up"),this._indoorFloorDiv.classList.add("can-scroll-down")):(this._indoorFloorDiv.classList.add("can-scroll-up"),this._indoorFloorDiv.classList.add("can-scroll-down")),this._floorlistDiv.style.marginTop=parseInt(n+r)+"px",this._selectdockDiv.style.top=parseInt(n+i)+"px"}},findIndex:function(t){for(var e in this._ulChilds)if(t==this._ulChilds[e])return e;return-1},findLi:function(t){for(;"li"!=t.tagName.toLocaleLowerCase();)t=t.parentElement;return t},selectFloorID:function(t,e){var n=this.getIndexByFloorId(t);this.selectfloor(n,e)},selectfloor:function(t,e){if(t!=this._foolIndex&&!this._ulChilds[t].classList.contains("disable")){t=parseInt(t),-1!=this._foolIndex&&this._ulChilds[this._foolIndex].classList.remove("selected"),this._ulChilds[t].classList.add("selected"),this._foolIndex=t;var n=t*this._foolheight+14,r=0,i=0;if(n<this._ul_list_height||n<this._floor_list_box_height/2?(r=0,i=(t+1)*this._foolheight+1):n>this._ul_list_height-this._floor_list_box_height?(r=this._ul_list_height-this._floor_list_box_height,i=this._foolheight+this._floor_list_box_height-(this._foolcnt-t)*this._foolheight+1):(r=n-this._floor_list_box_height/2,i=this._floor_list_box_height/2+this._foolheight-13),0==this._foolIndex?(this._floorplusDiv.classList.contains("disabled")||this._floorplusDiv.classList.add("disabled"),this._floorminusDiv.classList.contains("disabled")&&this._floorminusDiv.classList.remove("disabled"),this._indoorFloorDiv.classList.remove("can-scroll-up"),this._indoorFloorDiv.classList.add("can-scroll-down")):this._foolIndex==this._foolcnt-1?(this._floorplusDiv.classList.contains("disabled")&&this._floorplusDiv.classList.remove("disabled"),this._floorminusDiv.classList.contains("disabled")||this._floorminusDiv.classList.add("disabled"),this._indoorFloorDiv.classList.add("can-scroll-up"),this._indoorFloorDiv.classList.remove("can-scroll-down")):(this._floorminusDiv.classList.contains("disabled")&&this._floorminusDiv.classList.remove("disabled"),this._floorplusDiv.classList.contains("disabled")&&this._floorplusDiv.classList.remove("disabled"),this._indoorFloorDiv.classList.add("can-scroll-up"),this._indoorFloorDiv.classList.add("can-scroll-down")),this._floorlistDiv.style.marginTop=-r+"px",this._selectdockDiv.style.top=i+"px",!e&&this._callback){var o=this.getFloorID(this._foolIndex);o&&this._callback(o)}}},addfloor:function(){if(0!=this._foolIndex){var t=this._foolIndex-1;this.selectfloor(t)}},minfloor:function(){if(this._foolIndex!=this._foolcnt-1){var t=this._foolIndex+1;this.selectfloor(t)}},show:function(){this._indoorFloorDiv&&i.show(this._indoorFloorDiv)},hidden:function(){this._indoorFloorDiv&&i.hide(this._indoorFloorDiv)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(244);Object.defineProperty(e,"SkGridLayer",{enumerable:!0,get:function(){return r.SkGridLayer}});var i=n(594);Object.defineProperty(e,"TileLayer",{enumerable:!0,get:function(){return i.TileLayer}});var o=n(595);Object.defineProperty(e,"LayerGroup",{enumerable:!0,get:function(){return o.LayerGroup}});var a=n(596);Object.defineProperty(e,"Heatmap",{enumerable:!0,get:function(){return a.create}});var s=n(598);Object.defineProperty(e,"CanvasLayer",{enumerable:!0,get:function(){return s.CanvasLayer}});var u=n(599);Object.defineProperty(e,"CustomLayer",{enumerable:!0,get:function(){return u.CustomLayer}});var l=n(600);Object.defineProperty(e,"ImageLayer",{enumerable:!0,get:function(){return l.ImageLayer}});var c=n(601);Object.defineProperty(e,"VideoLayer",{enumerable:!0,get:function(){return c.VideoLayer}});var h=n(602);Object.defineProperty(e,"IndoorMap",{enumerable:!0,get:function(){return h.IndoorMap}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkGridTile=e.SkGridLayer=undefined,e.create=function(t){return new v(t)},e.SortRoads=function(t){var e=[];e.length=t.length;for(var n={},r=0;r<t.length;r++){var i=t.feature(r).properties.sort_rank;n[i]?n[i]++:n[i]=1}var o=[];for(var a in n)o.push({rank:a,cnt:n[a]});o.sort(function(t,e){return t.rank-e.rank});for(var r=1;r<o.length;r++)o[r].cnt+=o[r-1].cnt,n[o[r].rank]=o[r].cnt;for(var r=0;r<t.length;r++){var s=t.feature(r),i=s.properties.sort_rank,u=n[i]-1;e[u]=s,n[i]--}return e};var r=n(153),i=g(n(245)),o=n(34),a=n(33),s=n(16),u=g(n(112)),l=n(566),c=m(n(1)),h=m(n(589)),f=n(71),p=n(66),d=n(35);function m(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function g(t){return t&&t.__esModule?t:{"default":t}}var v=e.SkGridLayer=f.Evented.extend({options:{name:"basic",map:null,url:d.UrlConf.mvt,maxLevel:16,type:"mvt",zIndex:2,opacity:1,zooms:[3,18],detectRetina:!1,features:["bg","building","road","point"]},initialize:function(t){c.setOptions(this,t),this.options.map&&this.setMap(this.options.map)},setMap:function(t){this.options.map=t,t?(this.map||this.init(this.options.name,t,this.options.url,this.options.maxLevel,this.options.type),t.addLayer(this)):this.map&&this.map.removeLayer(this)},init:function(t,e,n,o,a){var s=this;this.name=t,this.map=e,this.url=n,this.type=a,this.cache=new r.LRUMap(1024),this.maxLevel=o,this.curLabel=[],this.lastLabel=[],this.cache.shift=function(){var t=r.LRUMap.prototype.shift.call(this),n=t[1];if(n.texture&&e.gl.deleteTexture(n.texture),n.buildingVBO&&e.gl.deleteBuffer(n.buildingVBO),n.buildingFIBO&&e.gl.deleteBuffer(n.buildingFIBO),n.buildingLIBO&&e.gl.deleteBuffer(n.buildingLIBO),n.waterVBO&&e.gl.deleteBuffer(n.waterVBO),n.waterFIBO&&e.gl.deleteBuffer(n.waterFIBO),n.waterLIBO&&e.gl.deleteBuffer(n.waterLIBO),n.oceanFIBO&&e.gl.deleteBuffer(n.oceanFIBO),n.landuseVBO&&e.gl.deleteBuffer(n.landuseVBO),n.landuseFIBO&&e.gl.deleteBuffer(n.landuseFIBO),n.landuseLIBO&&e.gl.deleteBuffer(n.landuseLIBO),n.earthVBO&&e.gl.deleteBuffer(n.earthVBO),n.earthIBO&&e.gl.deleteBuffer(n.earthIBO),n.boundariesVBOs)for(var i=0;i<n.boundariesVBOs.length;i++){var o=n.boundariesVBOs[i];o.vbo&&e.gl.deleteBuffer(o.vbo),o.ibo&&e.gl.deleteBuffer(o.ibo)}if(n.transitVBOs)for(i=0;i<n.transitVBOs.length;i++){var a=n.transitVBOs[i];a.vbo&&e.gl.deleteBuffer(a.vbo),a.ibo&&e.gl.deleteBuffer(a.ibo)}if(n.roadVBOs)for(i=0;i<n.roadVBOs.length;i++){var s=n.roadVBOs[i];s.vbo&&e.gl.deleteBuffer(s.vbo);for(var u=0;u<h.MVTROADLAYERCNT;u++)s.ibo[u]&&e.gl.deleteBuffer(s.ibo[u]),s.ibo[u]=0}return t},i["default"].get(d.UrlConf.config.sktheme,{responseType:"text"}).then(function(t){i["default"].get(d.UrlConf.config.skwt,{responseType:"text"}).then(function(e){s.theme=new l.SkMVTThemeMgr(t.data,e.data),s.onThemeChanged()})})},onThemeChanged:function(){this.cache.clear(),this.map.postInvalidate()},setCustomStyle:function(t){this.theme.setThemeData(t),this.onThemeChanged()},getObjAround:function(t){var e=this.map.mapController.getZoomVal(),n=this.map.mapController.getZoom()+2;"mvt"==this.type&&(n=this.map.mapController.getZoom()+1),n>this.maxLevel&&(n=this.maxLevel),console.log("zoom:"+n);var r=1<<n,i=p.MMConstant.diameter/r,o=parseInt(t.mx/p.MMConstant.diameter*r),s=parseInt(t.my/p.MMConstant.diameter*r),u=this.name+":"+n+":"+o+":"+s,l=this.cache.get(u);if(!l)return[];for(var c=(t.mx-l.env.startLon)*l.coorExtend/i,f=(t.my-l.env.startLat)*l.coorExtend/i,d=[],m=["buildings","landuse","water","roads","boundaries","transit","earth"],g=0;g<m.length;g++){if(A=l[m[g]])for(var v=0;v<A.length;v++){var y=A[v];if(y.env.inc(c,f)){for(var x=y.obj,b=x.loadGeometry(),_=!1,w=0;w<b.length;w++){if(3==x.type&&(0,a.SkRingIncPoint)(b[w],c,f)){_=!0;break}if(2==x.type){var E=(0,a.SkGetPointPlineDist)(c,f,b[w]);if(E&&E.dist<h.SELECTRADIUS){_=!0;break}}else x.type}_&&d.push({layer:m[g],obj:x})}}}m=["pois","places"];for(g=0;g<m.length;g++){var A;if(A=l[m[g]])for(v=0;v<A.length;v++){var S=A[v];Math.abs(S.lon-t.mx)<100*e&&Math.abs(S.lat-t.my)<100*e&&d.push({layer:m[g],obj:S})}}return d},getTiles:function(t,e,n){var r=[],i=1<<t,o=(p.MMConstant.diameter,parseInt(e.startLon/p.MMConstant.diameter*i)),u=parseInt(e.endLon/p.MMConstant.diameter*i),l=parseInt(e.startLat/p.MMConstant.diameter*i),c=parseInt(e.endLat/p.MMConstant.diameter*i),h=map.axes.getCenter();e.startLon<0&&o--;for(var f=o;f<=u;f++)for(var d=l;d<=c;d++){var m=f%i,g=d%i;m<0&&(m+=i);var v=this.name+":"+t+":"+m+":"+g,x=this.cache.get(v);x||(x=new y(v,this.url,this.map.gl,this.map,t,m,g,this),this.cache.set(v,x));var b=x.env;x.env.startLon-h.mx<-p.MMConstant.radii?((b=new s.SkEnvelope).startLat=x.env.startLat,b.endLat=x.env.endLat,b.startLon=x.env.startLon+p.MMConstant.diameter,b.endLon=x.env.endLon+p.MMConstant.diameter):x.env.endLon-h.mx>536870912&&((b=new s.SkEnvelope).startLat=x.env.startLat,b.endLat=x.env.endLat,b.startLon=x.env.startLon-p.MMConstant.diameter,b.endLon=x.env.endLon-p.MMConstant.diameter),(90==this.map.mapController.lookAngle&&0==this.map.mapController.mapAngle||(0,a.MapQueryObjIntersect)(n,b))&&r.push(x)}return r},prepareData:function(){var t=this.map.mapController.getZoom()+2;"mvt"==this.type&&(t=this.map.mapController.getZoom()+1),t>this.maxLevel&&(t=this.maxLevel),this.tiles=this.getTiles(t,this.map.env,this.map.queryObj)},prepareLabel:function(){if("mvt"==this.type){var t=this.map,e=this.map.mapController.getZoom()+1;e>this.maxLevel&&(e=this.maxLevel);var n=this.map.mapController.getZoomVal(),r=[];if(t.opts.label){r=this.getTiles(e,t.env,t.queryObj),this.labelRTree=(0,u["default"])(10);var i=this.lastLabelZoom/n;(i<=.75||i>=1.33)&&(this.lastLabel=[]),this.curLabel=[];for(var o=0;o<this.lastLabel.length;o++){if((h=this.lastLabel[o]).findPos(t,this.labelRTree,!0)){if(h.visible=!0,h.rect)this.labelRTree.insert(h.rect,"");else if(h.rectArray)for(var a=0;a<h.rectArray.length;a++)this.labelRTree.insert(h.rectArray[a],"");this.curLabel.push(h)}else h.notVisible=!0}for(var s=r.length-1;s>=0;s--){if((c=r[s]).dataReady&&c.places)for(var l=c.places.length-1;l>=0;l--){(h=c.places[l]).notVisible||h.visible?(h.notVisible=!1,h.visible=!1):h.findPos(t,this.labelRTree,!1)&&(this.labelRTree.insert(h.rect,""),this.curLabel.push(h))}}for(s=r.length-1;s>=0;s--){var c;if((c=r[s]).dataReady&&c.pois)for(l=c.pois.length-1;l>=0;l--){var h;(h=c.pois[l]).notVisible||h.visible?(h.notVisible=!1,h.visible=!1):h.findPos(t,this.labelRTree,!1)&&(this.labelRTree.insert(h.rect,""),this.curLabel.push(h))}}this.lastLabel=this.curLabel,this.lastLabelZoom=n}else this.lastLabel=[]}},render:function(){var t=this.map.gl,e=this.tiles,n=!0;if(e){for(var r=0;r<e.length;r++)e[r].RenderBase(t,this.map,this.map.curProj,this.type),!e[r].dataReady&&n&&(n=!1);t.useProgram(this.map.routeProgram.prog),t.bindTexture(t.TEXTURE_2D,this.map.m_LineTex);for(r=0;r<e.length;r++)e[r].RenderTransit(t,this.map,this.map.curProj,this.type);t.bindTexture(t.TEXTURE_2D,this.map.m_RouteTex);for(var i=0;i<h.MVTROADLAYERCNT;i++)for(r=0;r<e.length;r++)e[r].RenderRoads(t,this.map,this.map.curProj,this.type,i);t.bindTexture(t.TEXTURE_2D,null),t.useProgram(this.map.bgProgram.prog),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this.map.opts.buildingTranslucent?t.colorMask(!1,!1,!1,!1):t.disable(t.BLEND);for(r=0;r<e.length;r++)e[r].RenderBuildings(t,this.map,this.map.curProj,this.type);if(this.map.opts.buildingTranslucent){t.colorMask(!0,!0,!0,!0),t.depthMask(!1);for(r=0;r<e.length;r++)e[r].RenderBuildings(t,this.map,this.map.curProj,this.type);t.depthMask(!0)}else t.enable(t.BLEND);return t.disable(t.DEPTH_TEST),n}},renderLabel:function(t){var e=this.map.mapController.getZoomVal();if(!(this.lastLabelZoom/e<=.5))for(var n=0;n<this.curLabel.length;n++){this.curLabel[n].draw(this.map.labelContext,this.map,t,this.map.iconConf)}},hasFeature:function(t){return!!this.options.features&&-1!=this.options.features.indexOf(t)},setFeatures:function(t){var e=this.map;e&&(this.options.features=t,e.postInvalidate())}});var y=e.SkGridTile=function(t,e,n,r,o,a,u,l){var c=this;this.tileid=t,this.dataReady=!1;var f=p.MMConstant.diameter/Math.pow(2,o);if(this.env=new s.SkEnvelope,this.env.startLon=a*f,this.env.startLat=u*f,this.env.endLon=this.env.startLon+f,this.env.endLat=this.env.startLat+f,this.coorExtend=1,"mvt"==l.type)i["default"].get(e.replace("{z}",o).replace("{y}",u).replace("{x}",a),{responseType:"arraybuffer"}).then(function(t){var e=h.SkMakeVectorTile(t.data);!function(t){var e,i=l.theme;if(!t||!l||!l.hasFeature("bg"))return;c.earth=null,r.objSelectable&&(c.earth=[]);null!=(e=t.loadTileBgDat(r,i,o,c.earth))&&(c.coorExtend=e.coorExtend,c.earthVBO=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,c.earthVBO),n.bufferData(n.ARRAY_BUFFER,e.vertex,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),c.earthIBO=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,c.earthIBO),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.index),n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),c.iEarthIndexCnt=e.index.length);c.landuse=null,r.objSelectable&&(c.landuse=[]);null!=(e=t.loadTileLandDat(r,i,o,c.landuse))&&(c.coorExtend=e.coorExtend,c.landuseVBO=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,c.landuseVBO),n.bufferData(n.ARRAY_BUFFER,e.vertex,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),c.landuseFIBO=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,c.landuseFIBO),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.index),n.STATIC_DRAW),c.landuseLIBO=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,c.landuseLIBO),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.index),n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),c.iLanduseAreaIndexCnt=e.index.length,c.iLanduseLineIndexCnt=e.lineIndex.length);c.water=null,r.objSelectable&&(c.water=[]);null!=(e=t.loadTileWaterDat(r,i,o,c.water))&&(c.coorExtend=e.coorExtend,c.waterVBO=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,c.waterVBO),n.bufferData(n.ARRAY_BUFFER,e.vertex,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.index.length>0&&(c.waterFIBO=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,c.waterFIBO),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.index),n.STATIC_DRAW),c.iWaterAreaIndexCnt=e.index.length),e.oceanAreaIndex.length>0&&(c.oceanFIBO=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,c.oceanFIBO),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.oceanAreaIndex),n.STATIC_DRAW),c.iOceanAreaIndexCnt=e.oceanAreaIndex.length),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null))}(e),function(t){var e=l.theme;if(!t||!l||!l.hasFeature("road"))return;c.buildings=null,r.objSelectable&&(c.buildings=[]);var i=new h.TileRoadDat(null,null);i.addvbo=function(t,e,r,i){var o={};0<e&&(o.vbo=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,o.vbo),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null)),o.ibo=[],o.ibo.length=h.MVTROADLAYERCNT,o.icnt=i;for(var a=0;a<h.MVTROADLAYERCNT;a++)0<i[a]&&(o.ibo[a]=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,o.ibo[a]),n.bufferData(n.ELEMENT_ARRAY_BUFFER,r[a],n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null));c.roadVBOs.push(o)},t.loadTileRoadDat(r,e,o,c.buildings,i)}(e),function(t){for(var e=["transit","boundaries"],i=l.theme,a=0;a<e.length;a++){var s=e[a];if(l.hasFeature("road")){c[s]=null,r.objSelectable&&(c[s]=[]);var u=new h.TileBoundAreaDat(null,null);u.addvbo=function(t,e,r,i){var o={};0<e&&(o.vbo=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,o.vbo),n.bufferData(n.ARRAY_BUFFER,t,n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null)),0<i&&(o.ibo=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,o.ibo),n.bufferData(n.ELEMENT_ARRAY_BUFFER,r,n.STATIC_DRAW),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),o.icnt=i),"transit"==s?c.transitVBOs.push(o):c.boundariesVBOs.push(o)},t.loadTileBoundAreasDat(r,i,o,c[s],u)}}}(e),function(t){for(var e=["pois","places"],n=l.theme,i=0;i<e.length;i++){var a=e[i];if(l.hasFeature("point")){c[a]=[];t.loadTilePoiDat(r,n,o,c.env,a,function(t){null!=t&&c[a].push(t)})}}}(e),c.dataReady=!0,r.postInvalidate()})["catch"](function(t){console.log(t)});else if(l.options.createTile)l.options.createTile(a,u,o,function(t){var e;if("IMG"===t.tagName)e=t,l.options.opacity&&(e.opacity=l.options.opacity),c.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,c.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.bindTexture(n.TEXTURE_2D,null),c.dataReady=!0,r.postInvalidate();else{e=new Image;var i=t.toDataURL("image/png");e.src=i,l.options.opacity&&(e.opacity=l.options.opacity),e.onload=function(){c.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,c.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.bindTexture(n.TEXTURE_2D,null),c.dataReady=!0,r.postInvalidate()}}},function(){console.log("error")});else{!function(){var t=new Image;t.crossOrigin="anonymous",t.src=e.replace("{z}",o).replace("{y}",u).replace("{x}",a),t.onload=function(){c.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,c.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),n.bindTexture(n.TEXTURE_2D,null),c.dataReady=!0,r.postInvalidate()}}();var d=new Image;d.crossOrigin="anonymous",d.src=e.replace("{z}",o).replace("{y}",u).replace("{x}",a),d.onload=function(){c.texture=n.createTexture(),n.bindTexture(n.TEXTURE_2D,c.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,d),n.bindTexture(n.TEXTURE_2D,null),c.dataReady=!0,r.postInvalidate()}}c.roadVBOs=[],c.transitVBOs=[],c.boundariesVBOs=[]};y.prototype.RenderBuildings=function(t,e,n,r){if(this.dataReady&&this.buildingVBO){var i=o.mat4.clone(n),a=e.axes.toMapAxes(this.env.startLon,this.env.endLat);o.mat4.translate(i,i,[a.x,a.y,0]);var s=e.bgProgram,u=(this.env.endLon-this.env.startLon)/this.coorExtend;o.mat4.scale(i,i,[u,u,u]),t.uniformMatrix4fv(s.uniLocation,!1,i),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.bindBuffer(t.ARRAY_BUFFER,this.buildingVBO),t.enableVertexAttribArray(s.a_Position),t.vertexAttribPointer(s.a_Position,3,t.SHORT,!1,10,0),t.enableVertexAttribArray(s.a_Color),t.vertexAttribPointer(s.a_Color,4,t.UNSIGNED_BYTE,!0,10,6),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buildingFIBO),t.drawElements(t.TRIANGLES,this.iBuildingFaceIndexCnt,t.UNSIGNED_SHORT,0),t.disableVertexAttribArray(s.a_Color),t.vertexAttrib4f(s.a_Color,.788,.788,.788,1),t.lineWidth(1),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buildingLIBO),t.drawElements(t.LINES,this.iBuildingLineIndexCnt,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null),t.disable(t.DEPTH_TEST)}},y.prototype.RenderRoads=function(t,e,n,r,i){if(this.dataReady&&this.roadVBOs&&!(this.roadVBOs.length<=0)){var a=o.mat4.clone(n),s=e.axes.toMapAxes(this.env.startLon,this.env.endLat);o.mat4.translate(a,a,[s.x,s.y,0]);var u=e.routeProgram;t.uniform1i(u.uSampler,0);var l=(this.env.endLon-this.env.startLon)/this.coorExtend;o.mat4.scale(a,a,[l,l,l]),t.uniformMatrix4fv(u.uniLocation,!1,a),t.enableVertexAttribArray(u.a_TextCoord),t.enableVertexAttribArray(u.a_Position),t.enableVertexAttribArray(u.a_Color);for(var c=0;c<this.roadVBOs.length;c++){var h=this.roadVBOs[c];h.vbo&&h.ibo[i]&&0!=h.icnt[i]&&(t.bindBuffer(t.ARRAY_BUFFER,h.vbo),t.vertexAttribPointer(u.a_TextCoord,2,t.FLOAT,!1,32,16),i%2==0?(t.vertexAttribPointer(u.a_Position,2,t.FLOAT,!1,32,0),t.vertexAttribPointer(u.a_Color,4,t.UNSIGNED_BYTE,!0,32,24)):(t.vertexAttribPointer(u.a_Position,2,t.FLOAT,!1,32,8),t.vertexAttribPointer(u.a_Color,4,t.UNSIGNED_BYTE,!0,32,28)),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h.ibo[i]),t.drawElements(t.TRIANGLES,h.icnt[i],t.UNSIGNED_SHORT,0))}}},y.prototype.RenderTransit=function(t,e,n,r){if(this.dataReady&&(this.transitVBOs&&!(this.transitVBOs.length<=0)||this.boundariesVBOs&&!(this.boundariesVBOs.length<=0))){var i=o.mat4.clone(n),a=e.axes.toMapAxes(this.env.startLon,this.env.endLat);o.mat4.translate(i,i,[a.x,a.y,0]);var s=e.routeProgram;t.uniform1i(s.uSampler,0);var u=(this.env.endLon-this.env.startLon)/this.coorExtend;if(o.mat4.scale(i,i,[u,u,u]),t.uniformMatrix4fv(s.uniLocation,!1,i),this.transitVBOs)for(var l=0;l<this.transitVBOs.length;l++){var c=this.transitVBOs[l];t.bindBuffer(t.ARRAY_BUFFER,c.vbo),t.enableVertexAttribArray(s.a_Position),t.vertexAttribPointer(s.a_Position,2,t.FLOAT,!1,20,0),t.enableVertexAttribArray(s.a_TextCoord),t.vertexAttribPointer(s.a_TextCoord,2,t.FLOAT,!1,20,8),t.enableVertexAttribArray(s.a_Color),t.vertexAttribPointer(s.a_Color,4,t.UNSIGNED_BYTE,!0,20,16),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c.ibo),t.drawElements(t.TRIANGLES,c.icnt,t.UNSIGNED_SHORT,0)}if(this.boundariesVBOs)for(l=0;l<this.boundariesVBOs.length;l++){var h=this.boundariesVBOs[l];t.bindBuffer(t.ARRAY_BUFFER,h.vbo),t.enableVertexAttribArray(s.a_Position),t.vertexAttribPointer(s.a_Position,2,t.FLOAT,!1,20,0),t.enableVertexAttribArray(s.a_TextCoord),t.vertexAttribPointer(s.a_TextCoord,2,t.FLOAT,!1,20,8),t.enableVertexAttribArray(s.a_Color),t.vertexAttribPointer(s.a_Color,4,t.UNSIGNED_BYTE,!0,20,16),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,h.ibo),t.drawElements(t.TRIANGLES,h.icnt,t.UNSIGNED_SHORT,0)}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null)}},y.prototype.RenderBase=function(t,e,n,r){if(this.dataReady){var i=o.mat4.clone(n),a=e.axes.toMapAxes(this.env.startLon,this.env.endLat);if(o.mat4.translate(i,i,[a.x,a.y,0]),"mvt"==r){var s=e.bgProgram;t.useProgram(s.prog);var u=(this.env.endLon-this.env.startLon)/this.coorExtend;o.mat4.scale(i,i,[u,u,u]),t.uniformMatrix4fv(s.uniLocation,!1,i),this.waterVBO&&this.iOceanAreaIndexCnt>0&&(t.bindBuffer(t.ARRAY_BUFFER,this.waterVBO),t.enableVertexAttribArray(s.a_Position),t.vertexAttribPointer(s.a_Position,2,t.SHORT,!1,8,0),t.enableVertexAttribArray(s.a_Color),t.vertexAttribPointer(s.a_Color,4,t.UNSIGNED_BYTE,!0,8,4),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.oceanFIBO),t.drawElements(t.TRIANGLES,this.iOceanAreaIndexCnt,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null)),this.earthVBO&&(t.bindBuffer(t.ARRAY_BUFFER,this.earthVBO),t.enableVertexAttribArray(s.a_Position),t.vertexAttribPointer(s.a_Position,2,t.SHORT,!1,8,0),t.enableVertexAttribArray(s.a_Color),t.vertexAttribPointer(s.a_Color,4,t.UNSIGNED_BYTE,!0,8,4),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.earthIBO),t.drawElements(t.TRIANGLES,this.iEarthIndexCnt,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null)),this.landuseVBO&&(t.bindBuffer(t.ARRAY_BUFFER,this.landuseVBO),t.enableVertexAttribArray(s.a_Position),t.vertexAttribPointer(s.a_Position,2,t.SHORT,!1,8,0),t.enableVertexAttribArray(s.a_Color),t.vertexAttribPointer(s.a_Color,4,t.UNSIGNED_BYTE,!0,8,4),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.landuseFIBO),t.drawElements(t.TRIANGLES,this.iLanduseAreaIndexCnt,t.UNSIGNED_SHORT,0),t.lineWidth(3),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.landuseLIBO),t.drawElements(t.LINES,this.iLanduseLineIndexCnt,t.UNSIGNED_SHORT,0),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null)),this.waterVBO&&this.iWaterAreaIndexCnt>0&&(t.bindBuffer(t.ARRAY_BUFFER,this.waterVBO),t.enableVertexAttribArray(s.a_Position),t.vertexAttribPointer(s.a_Position,2,t.SHORT,!1,8,0),t.enableVertexAttribArray(s.a_Color),t.vertexAttribPointer(s.a_Color,4,t.UNSIGNED_BYTE,!0,8,4),this.iWaterAreaIndexCnt>0&&(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.waterFIBO),t.drawElements(t.TRIANGLES,this.iWaterAreaIndexCnt,t.UNSIGNED_SHORT,0)),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null))}else{var l=e.bgImgProgram;t.useProgram(l.prog);u=(this.env.endLon-this.env.startLon)/255;o.mat4.scale(i,i,[u,u,1]),t.uniformMatrix4fv(l.uniLocation,!1,i),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.texture),t.uniform1i(l.uSampler,0),t.bindBuffer(t.ARRAY_BUFFER,e.imgvbo),t.enableVertexAttribArray(l.a_Position),t.vertexAttribPointer(l.a_Position,2,t.UNSIGNED_BYTE,!1,4,0),t.enableVertexAttribArray(l.a_TextCoord),t.vertexAttribPointer(l.a_TextCoord,2,t.UNSIGNED_BYTE,!1,4,2),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindTexture(t.TEXTURE_2D,null)}}}},function(t,e,n){t.exports=n(548)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";(function(e){var r=n(27),i=n(552),o=n(554),a=n(555),s=n(556),u=n(248),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(557);t.exports=function(t){return new Promise(function(c,h){var f=t.data,p=t.headers;r.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest,m="onreadystatechange",g=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,m="onload",g=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var v=t.auth.username||"",y=t.auth.password||"";p.Authorization="Basic "+l(v+":"+y)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[m]=function(){if(d&&(4===d.readyState||g)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:e,config:t,request:d};i(c,h,n),d=null}},d.onerror=function(){h(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){h(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var x=n(558),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?x.read(t.xsrfCookieName):undefined;b&&(p[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&r.forEach(p,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(_){if("json"!==t.responseType)throw _}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),h(t),d=null)}),f===undefined&&(f=null),d.send(f)})}}).call(e,n(46))},function(t,e,n){"use strict";var r=n(553);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";var r=n(77);t.exports=new r({include:[n(252)]})},function(t,e,n){"use strict";var r=n(77);t.exports=new r({include:[n(162)],implicit:[n(574),n(575),n(576),n(577)]})},function(t,e,n){"use strict";var r=n(254);function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(o,this,e),this.length=this._features.length}function o(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){var e=null,n=t.readVarint()+t.pos;for(;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}t.exports=i,i.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,e,this.extent,this._keys,this._values)}},function(t,e,n){"use strict";var r=n(592);function i(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(o,this,e)}function o(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){var n=t.readVarint()+t.pos;for(;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function a(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}t.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,o=0,a=0,s=0,u=[];t.pos<n;){if(o<=0){var l=t.readVarint();i=7&l,o=l>>3}if(o--,1===i||2===i)a+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new r(a,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},i.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=Infinity,s=-Infinity,u=Infinity,l=-Infinity;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=t.readSVarint(),o+=t.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},i.prototype.toGeoJSON=function(t,e,n){var r,o,s=this.extent*Math.pow(2,n),u=this.extent*t,l=this.extent*e,c=this.loadGeometry(),h=i.types[this.type];function f(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+l)/s;t[e]=[360*(n.x+u)/s-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<c.length;r++)p[r]=c[r][0];f(c=p);break;case 2:for(r=0;r<c.length;r++)f(c[r]);break;case 3:for(c=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var s=a(t[o]);0!==s&&(r===undefined&&(r=s<0),r===s<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}n&&i.push(n);return i}(c),r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)f(c[r][o])}1===c.length?c=c[0]:h="Multi"+h;var d={type:"Feature",geometry:{type:h,coordinates:c},properties:this.properties};return"id"in this&&(d.id=this.id),d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Traffic=undefined;var r=c(n(245)),i=c(n(85)),o=n(111),a=n(110),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),u=n(86),l=n(35);function c(t){return t&&t.__esModule?t:{"default":t}}e.Traffic=a.SkInterLayer.extend({options:{zIndex:4,opacity:1,zooms:[3,17],detectRetina:!0,autoRefresh:!1,interval:18e4,mapStyle:u.styleConf.normal},initialize:function(t){s.setOptions(this.options,t),a.SkInterLayer.prototype.initialize.call(this,this.options)},setMap:function(t){a.SkInterLayer.prototype.setMap.call(this,t),t?this._refresh():this._refreshTimer&&clearInterval(this._refreshTimer)},_refresh:function(){if(this._loadTraffic(),this.options.autoRefresh){var t=this;this._refreshTimer&&clearInterval(this._refreshTimer),this._refreshTimer=setInterval(function(){t._loadTraffic()},this.options.interval||18e4)}},setOpacity:function(t){this.options.opacity=t},reload:function(){this._refresh()},getTrafficStat:function(t,e){if(this._trafMap){var n=this._trafMap.get(t);if(n){var r=n.get(e);if(r)return r.evtcode}}return-1},_loadTraffic:function(){var t=this;r["default"].get(l.UrlConf.traffic,{responseType:"arraybuffer"}).then(function(e){t._reloadTraffic(e)})},_reloadTraffic:function(t){var e=this.map;e&&(this._trafMap?this._trafMap.clear():this._trafMap=new Map,this._parseData(t,this._trafMap),this.cache&&this.cache.clear(),e.postInvalidate())},_parseData:function(t,e){for(var n=t.data,r=new DataView(n),a=new o.BufferNew(r,!1),s=(0,o.BufferGetInt32)(a),u=4,l=0;l<s;l++){var c=(0,o.BufferGetInt32)(a),h=new Uint8Array(n,a.offset,c);(0,o.BufferSkip)(a,c);var f=(0,o.byteToString)(h),p=parseInt(f);u+=12;var d=(0,o.BufferGetInt32)(a);(0,o.BufferSkip)(a,d);var m=n.slice(u,u+d),g=i["default"].inflate(m);u+=d;var v=g.buffer,y=new o.BufferNew(new DataView(v),!1);new Uint8Array(v,0,28);(0,o.BufferSkip)(y,28);for(var x=(0,o.BufferGetInt16)(y),b=new Map,_=0;_<x;_++){for(var w=(0,o.BufferGetInt16)(y),E=0,A=0;A<w;A++)E=(0,o.BufferGetInt32)(y);(0,o.BufferGetInt16)(y);(0,o.BufferSkip)(y,2);var S=(0,o.BufferGetInt16)(y),C={},D=E<0?1:0;C.lcdcode=Math.abs(2*E)+D,C.evtcode=S;var M=(0,o.BufferGetInt16)(y);for(A=0;A<M;A++){(0,o.BufferSkip)(y,8);(0,o.BufferGetInt16)(y),(0,o.BufferGetInt16)(y)}b.set(C.lcdcode,C)}e.set(parseInt(p+"00"),b)}},prepareData:function(){if(this.confReady&&this.map){var t=this.map,e=t.mapController.getZoomVal();this.mapdata={},this.mapdata.tfTiles=[],this.mapdata.tfTiles=a.SkInterLayer.prototype.getTiles.call(this,5,e,t.env,t.queryObj)}},prepareLabel:function(){},render:function(){if(this.confReady&&this.mapdata&&this._isShow()){var t=!0,e=this.map,n=e.gl,r=e.GetCurProj(),i=this.mapdata.tfTiles;n.useProgram(e.routeProgram.prog),n.bindTexture(n.TEXTURE_2D,e.m_LineTex);for(var o=i.length-1;o>=0;o--)i[o].m_iLineICnt&&i[o].m_iLineICnt[0]>0&&(i[o].Render(this,n,e,r,0,!0),!i[o].dataReady&&t&&(t=!1))}},renderLabel:function(t){}})},function(t,e,n){n(257),t.exports=n(459)},function(t,e,n){"use strict";(function(t){if(n(258),n(455),n(456),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function r(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&r(Array,t,Function.call.bind([][t]))})}).call(e,n(48))},function(t,e,n){n(259),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(339),n(340),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(138),n(363),n(364),n(181),n(365),n(366),n(367),n(368),n(369),n(184),n(186),n(187),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),t.exports=n(28)},function(t,e,n){"use strict";var r=n(3),i=n(21),o=n(8),a=n(0),s=n(19),u=n(49).KEY,l=n(4),c=n(89),h=n(67),f=n(56),p=n(6),d=n(164),m=n(118),g=n(260),v=n(92),y=n(2),x=n(5),b=n(22),_=n(36),w=n(55),E=n(59),A=n(167),S=n(23),C=n(9),D=n(57),M=S.f,k=C.f,T=A.f,L=r.Symbol,I=r.JSON,B=I&&I.stringify,R=p("_hidden"),F=p("toPrimitive"),P={}.propertyIsEnumerable,O=c("symbol-registry"),N=c("symbols"),U=c("op-symbols"),z=Object.prototype,j="function"==typeof L,W=r.QObject,Y=!W||!W.prototype||!W.prototype.findChild,G=o&&l(function(){return 7!=E(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=M(z,e);r&&delete z[e],k(t,e,n),r&&t!==z&&k(z,e,r)}:k,V=function(t){var e=N[t]=E(L.prototype);return e._k=t,e},H=j&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},q=function(t,e,n){return t===z&&q(U,e,n),y(t),e=_(e,!0),y(n),i(N,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=E(n,{enumerable:w(0,!1)})):(i(t,R)||k(t,R,w(1,{})),t[R][e]=!0),G(t,e,n)):k(t,e,n)},X=function(t,e){y(t);for(var n,r=g(e=b(e)),i=0,o=r.length;o>i;)q(t,n=r[i++],e[n]);return t},Z=function(t){var e=P.call(this,t=_(t,!0));return!(this===z&&i(N,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,R)&&this[R][t])||e)},J=function(t,e){if(t=b(t),e=_(e,!0),t!==z||!i(N,e)||i(U,e)){var n=M(t,e);return!n||!i(N,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},K=function(t){for(var e,n=T(b(t)),r=[],o=0;n.length>o;)i(N,e=n[o++])||e==R||e==u||r.push(e);return r},$=function(t){for(var e,n=t===z,r=T(n?U:b(t)),o=[],a=0;r.length>a;)!i(N,e=r[a++])||n&&!i(z,e)||o.push(N[e]);return o};j||(s((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:undefined),e=function(n){this===z&&e.call(U,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),G(this,t,w(1,n))};return o&&Y&&G(z,t,{configurable:!0,set:e}),V(t)}).prototype,"toString",function(){return this._k}),S.f=J,C.f=q,n(60).f=A.f=K,n(79).f=Z,n(91).f=$,o&&!n(50)&&s(z,"propertyIsEnumerable",Z,!0),d.f=function(t){return V(p(t))}),a(a.G+a.W+a.F*!j,{Symbol:L});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=D(p.store),nt=0;et.length>nt;)m(et[nt++]);a(a.S+a.F*!j,"Symbol",{"for":function(t){return i(O,t+="")?O[t]:O[t]=L(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in O)if(O[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!j,"Object",{create:function(t,e){return e===undefined?E(t):X(E(t),e)},defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:K,getOwnPropertySymbols:$}),I&&a(a.S+a.F*(!j||l(function(){var t=L();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(x(e)||t!==undefined)&&!H(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!H(e))return e}),r[1]=e,B.apply(I,r)}}),L.prototype[F]||n(18)(L.prototype,F,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(57),i=n(91),o=n(79);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(59)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(8),"Object",{defineProperty:n(9).f})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(8),"Object",{defineProperties:n(166)})},function(t,e,n){var r=n(22),i=n(23).f;n(39)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(12),i=n(24);n(39)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(12),i=n(57);n(39)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(39)("getOwnPropertyNames",function(){return n(167).f})},function(t,e,n){var r=n(5),i=n(49).onFreeze;n(39)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(5),i=n(49).onFreeze;n(39)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(5),i=n(49).onFreeze;n(39)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(5);n(39)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(5);n(39)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(5);n(39)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(168)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(276)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(122).set})},function(t,e,n){"use strict";var r=n(80),i={};i[n(6)("toStringTag")]="z",i+""!="[object z]"&&n(19)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(169)})},function(t,e,n){var r=n(9).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(8)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(5),i=n(24),o=n(6)("hasInstance"),a=Function.prototype;o in a||n(9).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(0),i=n(171);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(0),i=n(172);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(3),i=n(21),o=n(30),a=n(124),s=n(36),u=n(4),l=n(60).f,c=n(23).f,h=n(9).f,f=n(68).trim,p=r.Number,d=p,m=p.prototype,g="Number"==o(n(59)(m)),v="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?u(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new d(y(e)),n,p):y(e)};for(var x,b=n(8)?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;b.length>_;_++)i(d,x=b[_])&&!i(p,x)&&h(p,x,c(d,x));p.prototype=m,m.constructor=p,n(19)(r,"Number",p)}},function(t,e,n){"use strict";var r=n(0),i=n(38),o=n(173),a=n(125),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=u(r/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(4)(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,c),l=i(t),m="",g="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),r=l;r>=7;)h(1e7,0),r-=7;for(h(d(10,r,1),0),r=e-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),g=p()}else h(0,n),h(1<<-e,0),g=p()+a.call("0",l);return g=l>0?m+((s=g.length)<=l?"0."+a.call("0",l-s)+g:g.slice(0,s-l)+"."+g.slice(s-l)):m+g}})},function(t,e,n){"use strict";var r=n(0),i=n(4),o=n(173),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,undefined)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return t===undefined?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0),i=n(3).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(174)})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),i=n(174),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),i=n(172);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(0),i=n(171);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(0),i=n(175),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(Infinity)==Infinity),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function o(t){return isFinite(t=+t)&&0!=t?t<0?-o(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(126);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0),i=n(127);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(176)})},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===Infinity?Infinity:u*Math.sqrt(o)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(175)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(126)})},function(t,e,n){var r=n(0),i=n(127),o=Math.exp;r(r.S+r.F*n(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(127),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==Infinity?1:n==Infinity?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(0),i=n(58),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(0),i=n(22),o=n(10);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(68)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var r=n(128)(!0);n(129)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:undefined,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(0),i=n(128)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(131),a="".endsWith;r(r.P+r.F*n(132)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:undefined,r=i(e.length),s=n===undefined?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(0),i=n(131);r(r.P+r.F*n(132)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:undefined)}})},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(125)})},function(t,e,n){"use strict";var r=n(0),i=n(10),o=n(131),a="".startsWith;r(r.P+r.F*n(132)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:undefined,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(20)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,n){"use strict";n(20)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(20)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(20)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(20)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(20)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,n){"use strict";n(20)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,n){"use strict";n(20)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(20)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,n){"use strict";n(20)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(20)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(20)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(20)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(36);r(r.P+r.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(0),i=n(338);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(4),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(19)(r,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,e,n){var r=n(6)("toPrimitive"),i=Date.prototype;r in i||n(18)(i,r,n(341))},function(t,e,n){"use strict";var r=n(2),i=n(36);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(92)})},function(t,e,n){"use strict";var r=n(29),i=n(0),o=n(12),a=n(177),s=n(133),u=n(10),l=n(134),c=n(135);i(i.S+i.F*!n(94)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:undefined,g=m!==undefined,v=0,y=c(f);if(g&&(m=r(m,d>2?arguments[2]:undefined,2)),y==undefined||p==Array&&s(y))for(n=new p(e=u(f.length));e>v;v++)l(n,v,g?m(f[v],v):f[v]);else for(h=y.call(f),n=new p;!(i=h.next()).done;v++)l(n,v,g?a(h,m,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){"use strict";var r=n(0),i=n(134);r(r.S+r.F*n(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),i=n(22),o=[].join;r(r.P+r.F*(n(78)!=Object||!n(31)(o)),"Array",{join:function(t){return o.call(i(this),t===undefined?",":t)}})},function(t,e,n){"use strict";var r=n(0),i=n(121),o=n(30),a=n(58),s=n(10),u=[].slice;r(r.P+r.F*n(4)(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=e===undefined?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),l=a(e,n),c=s(l-i),h=new Array(c),f=0;f<c;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},function(t,e,n){"use strict";var r=n(0),i=n(14),o=n(12),a=n(4),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(undefined)})||!a(function(){u.sort(null)})||!n(31)(s)),"Array",{sort:function(t){return t===undefined?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(0),i=n(40)(0),o=n(31)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(5),i=n(92),o=n(6)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=undefined),r(e)&&null===(e=e[o])&&(e=undefined)),e===undefined?Array:e}},function(t,e,n){"use strict";var r=n(0),i=n(40)(1);r(r.P+r.F*!n(31)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(40)(2);r(r.P+r.F*!n(31)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(40)(3);r(r.P+r.F*!n(31)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(40)(4);r(r.P+r.F*!n(31)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(178);r(r.P+r.F*!n(31)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),i=n(178);r(r.P+r.F*!n(31)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(90)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(31)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),i=n(22),o=n(38),a=n(10),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(31)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(179)}),n(51)("copyWithin")},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(137)}),n(51)("fill")},function(t,e,n){"use strict";var r=n(0),i=n(40)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(51)("find")},function(t,e,n){"use strict";var r=n(0),i=n(40)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(51)(o)},function(t,e,n){n(61)("Array")},function(t,e,n){var r=n(3),i=n(124),o=n(9).f,a=n(60).f,s=n(93),u=n(95),l=r.RegExp,c=l,h=l.prototype,f=/a/g,p=/a/g,d=new l(f)!==f;if(n(8)&&(!d||n(4)(function(){return p[n(6)("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(t,e){var n=this instanceof l,r=s(t),o=e===undefined;return!n&&r&&t.constructor===l&&o?t:i(d?new c(r&&!o?t.source:t,e):c((r=t instanceof l)?t.source:t,r&&o?u.call(t):e),n?this:h,l)};for(var m=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},g=a(c),v=0;g.length>v;)m(g[v++]);h.constructor=l,l.prototype=h,n(19)(r,"RegExp",l)}n(61)("RegExp")},function(t,e,n){"use strict";n(181);var r=n(2),i=n(95),o=n(8),a=/./.toString,s=function(t){n(19)(RegExp.prototype,"toString",t,!0)};n(4)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):undefined)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(t,e,n){n(96)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=n==undefined?undefined:n[e];return i!==undefined?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(96)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),a=r==undefined?undefined:r[e];return a!==undefined?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(t,e,n){n(96)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=n==undefined?undefined:n[e];return i!==undefined?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(96)("split",2,function(t,e,r){"use strict";var i=n(93),o=r,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=/()??/.exec("")[1]===undefined;r=function(t,e){var n=String(this);if(t===undefined&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,u,l,c,h,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,m=e===undefined?4294967295:e>>>0,g=new RegExp(t.source,p+"g");for(s||(r=new RegExp("^"+g.source+"$(?!\\s)",p));(u=g.exec(n))&&!((l=u.index+u[0].length)>d&&(f.push(n.slice(d,u.index)),!s&&u.length>1&&u[0].replace(r,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===undefined&&(u[h]=undefined)}),u.length>1&&u.index<n.length&&a.apply(f,u.slice(1)),c=u[0].length,d=l,f.length>=m));)g.lastIndex===u.index&&g.lastIndex++;return d===n.length?!c&&g.test("")||f.push(""):f.push(n.slice(d)),f.length>m?f.slice(0,m):f}}else"0".split(undefined,0).length&&(r=function(t,e){return t===undefined&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),a=n==undefined?undefined:n[e];return a!==undefined?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(t,e,n){"use strict";var r,i,o,a,s=n(50),u=n(3),l=n(29),c=n(80),h=n(0),f=n(5),p=n(14),d=n(62),m=n(63),g=n(97),v=n(139).set,y=n(140)(),x=n(141),b=n(182),_=n(98),w=n(183),E=u.TypeError,A=u.process,S=A&&A.versions,C=S&&S.v8||"",D=u.Promise,M="process"==c(A),k=function(){},T=i=x.f,L=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[n(6)("species")]=function(t){t(k,k)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e&&0!==C.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(r){}}(),I=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},B=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&P(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?l(E("Promise-chain cycle")):(o=I(n))?o.call(n,u,l):u(n)):l(r)}catch(h){c&&!a&&c.exit(),l(h)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){v.call(u,function(){var e,n,r,i=t._v,o=F(t);if(o&&(e=b(function(){M?A.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=M||F(t)?2:1),t._a=undefined,o&&e.e)throw e.v})},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){v.call(u,function(){var e;M?A.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},O=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),B(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=I(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,l(N,r,1),l(O,r,1))}catch(i){O.call(r,i)}}):(n._v=t,n._s=1,B(n,!1))}catch(r){O.call({_w:n,_d:!1},r)}}};L||(D=function(t){d(this,D,"Promise","_h"),p(t),r.call(this);try{t(l(N,this,1),l(O,this,1))}catch(e){O.call(this,e)}},(r=function(t){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=n(64)(D.prototype,{then:function(t,e){var n=T(g(this,D));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=M?A.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&B(this,!1),n.promise},"catch":function(t){return this.then(undefined,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(N,t,1),this.reject=l(O,t,1)},x.f=T=function(t){return t===D||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!L,{Promise:D}),n(67)(D,"Promise"),n(61)("Promise"),a=n(28).Promise,h(h.S+h.F*!L,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!L),"Promise",{resolve:function(t){return w(s&&this===a?D:this,t)}}),h(h.S+h.F*!(L&&n(94)(function(t){D.all(t)["catch"](k)})),"Promise",{all:function(t){var e=this,n=T(e),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;m(t,!1,function(t){var s=o++,u=!1;n.push(undefined),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=T(e),r=n.reject,i=b(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(188),i=n(70);n(99)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:undefined)}},{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(0),i=n(100),o=n(142),a=n(2),s=n(58),u=n(10),l=n(5),c=n(3).ArrayBuffer,h=n(97),f=o.ArrayBuffer,p=o.DataView,d=i.ABV&&c.isView,m=f.prototype.slice,g=i.VIEW;r(r.G+r.W+r.F*(c!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||l(t)&&g in t}}),r(r.P+r.U+r.F*n(4)(function(){return!new f(2).slice(1,undefined).byteLength}),"ArrayBuffer",{slice:function(t,e){if(m!==undefined&&e===undefined)return m.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(e===undefined?n:e,n),o=new(h(this,f))(u(i-r)),l=new p(this),c=new p(o),d=0;r<i;)c.setUint8(d++,l.getUint8(r++));return o}}),n(61)("ArrayBuffer")},function(t,e,n){var r=n(0);r(r.G+r.W+r.F*!n(100).ABV,{DataView:n(142).DataView})},function(t,e,n){n(44)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(44)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(44)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(44)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(44)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(44)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(44)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(44)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(44)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(0),i=n(14),o=n(2),a=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(4)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(0),i=n(59),o=n(14),a=n(2),s=n(5),u=n(4),l=n(169),c=(n(3).Reflect||{}).construct,h=u(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!u(function(){c(function(){})});r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var r=n(9),i=n(0),o=n(2),a=n(36);i(i.S+i.F*n(4)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(i){return!1}}})},function(t,e,n){var r=n(0),i=n(23).f,o=n(2);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(0),i=n(2),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(130)(o,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:undefined,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(23),i=n(24),o=n(21),a=n(0),s=n(5),u=n(2);a(a.S,"Reflect",{get:function l(t,e){var n,a,c=arguments.length<3?t:arguments[2];return u(t)===c?t[e]:(n=r.f(t,e))?o(n,"value")?n.value:n.get!==undefined?n.get.call(c):undefined:s(a=i(t))?l(a,e,c):void 0}})},function(t,e,n){var r=n(23),i=n(0),o=n(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(24),o=n(2);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(2),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(190)})},function(t,e,n){var r=n(0),i=n(2),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(e){return!1}}})},function(t,e,n){var r=n(9),i=n(23),o=n(24),a=n(21),s=n(0),u=n(55),l=n(2),c=n(5);s(s.S,"Reflect",{set:function h(t,e,n){var s,f,p=arguments.length<4?t:arguments[3],d=i.f(l(t),e);if(!d){if(c(f=o(t)))return h(f,e,n,p);d=u(0)}if(a(d,"value")){if(!1===d.writable||!c(p))return!1;if(s=i.f(p,e)){if(s.get||s.set||!1===s.writable)return!1;s.value=n,r.f(p,e,s)}else r.f(p,e,u(0,n));return!0}return d.set!==undefined&&(d.set.call(p,n),!0)}})},function(t,e,n){var r=n(0),i=n(122);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(n){return!1}}})},function(t,e,n){"use strict";var r=n(0),i=n(90)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined)}}),n(51)("includes")},function(t,e,n){"use strict";var r=n(0),i=n(191),o=n(12),a=n(10),s=n(14),u=n(136);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(51)("flatMap")},function(t,e,n){"use strict";var r=n(0),i=n(191),o=n(12),a=n(10),s=n(38),u=n(136);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,t===undefined?1:s(t)),r}}),n(51)("flatten")},function(t,e,n){"use strict";var r=n(0),i=n(128)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(0),i=n(192),o=n(98);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(192),o=n(98);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:undefined,!1)}})},function(t,e,n){"use strict";n(68)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(68)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";var r=n(0),i=n(37),o=n(10),a=n(93),s=n(95),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n(130)(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new l(r,e)}})},function(t,e,n){n(118)("asyncIterator")},function(t,e,n){n(118)("observable")},function(t,e,n){var r=n(0),i=n(190),o=n(22),a=n(23),s=n(134);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,l=i(r),c={},h=0;l.length>h;)(n=u(r,e=l[h++]))!==undefined&&s(c,e,n);return c}})},function(t,e,n){var r=n(0),i=n(193)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(193)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(14),a=n(9);n(8)&&r(r.P+n(101),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(14),a=n(9);n(8)&&r(r.P+n(101),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(36),a=n(24),s=n(23).f;n(8)&&r(r.P+n(101),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(0),i=n(12),o=n(36),a=n(24),s=n(23).f;n(8)&&r(r.P+n(101),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(194)("Map")})},function(t,e,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(194)("Set")})},function(t,e,n){n(102)("Map")},function(t,e,n){n(102)("Set")},function(t,e,n){n(102)("WeakMap")},function(t,e,n){n(102)("WeakSet")},function(t,e,n){n(103)("Map")},function(t,e,n){n(103)("Set")},function(t,e,n){n(103)("WeakMap")},function(t,e,n){n(103)("WeakSet")},function(t,e,n){var r=n(0);r(r.G,{global:n(3)})},function(t,e,n){var r=n(0);r(r.S,"System",{global:n(3)})},function(t,e,n){var r=n(0),i=n(30);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(0),i=n(196),o=n(176);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,e,n){var r=n(0);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(0);r(r.S,"Math",{scale:n(196)})},function(t,e,n){var r=n(0);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==Infinity:t>0}})},function(t,e,n){"use strict";var r=n(0),i=n(28),o=n(3),a=n(97),s=n(183);r(r.P+r.R,"Promise",{"finally":function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(0),i=n(141),o=n(182);r(r.S,"Promise",{"try":function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(45),i=n(2),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(45),i=n(2),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?undefined:o(arguments[2]),r=a(i(e),n,!1);if(r===undefined||!r["delete"](t))return!1;if(r.size)return!0;var u=s.get(e);return u["delete"](n),!!u.size||s["delete"](e)}})},function(t,e,n){var r=n(45),i=n(2),o=n(24),a=r.has,s=r.get,u=r.key,l=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?l(t,r,n):undefined};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?undefined:u(arguments[2]))}})},function(t,e,n){var r=n(186),i=n(195),o=n(45),a=n(2),s=n(24),u=o.keys,l=o.key,c=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?undefined:l(arguments[1]))}})},function(t,e,n){var r=n(45),i=n(2),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?undefined:a(arguments[2]))}})},function(t,e,n){var r=n(45),i=n(2),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?undefined:a(arguments[1]))}})},function(t,e,n){var r=n(45),i=n(2),o=n(24),a=r.has,s=r.key,u=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?undefined:s(arguments[2]))}})},function(t,e,n){var r=n(45),i=n(2),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?undefined:a(arguments[2]))}})},function(t,e,n){var r=n(45),i=n(2),o=n(14),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(r!==undefined?i:o)(n),a(r))}}})},function(t,e,n){var r=n(0),i=n(140)(),o=n(3).process,a="process"==n(30)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(0),i=n(3),o=n(28),a=n(140)(),s=n(6)("observable"),u=n(14),l=n(2),c=n(62),h=n(64),f=n(18),p=n(63),d=p.RETURN,m=function(t){return null==t?undefined:u(t)},g=function(t){var e=t._c;e&&(t._c=undefined,e())},v=function(t){return t._o===undefined},y=function(t){v(t)||(t._o=undefined,g(t))},x=function(t,e){l(t),this._c=undefined,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(i){return void t.error(i)}v(this)&&g(this)};x.prototype=h({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var r=m(n.next);if(r)return r.call(n,t)}catch(i){try{y(e)}finally{throw i}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=undefined;try{var r=m(n.error);if(!r)throw t;t=r.call(n,t)}catch(i){try{g(e)}finally{throw i}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=undefined;try{var r=m(n.complete);t=r?r.call(n,t):undefined}catch(i){try{g(e)}finally{throw i}}return g(e),t}}});var _=function(t){c(this,_,"Observable","_f")._f=u(t)};h(_.prototype,{subscribe:function(t){return new x(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n})})}}),h(_,{from:function(t){var e="function"==typeof this?this:_,n=m(l(t)[s]);if(n){var r=l(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(p(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(r){if(n)throw r;return void e.error(r)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:_)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),f(_.prototype,s,function(){return this}),r(r.G,{Observable:_}),n(61)("Observable")},function(t,e,n){var r=n(3),i=n(0),o=n(98),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(0),i=n(139);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(138),i=n(57),o=n(19),a=n(3),s=n(18),u=n(69),l=n(6),c=l("iterator"),h=l("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),m=0;m<d.length;m++){var g,v=d[m],y=p[v],x=a[v],b=x&&x.prototype;if(b&&(b[c]||s(b,c,f),b[h]||s(b,h,v),u[v]=f,y))for(g in r)b[g]||o(b,g,r[g],!0)}},function(t,e,n){(function(e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=b;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",m={},g={};g[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==r&&i.call(y,a)&&(g=y);var x=A.prototype=w.prototype=Object.create(g);E.prototype=x.constructor=A,A.constructor=E,A[u]=E.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(x),t},c.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[s]=function(){return this},c.AsyncIterator=C,c.async=function(t,e,n,r){var i=new C(b(t,e,n,r));return c.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},S(x),x[u]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=L,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),m}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function b(t,e,n,r){var i=e&&e.prototype instanceof w?e:w,o=Object.create(i.prototype),a=new T(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return I()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=D(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=_(t,e,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function _(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function w(){}function E(){}function A(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){function n(e,r,o,a){var s=_(t[e],t,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,o,a)},function(t){n("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}var r;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise(function(r,i){n(t,e,r,i)})}return r=r?r.then(i,i):i()}}function D(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=n,D(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=_(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:I}}function I(){return{value:n,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,n(48))},function(t,e,n){n(457),t.exports=n(28).RegExp.escape},function(t,e,n){var r=n(0),i=n(458)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.byteToString=e.getNetDatWithJsonp=e.SkCompass=e.Map=e.MarkerList=e.MapCapture=undefined;var r=n(460);Object.defineProperty(e,"MapCapture",{enumerable:!0,get:function(){return r.MapCapture}});var i=n(41);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})});var o=n(157);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var a=n(536);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=n(543);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var u=n(608);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})});var l=n(243);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}})});var c=n(610);Object.defineProperty(e,"MarkerList",{enumerable:!0,get:function(){return c.MarkerList}});var h=n(1);Object.defineProperty(e,"getNetDatWithJsonp",{enumerable:!0,get:function(){return h.getNetDatWithJsonp}});var f=n(111);Object.defineProperty(e,"byteToString",{enumerable:!0,get:function(){return f.byteToString}});var p=n(615);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})});var d=n(16),m=n(616);e.Map=d.Map,e.SkCompass=m.SkCompass},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapCapture=function(t){this.opts=r.extend({hasPoi:!1,rect:null,flip:!1},t),this.getCapture=function(t){if(t&&t.gl){var e={pixels:null,center:null,size:null,zoom:null},n=t._glWidth,r=t._glHeight;if(e.pixels=new Uint8Array(n*r*4),t.gl.readPixels(0,0,n,r,t.gl.RGBA,t.gl.UNSIGNED_BYTE,e.pixels),capture.opts.hasPoi)t.labelCanvas.toDataURL();return this.opts.flip&&i(e.pixels,n,r),e.pixels}}};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1));function i(t,e,n){for(var r=0;r<n/2;r++)for(var i=0;i<e;i++){var o=r*e+i,a=(n-r-1)*e+i,s=t[4*o+0],u=t[4*o+1],l=t[4*o+2],c=t[4*o+3];t[4*o+0]=t[4*a+0],t[4*o+1]=t[4*a+1],t[4*o+2]=t[4*a+2],t[4*o+3]=t[4*a+3],t[4*a+0]=s,t[4*a+1]=u,t[4*a+2]=l,t[4*a+3]=c}}},function(t,e,n){(function(r){function i(){var t;try{t=e.storage.debug}catch(n){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(462)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&"%c"===t&&(o=++i)}),t.splice(o,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}},e.load=i,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(i())}).call(e,n(46))},function(t,e,n){var r;function i(t){function n(){if(n.enabled){var t=n,i=+new Date,o=i-(r||i);t.diff=o,t.prev=r,t.curr=i,r=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var i=e.formatters[r];if("function"==typeof i){var o=a[u];n=i.call(t,o),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a),(n.log||e.log||console.log.bind(console)).apply(t,a)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),"function"==typeof e.init&&e.init(n),n}(e=t.exports=i.debug=i["default"]=i).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(t=n[i].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(463),e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,i=60*r,o=24*i,a=365.25*o;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return undefined}}(t);if("number"===u&&!1===isNaN(t))return e.long?function(t){return s(t,o,"day")||s(t,i,"hour")||s(t,r,"minute")||s(t,n,"second")||t+" ms"}(t):function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=i)return Math.round(t/i)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View2D=function(t){var e={center:new i.LngLat(116.407525,39.90403),rotation:0,zoom:15,crs:"EPSG3857"};this.opt=r.extend(r.create(e),t)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),i=n(15)},function(t,e,n){"use strict";var r=n(72),i=n(7),o=n(25),a=n(208),s=n(209),u=n(149),l=n(495),c=n(496),h=n(108),f=n(507),p=function(t,e,n){var r,a=i.getTypeOf(e),c=i.extend(n||{},s);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(t=m(t)),c.createFolders&&(r=d(t))&&g.call(this,r,!0);var p="string"===a&&!1===c.binary&&!1===c.base64;n&&"undefined"!=typeof n.binary||(c.binary=!p),(e instanceof u&&0===e.uncompressedSize||c.dir||!e||0===e.length)&&(c.base64=!1,c.binary=!0,e="",c.compression="STORE",a="string");var v=null;v=e instanceof u||e instanceof o?e:h.isNode&&h.isStream(e)?new f(t,e):i.prepareContent(t,e,c.binary,c.optimizedBinaryString,c.base64);var y=new l(t,v,c);this.files[t]=y},d=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e=void 0!==e?e:s.createFolders,t=m(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function v(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r))},filter:function(t){var e=[];return this.forEach(function(n,r){t(n,r)&&e.push(r)}),e},file:function(t,e,n){if(1===arguments.length){if(v(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}var i=this.files[this.root+t];return i&&!i.dir?i:null}return t=this.root+t,p.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(v(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=g.call(this,e),r=this.clone();return r.root=n.name,r},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=i.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var s=n.comment||this.comment||"";e=c.generateWorker(this,n,s)}catch(u){(e=new o("error")).error(u)}return new a(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=y},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=l(t),r=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,c=a>0?r-4:r,h=0;h<c;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,s[u++]=255&e);1===a&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(h(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function h(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(c(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,n){var r=function(){try{return n(106)}catch(t){}}();(e=t.exports=n(200)).Stream=r||e,e.Readable=e,e.Writable=n(145),e.Duplex=n(65),e.Transform=n(146),e.PassThrough=n(202)},function(t,e){},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(470),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(48))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){c(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(a)setTimeout(c,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{l(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(48),n(46))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(e,n(48))},function(t,e,n){var r=n(42),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return e!==undefined?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){t.exports=n(145)},function(t,e,n){t.exports=n(65)},function(t,e,n){t.exports=n(146)},function(t,e,n){t.exports=n(202)},function(t,e,n){n(478),t.exports=n(204).setImmediate},function(t,e,n){var r=n(479),i=n(487);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r=n(109),i=n(204),o=n(205),a=n(481),s=function(t,e,n){var u,l,c,h=t&s.F,f=t&s.G,p=t&s.S,d=t&s.P,m=t&s.B,g=t&s.W,v=f?i:i[e]||(i[e]={}),y=v.prototype,x=f?r:p?r[e]:(r[e]||{}).prototype;for(u in f&&(n=e),n)(l=!h&&x&&x[u]!==undefined)&&u in v||(c=l?x[u]:n[u],v[u]=f&&"function"!=typeof x[u]?n[u]:m&&l?o(c,r):g&&x[u]==c?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):d&&"function"==typeof c?o(Function.call,c):c,d&&((v.virtual||(v.virtual={}))[u]=c,t&s.R&&y&&!y[u]&&a(y,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(482),i=n(486);t.exports=n(148)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(483),i=n(484),o=n(485),a=Object.defineProperty;e.f=n(148)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(147);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(148)&&!n(206)(function(){return 7!=Object.defineProperty(n(207)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(147);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r,i,o,a=n(205),s=n(488),u=n(489),l=n(207),c=n(109),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,m=0,g={},v=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},y=function(t){v.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},p=function(t){delete g[t]},"process"==n(490)(h)?r=function(t){h.nextTick(a(v,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=y,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",y,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:f,clear:p}},function(t,e){t.exports=function(t,e,n){var r=n===undefined;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){t.exports=n(109).document&&document.documentElement},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(492);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&p(this,t)}function c(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r(function(){var r;try{r=e(n)}catch(i){return o.reject(t,i)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=d(function(){e(i,r)});"error"===a.status&&r(a.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=l,l.prototype["catch"]=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(i);this.state!==u?h(n,this.state===s?t:e,this.outcome):this.queue.push(new c(n,t,e));return n},c.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){o.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(f,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)p(t,r);else{t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},l.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(i),t)},l.reject=function(t){var e=new this(i);return o.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var a=new Array(n),s=0,u=-1,l=new this(i);for(;++u<n;)c(t[u],u);return l;function c(t,i){e.resolve(t).then(function(t){a[i]=t,++s!==n||r||(r=!0,o.resolve(l,a))},function(t){r||(r=!0,o.reject(l,t))})}},l.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var a=-1,s=new this(i);for(;++a<n;)u(t[a]);return s;function u(t){e.resolve(t).then(function(t){r||(r=!0,o.resolve(s,t))},function(t){r||(r=!0,o.reject(s,t))})}}},function(t,e,n){"use strict";(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(c),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var u=new e.MessageChannel;u.port1.onmessage=c,n=function(){u.port2.postMessage(0)}}var l=[];function c(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}t.exports=function(t){1!==l.push(t)||r||n()}}).call(e,n(48))},function(t,e,n){"use strict";var r=n(25),i=n(7);function o(t){r.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(o,r),o.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},t.exports=o},function(t,e,n){"use strict";var r=n(199).Readable;function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),n&&n(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}n(7).inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},function(t,e,n){"use strict";var r=n(208),i=n(210),o=n(72),a=n(149),s=n(25),u=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(u){(e=new s("error")).error(u)}return new r(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)u.prototype[l[h]]=c;t.exports=u},function(t,e,n){"use strict";var r=n(213),i=n(506);e.generateWorker=function(t,e,n){var o=new i(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach(function(t,n){a++;var i=function(t,e){var n=t||e,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,l=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:t,dir:u,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)}),o.entriesCount=a}catch(s){o.error(s)}return o}},function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(85),o=n(7),a=n(25),s=r?"uint8array":"array";function u(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,t.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new u("Deflate",t)},e.uncompressWorker=function(){return new u("Inflate",{})}},function(t,e,n){"use strict";var r=n(499),i=n(53),o=n(216),a=n(151),s=n(217),u=Object.prototype.toString,l=0,c=-1,h=0,f=8;function p(t){if(!(this instanceof p))return new p(t);this.options=i.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(a[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var d;if(d="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,d))!==l)throw new Error(a[n]);this._dict_set=!0}}function d(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}p.prototype.push=function(t,e){var n,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,a))&&n!==l)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==a||(this.onEnd(l),s.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=p,e.deflate=d,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)}},function(t,e,n){"use strict";var r,i=n(53),o=n(500),a=n(214),s=n(215),u=n(151),l=0,c=1,h=3,f=4,p=5,d=0,m=1,g=-2,v=-3,y=-5,x=-1,b=1,_=2,w=3,E=4,A=0,S=2,C=8,D=9,M=15,k=8,T=286,L=30,I=19,B=2*T+1,R=15,F=3,P=258,O=P+F+1,N=32,U=42,z=69,j=73,W=91,Y=103,G=113,V=666,H=1,q=2,X=3,Z=4,J=3;function K(t,e){return t.msg=u[e],e}function $(t){return(t<<1)-(t>4?9:0)}function Q(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function rt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function it(t,e,n,r){var o=t.avail_in;return o>r&&(o=r),0===o?0:(t.avail_in-=o,i.arraySet(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=a(t.adler,e,o,n):2===t.state.wrap&&(t.adler=s(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function ot(t,e){var n,r,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-O?t.strstart-(t.w_size-O):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+P,p=l[o+a-1],d=l[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+a]===d&&l[n+a-1]===p&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<f);if(r=P-(f-o),o=f-P,r>a){if(t.match_start=e,a=r,r>=s)break;p=l[o+a-1],d=l[o+a]}}}while((e=h[e&c])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function at(t){var e,n,r,o,a,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-O)){i.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=s?r-s:0}while(--n);e=n=s;do{r=t.prev[--e],t.prev[e]=r>=s?r-s:0}while(--n);o+=s}if(0===t.strm.avail_in)break;if(n=it(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=F)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+F-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<F)););}while(t.lookahead<O&&0!==t.strm.avail_in)}function st(t,e){for(var n,r;;){if(t.lookahead<O){if(at(t),t.lookahead<O&&e===l)return H;if(0===t.lookahead)break}if(n=0,t.lookahead>=F&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-O&&(t.match_length=ot(t,n)),t.match_length>=F)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-F),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=F){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(et(t,!1),0===t.strm.avail_out))return H}return t.insert=t.strstart<F-1?t.strstart:F-1,e===f?(et(t,!0),0===t.strm.avail_out?X:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?H:q}function ut(t,e){for(var n,r,i;;){if(t.lookahead<O){if(at(t),t.lookahead<O&&e===l)return H;if(0===t.lookahead)break}if(n=0,t.lookahead>=F&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=F-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-O&&(t.match_length=ot(t,n),t.match_length<=5&&(t.strategy===b||t.match_length===F&&t.strstart-t.match_start>4096)&&(t.match_length=F-1)),t.prev_length>=F&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-F,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-F),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=F-1,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return H}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return H}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<F-1?t.strstart:F-1,e===f?(et(t,!0),0===t.strm.avail_out?X:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?H:q}function lt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function ct(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=S,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?U:G,t.adler=2===e.wrap?0:1,e.last_flush=l,o._tr_init(e),d):K(t,g)}function ht(t){var e=ct(t);return e===d&&function(t){t.window_size=2*t.w_size,Q(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=F-1,t.match_available=0,t.ins_h=0}(t.state),e}function ft(t,e,n,r,o,a){if(!t)return g;var s=1;if(e===x&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>D||n!==C||r<8||r>15||e<0||e>9||a<0||a>E)return K(t,g);8===r&&(r=9);var u=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*B),this.dyn_dtree=new i.Buf16(2*(2*L+1)),this.bl_tree=new i.Buf16(2*(2*I+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(R+1),this.heap=new i.Buf16(2*T+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*T+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+F-1)/F),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=n,ht(t)}r=[new lt(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===l)return H;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,et(t,!1),0===t.strm.avail_out))return H;if(t.strstart-t.block_start>=t.w_size-O&&(et(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?X:Z):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),H)}),new lt(4,4,8,4,st),new lt(4,5,16,8,st),new lt(4,6,32,32,st),new lt(4,4,16,16,ut),new lt(8,16,32,32,ut),new lt(8,16,128,128,ut),new lt(8,32,128,256,ut),new lt(32,128,258,1024,ut),new lt(32,258,258,4096,ut)],e.deflateInit=function(t,e){return ft(t,e,C,M,k,A)},e.deflateInit2=ft,e.deflateReset=ht,e.deflateResetKeep=ct,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,d):g},e.deflate=function(t,e){var n,i,a,u;if(!t||!t.state||e>p||e<0)return t?K(t,g):g;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===V&&e!==f)return K(t,0===t.avail_out?y:g);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===U)if(2===i.wrap)t.adler=0,nt(i,31),nt(i,139),nt(i,8),i.gzhead?(nt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),nt(i,255&i.gzhead.time),nt(i,i.gzhead.time>>8&255),nt(i,i.gzhead.time>>16&255),nt(i,i.gzhead.time>>24&255),nt(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),nt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(nt(i,255&i.gzhead.extra.length),nt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=z):(nt(i,0),nt(i,0),nt(i,0),nt(i,0),nt(i,0),nt(i,9===i.level?2:i.strategy>=_||i.level<2?4:0),nt(i,J),i.status=G);else{var v=C+(i.w_bits-8<<4)<<8;v|=(i.strategy>=_||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(v|=N),v+=31-v%31,i.status=G,rt(i,v),0!==i.strstart&&(rt(i,t.adler>>>16),rt(i,65535&t.adler)),t.adler=1}if(i.status===z)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending!==i.pending_buf_size));)nt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=j)}else i.status=j;if(i.status===j)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,nt(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=W)}else i.status=W;if(i.status===W)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,nt(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=Y)}else i.status=Y;if(i.status===Y&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&tt(t),i.pending+2<=i.pending_buf_size&&(nt(i,255&t.adler),nt(i,t.adler>>8&255),t.adler=0,i.status=G)):i.status=G),0!==i.pending){if(tt(t),0===t.avail_out)return i.last_flush=-1,d}else if(0===t.avail_in&&$(e)<=$(n)&&e!==f)return K(t,y);if(i.status===V&&0!==t.avail_in)return K(t,y);if(0!==t.avail_in||0!==i.lookahead||e!==l&&i.status!==V){var x=i.strategy===_?function(t,e){for(var n;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===l)return H;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?X:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?H:q}(i,e):i.strategy===w?function(t,e){for(var n,r,i,a,s=t.window;;){if(t.lookahead<=P){if(at(t),t.lookahead<=P&&e===l)return H;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=F&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=t.strstart+P;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);t.match_length=P-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=F?(n=o._tr_tally(t,1,t.match_length-F),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return H}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?X:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?H:q}(i,e):r[i.level].func(i,e);if(x!==X&&x!==Z||(i.status=V),x===H||x===X)return 0===t.avail_out&&(i.last_flush=-1),d;if(x===q&&(e===c?o._tr_align(i):e!==p&&(o._tr_stored_block(i,0,0,!1),e===h&&(Q(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),tt(t),0===t.avail_out))return i.last_flush=-1,d}return e!==f?d:i.wrap<=0?m:(2===i.wrap?(nt(i,255&t.adler),nt(i,t.adler>>8&255),nt(i,t.adler>>16&255),nt(i,t.adler>>24&255),nt(i,255&t.total_in),nt(i,t.total_in>>8&255),nt(i,t.total_in>>16&255),nt(i,t.total_in>>24&255)):(rt(i,t.adler>>>16),rt(i,65535&t.adler)),tt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?d:m)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==U&&e!==z&&e!==j&&e!==W&&e!==Y&&e!==G&&e!==V?K(t,g):(t.state=null,e===G?K(t,v):d):g},e.deflateSetDictionary=function(t,e){var n,r,o,s,u,l,c,h,f=e.length;if(!t||!t.state)return g;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==U||n.lookahead)return g;for(1===s&&(t.adler=a(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,e,f-n.w_size,n.w_size,0),e=h,f=n.w_size),u=t.avail_in,l=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,at(n);n.lookahead>=F;){r=n.strstart,o=n.lookahead-(F-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+F-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=F-1,at(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=F-1,n.match_available=0,t.next_in=l,t.input=c,t.avail_in=u,n.wrap=s,d},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(53),i=4,o=0,a=1,s=2;function u(t){for(var e=t.length;--e>=0;)t[e]=0}var l=0,c=1,h=2,f=29,p=256,d=p+1+f,m=30,g=19,v=2*d+1,y=15,x=16,b=7,_=256,w=16,E=17,A=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(d+2));u(k);var T=new Array(2*m);u(T);var L=new Array(512);u(L);var I=new Array(256);u(I);var B=new Array(f);u(B);var R,F,P,O=new Array(m);function N(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function U(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function z(t){return t<256?L[t]:L[256+(t>>>7)]}function j(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function W(t,e,n){t.bi_valid>x-n?(t.bi_buf|=e<<t.bi_valid&65535,j(t,t.bi_buf),t.bi_buf=e>>x-t.bi_valid,t.bi_valid+=n-x):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function Y(t,e,n){W(t,n[2*e],n[2*e+1])}function G(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function V(t,e,n){var r,i,o=new Array(y+1),a=0;for(r=1;r<=y;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=G(o[s]++,s))}}function H(t){var e;for(e=0;e<d;e++)t.dyn_ltree[2*e]=0;for(e=0;e<m;e++)t.dyn_dtree[2*e]=0;for(e=0;e<g;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*_]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function q(t){t.bi_valid>8?j(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function X(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function Z(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&X(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!X(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function J(t,e,n){var r,i,o,a,s=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?Y(t,i,e):(Y(t,(o=I[i])+p+1,e),0!==(a=S[o])&&W(t,i-=B[o],a),Y(t,o=z(--r),n),0!==(a=C[o])&&W(t,r-=O[o],a))}while(s<t.last_lit);Y(t,_,e)}function K(t,e){var n,r,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=v,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)Z(t,o,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Z(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,Z(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,a,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,m=0;for(o=0;o<=y;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<v;n++)(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)>d&&(o=d,m++),u[2*r+1]=o,r>l||(t.bl_count[o]++,a=0,r>=p&&(a=f[r-p]),s=u[2*r],t.opt_len+=s*(o+a),h&&(t.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,m-=2}while(m>0);for(o=d;0!==o;o--)for(r=t.bl_count[o];0!==r;)(i=t.heap[--n])>l||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),V(o,l,t.bl_count)}function $(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=e[2*(r+1)+1],++s<u&&i===a||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*w]++):s<=10?t.bl_tree[2*E]++:t.bl_tree[2*A]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function Q(t,e,n){var r,i,o=-1,a=e[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),r=0;r<=n;r++)if(i=a,a=e[2*(r+1)+1],!(++s<u&&i===a)){if(s<l){do{Y(t,i,t.bl_tree)}while(0!=--s)}else 0!==i?(i!==o&&(Y(t,i,t.bl_tree),s--),Y(t,w,t.bl_tree),W(t,s-3,2)):s<=10?(Y(t,E,t.bl_tree),W(t,s-3,3)):(Y(t,A,t.bl_tree),W(t,s-11,7));s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4)}}u(O);var tt=!1;function et(t,e,n,i){W(t,(l<<1)+(i?1:0),3),function(t,e,n,i){q(t),i&&(j(t,n),j(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,r,i,o=new Array(y+1);for(n=0,r=0;r<f-1;r++)for(B[r]=n,t=0;t<1<<S[r];t++)I[n++]=r;for(I[n-1]=r,i=0,r=0;r<16;r++)for(O[r]=i,t=0;t<1<<C[r];t++)L[i++]=r;for(i>>=7;r<m;r++)for(O[r]=i<<7,t=0;t<1<<C[r]-7;t++)L[256+i++]=r;for(e=0;e<=y;e++)o[e]=0;for(t=0;t<=143;)k[2*t+1]=8,t++,o[8]++;for(;t<=255;)k[2*t+1]=9,t++,o[9]++;for(;t<=279;)k[2*t+1]=7,t++,o[7]++;for(;t<=287;)k[2*t+1]=8,t++,o[8]++;for(V(k,d+1,o),t=0;t<m;t++)T[2*t+1]=5,T[2*t]=G(t,5);R=new N(k,S,p+1,d,y),F=new N(T,C,0,m,y),P=new N(new Array(0),D,0,g,b)}(),tt=!0),t.l_desc=new U(t.dyn_ltree,R),t.d_desc=new U(t.dyn_dtree,F),t.bl_desc=new U(t.bl_tree,P),t.bi_buf=0,t.bi_valid=0,H(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,r){var u,l,f=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<p;e++)if(0!==t.dyn_ltree[2*e])return a;return o}(t)),K(t,t.l_desc),K(t,t.d_desc),f=function(t){var e;for($(t,t.dyn_ltree,t.l_desc.max_code),$(t,t.dyn_dtree,t.d_desc.max_code),K(t,t.bl_desc),e=g-1;e>=3&&0===t.bl_tree[2*M[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),u=t.opt_len+3+7>>>3,(l=t.static_len+3+7>>>3)<=u&&(u=l)):u=l=n+5,n+4<=u&&-1!==e?et(t,e,n,r):t.strategy===i||l===u?(W(t,(c<<1)+(r?1:0),3),J(t,k,T)):(W(t,(h<<1)+(r?1:0),3),function(t,e,n,r){var i;for(W(t,e-257,5),W(t,n-1,5),W(t,r-4,4),i=0;i<r;i++)W(t,t.bl_tree[2*M[i]+1],3);Q(t,t.dyn_ltree,e-1),Q(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),J(t,t.dyn_ltree,t.dyn_dtree)),H(t),r&&q(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(I[n]+p+1)]++,t.dyn_dtree[2*z(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){W(t,c<<1,3),Y(t,_,k),function(t){16===t.bi_valid?(j(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var r=n(502),i=n(53),o=n(216),a=n(218),s=n(151),u=n(217),l=n(505),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new l,r.inflateGetHeader(this.strm,this.header)}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,u,l,h,f,p=this.strm,d=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?p.input=o.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(d),p.next_out=0,p.avail_out=d),(n=r.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(f="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(p.output,p.next_out),l=p.next_out-u,h=o.buf2string(p.output,u),p.next_out=l,p.avail_out=d-l,l&&i.arraySet(p.output,p.output,u,l,0),this.onData(h)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,n){"use strict";var r=n(53),i=n(214),o=n(215),a=n(503),s=n(504),u=0,l=1,c=2,h=4,f=5,p=6,d=0,m=1,g=2,v=-2,y=-3,x=-4,b=-5,_=8,w=1,E=2,A=3,S=4,C=5,D=6,M=7,k=8,T=9,L=10,I=11,B=12,R=13,F=14,P=15,O=16,N=17,U=18,z=19,j=20,W=21,Y=22,G=23,V=24,H=25,q=26,X=27,Z=28,J=29,K=30,$=31,Q=32,tt=852,et=592,nt=15;function rt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function it(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=w,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(tt),e.distcode=e.distdyn=new r.Buf32(et),e.sane=1,e.back=-1,d):v}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,it(t)):v}function at(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?v:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,ot(t))):v}function st(t,e){var n,i;return t?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=i,i.window=null,(n=at(t,e))!==d&&(t.state=null),n):v}var ut,lt,ct=!0;function ht(t){if(ct){var e;for(ut=new r.Buf32(512),lt=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(l,t.lens,0,288,ut,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(c,t.lens,0,32,lt,0,t.work,{bits:5}),ct=!1}t.lencode=ut,t.lenbits=9,t.distcode=lt,t.distbits=5}function ft(t,e,n,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,e,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,e,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=ot,e.inflateReset2=at,e.inflateResetKeep=it,e.inflateInit=function(t){return st(t,nt)},e.inflateInit2=st,e.inflate=function(t,e){var n,tt,et,nt,it,ot,at,st,ut,lt,ct,pt,dt,mt,gt,vt,yt,xt,bt,_t,wt,Et,At,St,Ct=0,Dt=new r.Buf8(4),Mt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return v;(n=t.state).mode===B&&(n.mode=R),it=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,ut=n.bits,lt=ot,ct=at,Et=d;t:for(;;)switch(n.mode){case w:if(0===n.wrap){n.mode=R;break}for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(2&n.wrap&&35615===st){n.check=0,Dt[0]=255&st,Dt[1]=st>>>8&255,n.check=o(n.check,Dt,2,0),st=0,ut=0,n.mode=E;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",n.mode=K;break}if((15&st)!==_){t.msg="unknown compression method",n.mode=K;break}if(ut-=4,wt=8+(15&(st>>>=4)),0===n.wbits)n.wbits=wt;else if(wt>n.wbits){t.msg="invalid window size",n.mode=K;break}n.dmax=1<<wt,t.adler=n.check=1,n.mode=512&st?L:B,st=0,ut=0;break;case E:for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(n.flags=st,(255&n.flags)!==_){t.msg="unknown compression method",n.mode=K;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=K;break}n.head&&(n.head.text=st>>8&1),512&n.flags&&(Dt[0]=255&st,Dt[1]=st>>>8&255,n.check=o(n.check,Dt,2,0)),st=0,ut=0,n.mode=A;case A:for(;ut<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.head&&(n.head.time=st),512&n.flags&&(Dt[0]=255&st,Dt[1]=st>>>8&255,Dt[2]=st>>>16&255,Dt[3]=st>>>24&255,n.check=o(n.check,Dt,4,0)),st=0,ut=0,n.mode=S;case S:for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.head&&(n.head.xflags=255&st,n.head.os=st>>8),512&n.flags&&(Dt[0]=255&st,Dt[1]=st>>>8&255,n.check=o(n.check,Dt,2,0)),st=0,ut=0,n.mode=C;case C:if(1024&n.flags){for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.length=st,n.head&&(n.head.extra_len=st),512&n.flags&&(Dt[0]=255&st,Dt[1]=st>>>8&255,n.check=o(n.check,Dt,2,0)),st=0,ut=0}else n.head&&(n.head.extra=null);n.mode=D;case D:if(1024&n.flags&&((pt=n.length)>ot&&(pt=ot),pt&&(n.head&&(wt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,tt,nt,pt,wt)),512&n.flags&&(n.check=o(n.check,tt,pt,nt)),ot-=pt,nt+=pt,n.length-=pt),n.length))break t;n.length=0,n.mode=M;case M:if(2048&n.flags){if(0===ot)break t;pt=0;do{wt=tt[nt+pt++],n.head&&wt&&n.length<65536&&(n.head.name+=String.fromCharCode(wt))}while(wt&&pt<ot);if(512&n.flags&&(n.check=o(n.check,tt,pt,nt)),ot-=pt,nt+=pt,wt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=k;case k:if(4096&n.flags){if(0===ot)break t;pt=0;do{wt=tt[nt+pt++],n.head&&wt&&n.length<65536&&(n.head.comment+=String.fromCharCode(wt))}while(wt&&pt<ot);if(512&n.flags&&(n.check=o(n.check,tt,pt,nt)),ot-=pt,nt+=pt,wt)break t}else n.head&&(n.head.comment=null);n.mode=T;case T:if(512&n.flags){for(;ut<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(st!==(65535&n.check)){t.msg="header crc mismatch",n.mode=K;break}st=0,ut=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=B;break;case L:for(;ut<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}t.adler=n.check=rt(st),st=0,ut=0,n.mode=I;case I:if(0===n.havedict)return t.next_out=it,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ut,g;t.adler=n.check=1,n.mode=B;case B:if(e===f||e===p)break t;case R:if(n.last){st>>>=7&ut,ut-=7&ut,n.mode=X;break}for(;ut<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}switch(n.last=1&st,ut-=1,3&(st>>>=1)){case 0:n.mode=F;break;case 1:if(ht(n),n.mode=j,e===p){st>>>=2,ut-=2;break t}break;case 2:n.mode=N;break;case 3:t.msg="invalid block type",n.mode=K}st>>>=2,ut-=2;break;case F:for(st>>>=7&ut,ut-=7&ut;ut<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",n.mode=K;break}if(n.length=65535&st,st=0,ut=0,n.mode=P,e===p)break t;case P:n.mode=O;case O:if(pt=n.length){if(pt>ot&&(pt=ot),pt>at&&(pt=at),0===pt)break t;r.arraySet(et,tt,nt,pt,it),ot-=pt,nt+=pt,at-=pt,it+=pt,n.length-=pt;break}n.mode=B;break;case N:for(;ut<14;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(n.nlen=257+(31&st),st>>>=5,ut-=5,n.ndist=1+(31&st),st>>>=5,ut-=5,n.ncode=4+(15&st),st>>>=4,ut-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=K;break}n.have=0,n.mode=U;case U:for(;n.have<n.ncode;){for(;ut<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.lens[Mt[n.have++]]=7&st,st>>>=3,ut-=3}for(;n.have<19;)n.lens[Mt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,At={bits:n.lenbits},Et=s(u,n.lens,0,19,n.lencode,0,n.work,At),n.lenbits=At.bits,Et){t.msg="invalid code lengths set",n.mode=K;break}n.have=0,n.mode=z;case z:for(;n.have<n.nlen+n.ndist;){for(;vt=(Ct=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,yt=65535&Ct,!((gt=Ct>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(yt<16)st>>>=gt,ut-=gt,n.lens[n.have++]=yt;else{if(16===yt){for(St=gt+2;ut<St;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(st>>>=gt,ut-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=K;break}wt=n.lens[n.have-1],pt=3+(3&st),st>>>=2,ut-=2}else if(17===yt){for(St=gt+3;ut<St;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}ut-=gt,wt=0,pt=3+(7&(st>>>=gt)),st>>>=3,ut-=3}else{for(St=gt+7;ut<St;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}ut-=gt,wt=0,pt=11+(127&(st>>>=gt)),st>>>=7,ut-=7}if(n.have+pt>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=K;break}for(;pt--;)n.lens[n.have++]=wt}}if(n.mode===K)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=K;break}if(n.lenbits=9,At={bits:n.lenbits},Et=s(l,n.lens,0,n.nlen,n.lencode,0,n.work,At),n.lenbits=At.bits,Et){t.msg="invalid literal/lengths set",n.mode=K;break}if(n.distbits=6,n.distcode=n.distdyn,At={bits:n.distbits},Et=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,At),n.distbits=At.bits,Et){t.msg="invalid distances set",n.mode=K;break}if(n.mode=j,e===p)break t;case j:n.mode=W;case W:if(ot>=6&&at>=258){t.next_out=it,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ut,a(t,ct),it=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,ut=n.bits,n.mode===B&&(n.back=-1);break}for(n.back=0;vt=(Ct=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,yt=65535&Ct,!((gt=Ct>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(vt&&0==(240&vt)){for(xt=gt,bt=vt,_t=yt;vt=(Ct=n.lencode[_t+((st&(1<<xt+bt)-1)>>xt)])>>>16&255,yt=65535&Ct,!(xt+(gt=Ct>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}st>>>=xt,ut-=xt,n.back+=xt}if(st>>>=gt,ut-=gt,n.back+=gt,n.length=yt,0===vt){n.mode=q;break}if(32&vt){n.back=-1,n.mode=B;break}if(64&vt){t.msg="invalid literal/length code",n.mode=K;break}n.extra=15&vt,n.mode=Y;case Y:if(n.extra){for(St=n.extra;ut<St;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.length+=st&(1<<n.extra)-1,st>>>=n.extra,ut-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=G;case G:for(;vt=(Ct=n.distcode[st&(1<<n.distbits)-1])>>>16&255,yt=65535&Ct,!((gt=Ct>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(0==(240&vt)){for(xt=gt,bt=vt,_t=yt;vt=(Ct=n.distcode[_t+((st&(1<<xt+bt)-1)>>xt)])>>>16&255,yt=65535&Ct,!(xt+(gt=Ct>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}st>>>=xt,ut-=xt,n.back+=xt}if(st>>>=gt,ut-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=K;break}n.offset=yt,n.extra=15&vt,n.mode=V;case V:if(n.extra){for(St=n.extra;ut<St;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}n.offset+=st&(1<<n.extra)-1,st>>>=n.extra,ut-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=K;break}n.mode=H;case H:if(0===at)break t;if(pt=ct-at,n.offset>pt){if((pt=n.offset-pt)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=K;break}pt>n.wnext?(pt-=n.wnext,dt=n.wsize-pt):dt=n.wnext-pt,pt>n.length&&(pt=n.length),mt=n.window}else mt=et,dt=it-n.offset,pt=n.length;pt>at&&(pt=at),at-=pt,n.length-=pt;do{et[it++]=mt[dt++]}while(--pt);0===n.length&&(n.mode=W);break;case q:if(0===at)break t;et[it++]=n.length,at--,n.mode=W;break;case X:if(n.wrap){for(;ut<32;){if(0===ot)break t;ot--,st|=tt[nt++]<<ut,ut+=8}if(ct-=at,t.total_out+=ct,n.total+=ct,ct&&(t.adler=n.check=n.flags?o(n.check,et,ct,it-ct):i(n.check,et,ct,it-ct)),ct=at,(n.flags?st:rt(st))!==n.check){t.msg="incorrect data check",n.mode=K;break}st=0,ut=0}n.mode=Z;case Z:if(n.wrap&&n.flags){for(;ut<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<ut,ut+=8}if(st!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=K;break}st=0,ut=0}n.mode=J;case J:Et=m;break t;case K:Et=y;break t;case $:return x;case Q:default:return v}return t.next_out=it,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=ut,(n.wsize||ct!==t.avail_out&&n.mode<K&&(n.mode<X||e!==h))&&ft(t,t.output,t.next_out,ct-t.avail_out)?(n.mode=$,x):(lt-=t.avail_in,ct-=t.avail_out,t.total_in+=lt,t.total_out+=ct,n.total+=ct,n.wrap&&ct&&(t.adler=n.check=n.flags?o(n.check,et,ct,t.next_out-ct):i(n.check,et,ct,t.next_out-ct)),t.data_type=n.bits+(n.last?64:0)+(n.mode===B?128:0)+(n.mode===j||n.mode===P?256:0),(0===lt&&0===ct||e===h)&&Et===d&&(Et=b),Et)},e.inflateEnd=function(t){if(!t||!t.state)return v;var e=t.state;return e.window&&(e.window=null),t.state=null,d},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?v:(n.head=e,e.done=!1,d):v},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==I?v:n.mode===I&&i(1,e,r,0)!==n.check?y:ft(t,e,r,r)?(n.mode=$,x):(n.havedict=1,d):v},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,o,a,s,u,l,c,h,f,p,d,m,g,v,y,x,b,_,w,E,A,S,C;n=t.state,r=t.next_in,S=t.input,i=r+(t.avail_in-5),o=t.next_out,C=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,f=n.window,p=n.hold,d=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{d<15&&(p+=S[r++]<<d,d+=8,p+=S[r++]<<d,d+=8),x=m[p&v];e:for(;;){if(p>>>=b=x>>>24,d-=b,0===(b=x>>>16&255))C[o++]=65535&x;else{if(!(16&b)){if(0==(64&b)){x=m[(65535&x)+(p&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}_=65535&x,(b&=15)&&(d<b&&(p+=S[r++]<<d,d+=8),_+=p&(1<<b)-1,p>>>=b,d-=b),d<15&&(p+=S[r++]<<d,d+=8,p+=S[r++]<<d,d+=8),x=g[p&y];n:for(;;){if(p>>>=b=x>>>24,d-=b,!(16&(b=x>>>16&255))){if(0==(64&b)){x=g[(65535&x)+(p&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&x,d<(b&=15)&&(p+=S[r++]<<d,(d+=8)<b&&(p+=S[r++]<<d,d+=8)),(w+=p&(1<<b)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=b,d-=b,w>(b=o-a)){if((b=w-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,A=f,0===h){if(E+=l-b,b<_){_-=b;do{C[o++]=f[E++]}while(--b);E=o-w,A=C}}else if(h<b){if(E+=l+h-b,(b-=h)<_){_-=b;do{C[o++]=f[E++]}while(--b);if(E=0,h<_){_-=b=h;do{C[o++]=f[E++]}while(--b);E=o-w,A=C}}}else if(E+=h-b,b<_){_-=b;do{C[o++]=f[E++]}while(--b);E=o-w,A=C}for(;_>2;)C[o++]=A[E++],C[o++]=A[E++],C[o++]=A[E++],_-=3;_&&(C[o++]=A[E++],_>1&&(C[o++]=A[E++]))}else{E=o-w;do{C[o++]=C[E++],C[o++]=C[E++],C[o++]=C[E++],_-=3}while(_>2);_&&(C[o++]=C[E++],_>1&&(C[o++]=C[E++]))}break}}break}}while(r<i&&o<s);r-=_=d>>3,p&=(1<<(d-=_<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=d}},function(t,e,n){"use strict";var r=n(53),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,l,c,h,f){var p,d,m,g,v,y,x,b,_,w=f.bits,E=0,A=0,S=0,C=0,D=0,M=0,k=0,T=0,L=0,I=0,B=null,R=0,F=new r.Buf16(16),P=new r.Buf16(16),O=null,N=0;for(E=0;E<=15;E++)F[E]=0;for(A=0;A<u;A++)F[e[n+A]]++;for(D=w,C=15;C>=1&&0===F[C];C--);if(D>C&&(D=C),0===C)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(S=1;S<C&&0===F[S];S++);for(D<S&&(D=S),T=1,E=1;E<=15;E++)if(T<<=1,(T-=F[E])<0)return-1;if(T>0&&(0===t||1!==C))return-1;for(P[1]=0,E=1;E<15;E++)P[E+1]=P[E]+F[E];for(A=0;A<u;A++)0!==e[n+A]&&(h[P[e[n+A]]++]=A);if(0===t?(B=O=h,y=19):1===t?(B=i,R-=257,O=o,N-=257,y=256):(B=a,O=s,y=-1),I=0,A=0,E=S,v=c,M=D,k=0,m=-1,g=(L=1<<D)-1,1===t&&L>852||2===t&&L>592)return 1;for(;;){x=E-k,h[A]<y?(b=0,_=h[A]):h[A]>y?(b=O[N+h[A]],_=B[R+h[A]]):(b=96,_=0),p=1<<E-k,S=d=1<<M;do{l[v+(I>>k)+(d-=p)]=x<<24|b<<16|_|0}while(0!==d);for(p=1<<E-1;I&p;)p>>=1;if(0!==p?(I&=p-1,I+=p):I=0,A++,0==--F[E]){if(E===C)break;E=e[n+h[A]]}if(E>D&&(I&g)!==m){for(0===k&&(k=D),v+=S,T=1<<(M=E-k);M+k<C&&!((T-=F[M+k])<=0);)M++,T<<=1;if(L+=1<<M,1===t&&L>852||2===t&&L>592)return 1;l[m=I&g]=D<<24|M<<16|v-c|0}}return 0!==I&&(l[v+I]=E-k<<24|64<<16|0),f.bits=D,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";var r=n(7),i=n(25),o=n(72),a=n(150),s=n(219),u=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},l=function(t,e,n,i,l,c){var h,f,p=t.file,d=t.compression,m=c!==o.utf8encode,g=r.transformTo("string",c(p.name)),v=r.transformTo("string",o.utf8encode(p.name)),y=p.comment,x=r.transformTo("string",c(y)),b=r.transformTo("string",o.utf8encode(y)),_=v.length!==p.name.length,w=b.length!==y.length,E="",A="",S="",C=p.dir,D=p.date,M={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(M.crc32=t.crc32,M.compressedSize=t.compressedSize,M.uncompressedSize=t.uncompressedSize);var k=0;e&&(k|=8),m||!_&&!w||(k|=2048);var T=0,L=0;C&&(T|=16),"UNIX"===l?(L=798,T|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(p.unixPermissions,C)):(L=20,T|=function(t,e){return 63&(t||0)}(p.dosPermissions)),h=D.getUTCHours(),h<<=6,h|=D.getUTCMinutes(),h<<=5,h|=D.getUTCSeconds()/2,f=D.getUTCFullYear()-1980,f<<=4,f|=D.getUTCMonth()+1,f<<=5,f|=D.getUTCDate(),_&&(A=u(1,1)+u(a(g),4)+v,E+="up"+u(A.length,2)+A),w&&(S=u(1,1)+u(a(x),4)+b,E+="uc"+u(S.length,2)+S);var I="";return I+="\n\0",I+=u(k,2),I+=d.magic,I+=u(h,2),I+=u(f,2),I+=u(M.crc32,4),I+=u(M.compressedSize,4),I+=u(M.uncompressedSize,4),I+=u(g.length,2),I+=u(E.length,2),{fileRecord:s.LOCAL_FILE_HEADER+I+g+E,dirRecord:s.CENTRAL_FILE_HEADER+u(L,2)+I+u(x.length,2)+"\0\0\0\0"+u(T,4)+u(i,4)+g+E+x}};function c(t,e,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(c,i),c.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,i.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=l(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=l(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return s.DATA_DESCRIPTOR+u(t.crc32,4)+u(t.compressedSize,4)+u(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,o){var a=r.transformTo("string",o(i));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(t,2)+u(t,2)+u(e,4)+u(n,4)+u(a.length,2)+a}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},c.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(t){var e=this._sources;if(!i.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},c.prototype.lock=function(){i.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=c},function(t,e,n){"use strict";var r=n(7),i=n(25);function o(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}r.inherits(o,i),o.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},function(t,e,n){"use strict";var r=n(7),i=n(84),o=n(72),a=(r=n(7),n(509)),s=n(212),u=n(108);function l(t){return new i.Promise(function(e,n){var r=t.decompressed.getContentWorker().pipe(new s);r.on("error",function(t){n(t)}).on("end",function(){r.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}t.exports=function(t,e){var n=this;return e=r.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var n=new a(e);return n.load(t),n}).then(function(t){var n=[i.Promise.resolve(t)],r=t.files;if(e.checkCRC32)for(var o=0;o<r.length;o++)n.push(l(r[o]));return i.Promise.all(n)}).then(function(t){for(var r=t.shift(),i=r.files,o=0;o<i.length;o++){var a=i[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n})}},function(t,e,n){"use strict";var r=n(220),i=n(7),o=n(219),a=n(512),s=(n(72),n(52));function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(r>0)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},function(t,e,n){"use strict";var r=n(222);function i(t){r.call(this,t)}n(7).inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";var r=n(223);function i(t){r.call(this,t)}n(7).inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,n){"use strict";var r=n(220),i=n(7),o=n(149),a=n(150),s=n(72),u=n(213),l=n(52);function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},t.exports=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.clone=function(t){let e=new r.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},e.fromValues=function(t,e,n,i){let o=new r.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o},e.set=function(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t},e.transpose=function(t,e){if(t===e){let n=e[1];t[1]=e[2],t[2]=n}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n*o-i*r;if(!a)return null;return a=1/a,t[0]=o*a,t[1]=-r*a,t[2]=-i*a,t[3]=n*a,t},e.adjoint=function(t,e){let n=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=n,t},e.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},e.multiply=i,e.rotate=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*s,t[1]=i*u+a*s,t[2]=r*-s+o*u,t[3]=i*-s+a*u,t},e.scale=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1];return t[0]=r*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},e.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},e.LDU=function(t,e,n,r){return t[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-t[2]*n[1],[t,e,n]},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},e.subtract=o,e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},e.equals=function(t,e){let n=t[0],i=t[1],o=t[2],a=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(n-s)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-l)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))},e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t};var r=n(43);function i(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*s+o*u,t[1]=i*s+a*u,t[2]=r*l+o*c,t[3]=i*l+a*c,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}const a=i;e.mul=a;const s=o;e.sub=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.clone=function(t){let e=new r.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},e.fromValues=function(t,e,n,i,o,a){let s=new r.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=n,s[3]=i,s[4]=o,s[5]=a,s},e.set=function(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t},e.invert=function(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;if(!u)return null;return u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t},e.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},e.multiply=i,e.rotate=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t},e.scale=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t},e.translate=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*l+o*c+s,t[5]=i*l+a*c+u,t},e.fromRotation=function(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},e.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t},e.subtract=o,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},e.equals=function(t,e){let n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=e[0],c=e[1],h=e[2],f=e[3],p=e[4],d=e[5];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-c)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-h)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(a-f)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(s-p)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-d)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))};var r=n(43);function i(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],f=n[3],p=n[4],d=n[5];return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*h+o*f,t[3]=i*h+a*f,t[4]=r*p+o*d+s,t[5]=i*p+a*d+u,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}const a=i;e.mul=a;const s=o;e.sub=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){let t=new r.ARRAY_TYPE(8);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.clone=function(t){let e=new r.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e},e.fromValues=function(t,e,n,i,o,a,s,u){let l=new r.ARRAY_TYPE(8);return l[0]=t,l[1]=e,l[2]=n,l[3]=i,l[4]=o,l[5]=a,l[6]=s,l[7]=u,l},e.fromRotationTranslationValues=function(t,e,n,i,o,a,s){let u=new r.ARRAY_TYPE(8);u[0]=t,u[1]=e,u[2]=n,u[3]=i;let l=.5*o,c=.5*a,h=.5*s;return u[4]=l*i+c*n-h*e,u[5]=c*i+h*t-l*n,u[6]=h*i+l*e-c*t,u[7]=-l*t-c*e-h*n,u},e.fromRotationTranslation=a,e.fromTranslation=function(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t},e.fromRotation=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.fromMat4=function(t,e){let n=i.create();o.getRotation(n,e);let s=new r.ARRAY_TYPE(3);return o.getTranslation(s,e),a(t,n,s),t},e.copy=s,e.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},e.set=function(t,e,n,r,i,o,a,s,u){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t},e.getDual=function(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t},e.setDual=function(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t},e.getTranslation=function(t,e){let n=e[4],r=e[5],i=e[6],o=e[7],a=-e[0],s=-e[1],u=-e[2],l=e[3];return t[0]=2*(n*l+o*a+r*u-i*s),t[1]=2*(r*l+o*s+i*a-n*u),t[2]=2*(i*l+o*u+n*s-r*a),t},e.translate=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=.5*n[0],u=.5*n[1],l=.5*n[2],c=e[4],h=e[5],f=e[6],p=e[7];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=a*s+i*l-o*u+c,t[5]=a*u+o*s-r*l+h,t[6]=a*l+r*u-i*s+f,t[7]=-r*s-i*u-o*l+p,t},e.rotateX=function(t,e,n){let r=-e[0],o=-e[1],a=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],h=e[7],f=u*s+h*r+l*a-c*o,p=l*s+h*o+c*r-u*a,d=c*s+h*a+u*o-l*r,m=h*s-u*r-l*o-c*a;return i.rotateX(t,e,n),r=t[0],o=t[1],a=t[2],s=t[3],t[4]=f*s+m*r+p*a-d*o,t[5]=p*s+m*o+d*r-f*a,t[6]=d*s+m*a+f*o-p*r,t[7]=m*s-f*r-p*o-d*a,t},e.rotateY=function(t,e,n){let r=-e[0],o=-e[1],a=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],h=e[7],f=u*s+h*r+l*a-c*o,p=l*s+h*o+c*r-u*a,d=c*s+h*a+u*o-l*r,m=h*s-u*r-l*o-c*a;return i.rotateY(t,e,n),r=t[0],o=t[1],a=t[2],s=t[3],t[4]=f*s+m*r+p*a-d*o,t[5]=p*s+m*o+d*r-f*a,t[6]=d*s+m*a+f*o-p*r,t[7]=m*s-f*r-p*o-d*a,t},e.rotateZ=function(t,e,n){let r=-e[0],o=-e[1],a=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],h=e[7],f=u*s+h*r+l*a-c*o,p=l*s+h*o+c*r-u*a,d=c*s+h*a+u*o-l*r,m=h*s-u*r-l*o-c*a;return i.rotateZ(t,e,n),r=t[0],o=t[1],a=t[2],s=t[3],t[4]=f*s+m*r+p*a-d*o,t[5]=p*s+m*o+d*r-f*a,t[6]=d*s+m*a+f*o-p*r,t[7]=m*s-f*r-p*o-d*a,t},e.rotateByQuatAppend=function(t,e,n){let r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=e[3];return t[0]=s*a+c*r+u*o-l*i,t[1]=u*a+c*i+l*r-s*o,t[2]=l*a+c*o+s*i-u*r,t[3]=c*a-s*r-u*i-l*o,s=e[4],u=e[5],l=e[6],c=e[7],t[4]=s*a+c*r+u*o-l*i,t[5]=u*a+c*i+l*r-s*o,t[6]=l*a+c*o+s*i-u*r,t[7]=c*a-s*r-u*i-l*o,t},e.rotateByQuatPrepend=function(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],u=n[1],l=n[2],c=n[3];return t[0]=r*c+a*s+i*l-o*u,t[1]=i*c+a*u+o*s-r*l,t[2]=o*c+a*l+r*u-i*s,t[3]=a*c-r*s-i*u-o*l,s=n[4],u=n[5],l=n[6],c=n[7],t[4]=r*c+a*s+i*l-o*u,t[5]=i*c+a*u+o*s-r*l,t[6]=o*c+a*l+r*u-i*s,t[7]=a*c-r*s-i*u-o*l,t},e.rotateAroundAxis=function(t,e,n,i){if(Math.abs(i)<r.EPSILON)return s(t,e);let o=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);i*=.5;let a=Math.sin(i),u=a*n[0]/o,l=a*n[1]/o,c=a*n[2]/o,h=Math.cos(i),f=e[0],p=e[1],d=e[2],m=e[3];t[0]=f*h+m*u+p*c-d*l,t[1]=p*h+m*l+d*u-f*c,t[2]=d*h+m*c+f*l-p*u,t[3]=m*h-f*u-p*l-d*c;let g=e[4],v=e[5],y=e[6],x=e[7];return t[4]=g*h+x*u+v*c-y*l,t[5]=v*h+x*l+y*u-g*c,t[6]=y*h+x*c+g*l-v*u,t[7]=x*h-g*u-v*l-y*c,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t},e.multiply=c,e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t},e.lerp=function(t,e,n,r){let i=1-r;f(e,n)<0&&(r=-r);return t[0]=e[0]*i+n[0]*r,t[1]=e[1]*i+n[1]*r,t[2]=e[2]*i+n[2]*r,t[3]=e[3]*i+n[3]*r,t[4]=e[4]*i+n[4]*r,t[5]=e[5]*i+n[5]*r,t[6]=e[6]*i+n[6]*r,t[7]=e[7]*i+n[7]*r,t},e.invert=function(t,e){let n=m(e);return t[0]=-e[0]/n,t[1]=-e[1]/n,t[2]=-e[2]/n,t[3]=e[3]/n,t[4]=-e[4]/n,t[5]=-e[5]/n,t[6]=-e[6]/n,t[7]=e[7]/n,t},e.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t},e.normalize=function(t,e){let n=m(e);n>0&&(n=Math.sqrt(n),t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n,t[3]=e[3]/n,t[4]=e[4]/n,t[5]=e[5]/n,t[6]=e[6]/n,t[7]=e[7]/n);return t},e.str=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]},e.equals=function(t,e){let n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=e[0],f=e[1],p=e[2],d=e[3],m=e[4],g=e[5],v=e[6],y=e[7];return Math.abs(n-h)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-f)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-d)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-g)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-v)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))};var r=n(43),i=n(227),o=n(226);function a(t,e,n){let r=.5*n[0],i=.5*n[1],o=.5*n[2],a=e[0],s=e[1],u=e[2],l=e[3];return t[0]=a,t[1]=s,t[2]=u,t[3]=l,t[4]=r*l+i*u-o*s,t[5]=i*l+o*a-r*u,t[6]=o*l+r*s-i*a,t[7]=-r*a-i*s-o*u,t}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}const u=i.copy;e.getReal=u;const l=i.copy;function c(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=n[4],u=n[5],l=n[6],c=n[7],h=e[4],f=e[5],p=e[6],d=e[7],m=n[0],g=n[1],v=n[2],y=n[3];return t[0]=r*y+a*m+i*v-o*g,t[1]=i*y+a*g+o*m-r*v,t[2]=o*y+a*v+r*g-i*m,t[3]=a*y-r*m-i*g-o*v,t[4]=r*c+a*s+i*l-o*u+h*y+d*m+f*v-p*g,t[5]=i*c+a*u+o*s-r*l+f*y+d*g+p*m-h*v,t[6]=o*c+a*l+r*u-i*s+p*y+d*v+h*g-f*m,t[7]=a*c-r*s-i*u-o*l+d*y-h*m-f*g-p*v,t}e.setReal=l;const h=c;e.mul=h;const f=i.dot;e.dot=f;const p=i.length;e.length=p;const d=p;e.len=d;const m=i.squaredLength;e.squaredLength=m;const g=m;e.sqrLen=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=i,e.clone=function(t){let e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){let n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=o,e.multiply=a,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=u,e.squaredDistance=l,e.length=c,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){let r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){let i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t},e.angle=function(t,e){let n=t[0],r=t[1],i=e[0],o=e[1],a=n*n+r*r;a>0&&(a=1/Math.sqrt(a));let s=i*i+o*o;s>0&&(s=1/Math.sqrt(s));let u=(n*i+r*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){let n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))};var r=n(43);function i(){let t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function o(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function a(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function c(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function h(t){var e=t[0],n=t[1];return e*e+n*n}const f=c;e.len=f;const p=o;e.sub=p;const d=a;e.mul=d;const m=s;e.div=m;const g=u;e.dist=g;const v=l;e.sqrDist=v;const y=h;e.sqrLen=y;const x=function(){let t=i();return function(e,n,r,i,o,a){let s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();e.forEach=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wgs84togcj02=function(t,e){if(u(t,e))return[t,e];var n=a(t-105,e-35),l=s(t-105,e-35),c=e/180*r,h=Math.sin(c);h=1-o*h*h;var f=Math.sqrt(h);n=180*n/(i*(1-o)/(h*f)*r),l=180*l/(i/f*Math.cos(c)*r);var p=e+n,d=t+l;return[d,p]},e.gcj02towgs84=function(t,e){if(u(t,e))return[t,e];var n=a(t-105,e-35),l=s(t-105,e-35),c=e/180*r,h=Math.sin(c);h=1-o*h*h;var f=Math.sqrt(h);n=180*n/(i*(1-o)/(h*f)*r),l=180*l/(i/f*Math.cos(c)*r);var p=e+n,d=t+l;return[2*t-d,2*e-p]};var r=3.141592653589793,i=6378245,o=.006693421622965943;function a(t,e){var n=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*r)+20*Math.sin(2*t*r))/3,n+=2*(20*Math.sin(e*r)+40*Math.sin(e/3*r))/3,n+=2*(160*Math.sin(e/12*r)+320*Math.sin(e*r/30))/3}function s(t,e){var n=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*r)+20*Math.sin(2*t*r))/3,n+=2*(20*Math.sin(t*r)+40*Math.sin(t/3*r))/3,n+=2*(150*Math.sin(t/12*r)+300*Math.sin(t/30*r))/3}function u(t,e){return t<72.004||t>137.8347||e<.8293||e>55.8271||!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=new Uint8Array([0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,239,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,224,239,254,255,239,239,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,0,0,0,0,255,0,0,255,255,255,255,255,255,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,239,255,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,224,239,254,255,239,239,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,239,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,45,233,234,45,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,125,255,255,127,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,45,233,234,45,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0]);e.linemask=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.road1_dat=new Uint8Array([0]),e.road2_dat=new Uint8Array([0,0,0,0]),e.road4_dat=new Uint8Array([0,0,0,0,0,213,213,0,0,213,213,0,0,0,0,0]),e.road8_dat=new Uint8Array([0,0,0,0,0,0,0,0,0,9,158,247,247,159,9,0,0,158,255,255,255,255,159,0,0,247,255,255,255,255,247,0,0,247,255,255,255,255,247,0,0,158,255,255,255,255,159,0,0,9,158,247,247,159,9,0,0,0,0,0,0,0,0,0]),e.road16_dat=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,144,220,254,254,220,147,33,0,0,0,0,0,0,0,103,247,255,255,255,255,255,255,247,104,0,0,0,0,0,103,255,255,255,255,255,255,255,255,255,255,104,0,0,0,33,247,255,255,255,255,255,255,255,255,255,255,247,33,0,0,144,255,255,255,255,255,255,255,255,255,255,255,255,148,0,0,220,255,255,255,255,255,255,255,255,255,255,255,255,221,0,0,254,255,255,255,255,255,255,255,255,255,255,255,255,254,0,0,254,255,255,255,255,255,255,255,255,255,255,255,255,254,0,0,220,255,255,255,255,255,255,255,255,255,255,255,255,221,0,0,144,255,255,255,255,255,255,255,255,255,255,255,255,148,0,0,33,247,255,255,255,255,255,255,255,255,255,255,247,33,0,0,0,103,255,255,255,255,255,255,255,255,255,255,104,0,0,0,0,0,103,247,255,255,255,255,255,255,247,104,0,0,0,0,0,0,0,33,144,220,254,254,221,148,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.road32_dat=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,87,158,209,244,255,255,245,209,158,88,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22,142,242,255,255,255,255,255,255,255,255,255,255,242,142,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,100,241,255,255,255,255,255,255,255,255,255,255,255,255,255,255,241,100,0,0,0,0,0,0,0,0,0,0,0,0,6,165,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,167,6,0,0,0,0,0,0,0,0,0,6,189,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,189,7,0,0,0,0,0,0,0,0,165,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,166,0,0,0,0,0,0,0,100,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,104,0,0,0,0,0,22,241,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,241,22,0,0,0,0,142,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,143,0,0,0,11,242,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,242,11,0,0,87,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,89,0,0,158,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,159,0,0,209,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,209,0,0,244,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,245,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,244,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,245,0,0,209,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,209,0,0,158,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,159,0,0,87,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,89,0,0,11,242,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,242,11,0,0,0,142,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,143,0,0,0,0,22,241,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,241,23,0,0,0,0,0,100,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,104,0,0,0,0,0,0,0,165,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,167,0,0,0,0,0,0,0,0,6,189,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,189,7,0,0,0,0,0,0,0,0,0,6,165,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,167,7,0,0,0,0,0,0,0,0,0,0,0,0,100,241,255,255,255,255,255,255,255,255,255,255,255,255,255,255,241,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22,142,242,255,255,255,255,255,255,255,255,255,255,242,143,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,87,158,209,244,255,255,245,209,159,89,11,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.road64_dat=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,88,138,178,213,235,254,255,255,254,236,214,178,138,89,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,53,140,216,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,216,140,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,105,213,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,213,105,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,113,234,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,235,113,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,220,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,221,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13,162,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,162,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,47,220,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,220,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,244,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,245,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,47,244,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,245,47,0,0,0,0,0,0,0,0,0,0,0,0,0,13,220,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,222,14,0,0,0,0,0,0,0,0,0,0,0,0,162,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,163,0,0,0,0,0,0,0,0,0,0,0,73,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,74,0,0,0,0,0,0,0,0,0,6,220,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,221,6,0,0,0,0,0,0,0,0,113,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,115,0,0,0,0,0,0,0,8,234,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,235,9,0,0,0,0,0,0,105,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,106,0,0,0,0,0,0,213,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,213,0,0,0,0,0,53,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,55,0,0,0,0,140,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,140,0,0,0,0,216,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,219,0,0,0,29,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,31,0,0,88,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,89,0,0,138,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,140,0,0,178,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,179,0,0,213,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,215,0,0,235,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,236,0,0,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,236,0,0,213,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,215,0,0,178,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,179,0,0,138,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,140,0,0,88,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,89,0,0,29,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,31,0,0,0,216,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,219,0,0,0,0,140,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,140,0,0,0,0,53,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,55,0,0,0,0,0,213,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,213,0,0,0,0,0,0,105,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,106,0,0,0,0,0,0,8,234,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,235,9,0,0,0,0,0,0,0,113,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,115,0,0,0,0,0,0,0,0,6,220,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,222,7,0,0,0,0,0,0,0,0,0,73,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,76,0,0,0,0,0,0,0,0,0,0,0,162,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,163,0,0,0,0,0,0,0,0,0,0,0,0,13,220,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,222,14,0,0,0,0,0,0,0,0,0,0,0,0,0,47,244,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,245,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,252,101,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,244,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,245,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,47,220,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,222,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,13,162,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,163,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,73,220,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,222,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,113,234,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,235,115,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,105,213,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,213,106,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,53,140,216,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,219,140,55,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,88,138,178,213,235,254,255,255,255,236,215,179,140,89,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Logo=undefined;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(11));e.Logo=function(){var t=r.create("a","cmmap-logo");return r.create("img","",t).setAttribute("src","http://61.189.20.113:8000/images/logo.png"),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Copyright=undefined;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(11)),i=n(35);e.Copyright=function(){var t=r.create("div","cmmap-copyright");return t.innerHTML="京ICP备05002571号",r.create("span","amap-mcode",t).innerHTML="- 5 审图号:"+i.UrlConf.info.copyright,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addDoubleTapListener=function(t,e,n){var u,l,c=!1,h=250;function f(t){var e;if(r.pointer){if(!r.edge||"mouse"===t.pointerType)return;e=i._pointersCount}else e=t.touches.length;if(!(e>1)){var n=Date.now(),o=n-(u||n);l=t.touches?t.touches[0]:t,c=o>0&&o<=h,u=n}}function p(t){if(c&&!l.cancelBubble){if(r.pointer){if(!r.edge||"mouse"===t.pointerType)return;var n,i,o={};for(i in l)n=l[i],o[i]=n&&n.bind?n.bind(l):n;l=o}l.type="dblclick",e(l),u=null}}return t[s+o+n]=f,t[s+a+n]=p,t[s+"dblclick"+n]=e,t.addEventListener(o,f,!1),t.addEventListener(a,p,!1),t.addEventListener("dblclick",e,!1),this},e.removeDoubleTapListener=function(t,e){var n=t[s+o+e],i=t[s+a+e],u=t[s+"dblclick"+e];t.removeEventListener(o,n,!1),t.removeEventListener(a,i,!1),r.edge||t.removeEventListener("dblclick",u,!1);return this};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(26)),i=n(230);var o=r.msPointer?"MSPointerDown":r.pointer?"pointerdown":"touchstart",a=r.msPointer?"MSPointerUp":r.pointer?"pointerup":"touchend",s="_leaflet_"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkRoadLabel=undefined,e.SkRoadLabelIconPathHigh=f,e.SkRoadLabelGetNameType=p;var r=n(33),i=14*(0,n(26).getPixelRatio)(),o=0,a=1,s=2,u=3,l=4,c=5,h=e.SkRoadLabel=function(t,e,n,r){if(this.name=t,this.iPointCnt=e,this.pPoints=n,this.properties={kind:r},this.m_iNameType=p(t),o==this.m_iNameType){this.rectArray=[];for(var i=0;i<this.name.length;i++)this.rectArray.push({x:0,y:0,w:0,h:0})}else this.rect={x:0,y:0,w:0,h:0};this.lastPosIndex=-1};function f(t,e,n,r,i,o,a,s){t.fillStyle=a,t.beginPath(),t.moveTo(e,n+o),t.arc(e+o,n+o,o,2*Math.PI/2,3*Math.PI/2,!1),t.lineTo(e+r-o,n),t.arc(e+r-o,n+o,o,3*Math.PI/2,2*Math.PI,!1),t.closePath(),t.fill(),t.fillStyle=s,t.beginPath(),t.moveTo(e,n+o),t.lineTo(e+r,n+o),t.lineTo(e+r,n+i-o),t.arc(e+r-o,n+i-o,o,0,Math.PI/2,!1),t.lineTo(e+o,n+i),t.arc(e+o,n+i-o,o,Math.PI/2,Math.PI,!1),t.closePath(),t.fill()}function p(t){if(0==t.length)return o;var e=0,n=o;if(65319==(e=t.charCodeAt(0))||71==e||103==e?n=4==t.length?u:a:65331==e||83==e||115==e?n=t.length>=4?l:s:65336!=e&&88!=e&&120!=e||(n=c),o!=n)for(var r=1;r<t.length;r++)if(!((e=t.charCodeAt(r))>=65296&&e<=65305||e>=48&&e<=57)){if(40==e||65288==e)break;return o}return n}h.prototype.setTheme=function(t,e){this.theme=t,this.theme&&(o==this.m_iNameType?(e.font=this.theme.font,this.textWidth=e.measureText(this.name).width):(l==this.m_iNameType?this.m_iTFontSize=parseInt(i/2):c==this.m_iNameType?this.m_iTFontSize=parseInt(7*i/16):this.m_iTFontSize=parseInt(2*i/3),this.font=this.m_iTFontSize+"px sans-serif",e.font=this.font,this.textWidth=e.measureText(this.name).width,c==this.m_iNameType||6==this.m_iNameType||l==this.m_iNameType?(this.fillStyle="rgba(0,0,0,255)",this.strokeStyle="rgba(0,0,0,64)"):(this.fillStyle="rgba(255,255,255,255)",this.strokeStyle="rgba(255,255,255,64)")))},h.prototype.tryPos=function(t,e,n,i){if(this.textWidth<=0)return!1;var a=this.pPoints[4*n+0],s=this.pPoints[4*n+1],u=this.pPoints[4*n+2],l=this.pPoints[4*n+3];if(o==this.m_iNameType){if(i&&(!(0,r.MapQueryObjIncPoint)(t.queryObj,a,s)||!(0,r.MapQueryObjIncPoint)(t.queryObj,u,l)))return!1;var c=t.mapController.getZoomVal(),h=t.axes.toMapAxes(a,s),f=t.gl2Pixel(h.x,h.y),p=t.axes.toMapAxes(u,l),d=t.gl2Pixel(p.x,p.y);if((S=(h.y*t.mapController.angCos+h.x*t.mapController.angSin+(p.y*t.mapController.angCos+p.x*t.mapController.angSin))/2)<=0||70<=t.mapController.getLookAngle())this.factor=1;else{var m=Math.sqrt((t.ey-S/c/4)*(t.ey-S/c/4)+t.ez2);this.factor=t.eye2zero/m}if(this.labelWidth=this.textWidth*this.factor,this.labelHeight=this.theme.m_iTFontSize*this.factor,0==this.labelWidth||0==this.labelHeight)return!1;var g=this.labelWidth/this.name.length,v=parseFloat(d.x-f.x),y=parseFloat(d.y-f.y),x=Math.sqrt(v*v+y*y);this.midx=d.x/2+f.x/2,this.midy=d.y/2+f.y/2;var b=this.midx-this.labelWidth*v/x/2,_=this.midy-this.labelWidth*y/x/2;v=this.midx+this.labelWidth*v/x/2-b,y=this.midy+this.labelWidth*y/x/2-_;for(var w=0;w<this.name.length;w++)if(this.rectArray[w].x=b+(w*g+this.labelHeight/2)*v/this.labelWidth-this.labelHeight/2,this.rectArray[w].y=_+(w*g+this.labelHeight/2)*y/this.labelWidth-this.labelHeight/2,this.rectArray[w].w=this.labelHeight,this.rectArray[w].h=this.labelHeight,e.search(this.rectArray[w]).length>0)return!1;return Math.abs(y)>2*Math.abs(v)?y<0&&(v=-v,y=-y):v<0&&(v=-v,y=-y),this.angle=Math.acos(v/this.labelWidth),y<0&&(this.angle=-this.angle),!0}var E=a/2+u/2,A=s/2+l/2;if(i&&!(0,r.MapQueryObjIncPoint)(t.queryObj,E,A))return!1;c=t.mapController.getZoomVal();var S,C=t.axes.toMapAxes(E,A),D=t.gl2Pixel(C.x,C.y);if((S=C.y*t.mapController.angCos+C.x*t.mapController.angSin)<=0||70<=t.mapController.getLookAngle())this.factor=1;else{m=Math.sqrt((t.ey-S/c/4)*(t.ey-S/c/4)+t.ez2);this.factor=t.eye2zero/m}return this.pixelX=D.x,this.pixelY=D.y,this.rect.x=this.pixelX-this.textWidth/2*this.factor,this.rect.y=this.pixelY-this.m_iTFontSize/2*this.factor,this.rect.w=this.textWidth*this.factor,this.rect.h=this.m_iTFontSize*this.factor,!(e.search(this.rect).length>0)},h.prototype.findPos=function(t,e,n){if(!this.theme)return!1;if(-1!=this.lastPosIndex&&this.tryPos(t,e,this.lastPosIndex,n))return!0;for(var r=0;r<this.iPointCnt;r++)if(r!=this.lastPosIndex&&this.tryPos(t,e,r,n))return this.lastPosIndex=r,!0;return this.lastPosIndex=-1,!1},h.prototype.draw=function(t,e,n){if(this.theme&&!(this.lastPosIndex<0)){var r=this.pPoints[4*this.lastPosIndex+0],i=this.pPoints[4*this.lastPosIndex+1],a=this.pPoints[4*this.lastPosIndex+2],s=this.pPoints[4*this.lastPosIndex+3];if(o==this.m_iNameType){if(n){var u=e.axes.world2pixel(r,i),l=e.axes.world2pixel(a,s),c=parseFloat(l.x-u.x),h=parseFloat(l.y-u.y),f=Math.sqrt(c*c+h*h);Math.abs(h)>2*Math.abs(c)?h<0&&(c=-c,h=-h):c<0&&(c=-c,h=-h),this.midx=l.x/2+u.x/2,this.midy=l.y/2+u.y/2,this.angle=Math.acos(c/f),h<0&&(this.angle=-this.angle)}t.save(),t.translate(this.midx,this.midy),t.rotate(this.angle),t.scale(this.factor,this.factor),t.font=this.theme.font,t.fillStyle=this.theme.fillStyle,t.strokeStyle=this.theme.strokeStyle,t.lineWidth=3,t.strokeText(this.name,-this.labelWidth/2/this.factor,-this.labelHeight/2/this.factor+8*this.theme.m_iTFontSize/9),t.fillText(this.name,-this.labelWidth/2/this.factor,-this.labelHeight/2/this.factor+8*this.theme.m_iTFontSize/9),t.restore()}else{if(n){var p=r/2+a/2,d=i/2+s/2,m=e.axes.world2pixel(p,d);this.rect.x=m.x-this.textWidth/2*this.factor,this.rect.y=m.y-this.m_iTFontSize/2*this.factor}this.renderIcon(t),1!=this.factor&&(t.save(),t.scale(this.factor,this.factor)),t.font=this.font,t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t.fillText(this.name,this.rect.x/this.factor,this.rect.y/this.factor+8*this.m_iTFontSize/9),1!=this.factor&&t.restore()}}},h.prototype.renderIcon=function(t){var e="rgba(0,0,0,255)",n="rgba(255,0,0,255)",r=null;switch(this.m_iNameType){case a:n="rgba(107,157,66,255)",r="rgba(219,101,99,255)";break;case u:e="rgba(200,50,40,255)",n="rgba(237,117,81,255)";break;case s:n="rgba(107,157,66,255)",r="rgba(231,176,84,255)";break;case l:e="rgba(180,90,40,255)",n="rgba(236,158,84,255)";break;case c:n="rgba(255,255,255,255)";break;case 6:n="rgba(0,255,255,255)"}a==this.m_iNameType||s==this.m_iNameType?f(t,this.rect.x-4,this.rect.y-3,this.rect.w+8,this.rect.h+4,4,r,n):(t.lineWidth=2,t.strokeStyle=e,t.fillStyle=n,t.strokeRect(this.rect.x,this.rect.y,this.rect.w,this.rect.h),t.fillRect(this.rect.x,this.rect.y,this.rect.w,this.rect.h))}},function(t,e,n){"use strict";var r=n(154);function i(t){if(!(this instanceof i))return new i(t);var e=3,n=6;isNaN(t)||(e=Math.floor(t/2),n=t);var o={x:0,y:0,w:0,h:0,id:"root",nodes:[]};this.root=o;var a=function(t){for(var e,n=t.slice(),r=[];n.length;)(e=n.pop()).nodes?n=n.concat(e.nodes):e.leaf&&r.push(e);return r},s=function(t,n,i){var o,s,u,l=[],c=[],p=[];if(!t||!r.overlapRectangle(t,i))return p;var d={x:t.x,y:t.y,w:t.w,h:t.h,target:n};for(c.push(i.nodes.length),l.push(i);l.length>0;){if(o=l.pop(),s=c.pop()-1,"target"in d)for(;s>=0;){if(u=o.nodes[s],r.overlapRectangle(d,u)){if(d.target&&"leaf"in u&&u.leaf===d.target||!d.target&&("leaf"in u||r.containsRectangle(u,d))){p="nodes"in u?a(o.nodes.splice(s,1)):o.nodes.splice(s,1),r.makeMBR(o.nodes,o),delete d.target;break}"nodes"in u&&(0,c.push(s),l.push(o),o=u,s=u.nodes.length)}s--}else if("nodes"in d){o.nodes.splice(s+1,1),o.nodes.length>0&&r.makeMBR(o.nodes,o);for(var m=0;m<d.nodes.length;m++)f(d.nodes[m],o);d.nodes=[],0===l.length&&o.nodes.length<=1?(d.nodes=h(o,!0,d.nodes,o),o.nodes=[],l.push(o),c.push(1)):l.length>0&&o.nodes.length<e?(d.nodes=h(o,!0,d.nodes,o),o.nodes=[]):delete d.nodes}else r.makeMBR(o.nodes,o);1}return p},u=function(t){for(var e=c(t);t.length>0;)l(t,e[0],e[1]);return e},l=function(t,n,i){for(var o,a,s,u=r.squarifiedRatio(n.w,n.h,n.nodes.length+1),l=r.squarifiedRatio(i.w,i.h,i.nodes.length+1),c=t.length-1;c>=0;c--){var h=t[c],f={};f.x=Math.min(n.x,h.x),f.y=Math.min(n.y,h.y),f.w=Math.max(n.x+n.w,h.x+h.w)-f.x,f.h=Math.max(n.y+n.h,h.y+h.h)-f.y;var p=Math.abs(r.squarifiedRatio(f.w,f.h,n.nodes.length+2)-u),d={};d.x=Math.min(i.x,h.x),d.y=Math.min(i.y,h.y),d.w=Math.max(i.x+i.w,h.x+h.w)-d.x,d.h=Math.max(i.y+i.h,h.y+h.h)-d.y;var m=Math.abs(r.squarifiedRatio(d.w,d.h,i.nodes.length+2)-l);(!a||!o||Math.abs(m-p)<o)&&(a=c,o=Math.abs(m-p),s=m<p?i:n)}var g=t.splice(a,1)[0];n.nodes.length+t.length+1<=e?(n.nodes.push(g),r.expandRectangle(n,g)):i.nodes.length+t.length+1<=e?(i.nodes.push(g),r.expandRectangle(i,g)):(s.nodes.push(g),r.expandRectangle(s,g))},c=function(t){for(var e,n,r=t.length-1,i=0,o=t.length-1,a=0,s=t.length-2;s>=0;s--){var u=t[s];u.x>t[i].x?i=s:u.x+u.w<t[r].x+t[r].w&&(r=s),u.y>t[a].y?a=s:u.y+u.h<t[o].y+t[o].h&&(o=s)}return Math.abs(t[r].x+t[r].w-t[i].x)>Math.abs(t[o].y+t[o].h-t[a].y)?r>i?(e=t.splice(r,1)[0],n=t.splice(i,1)[0]):(n=t.splice(i,1)[0],e=t.splice(r,1)[0]):o>a?(e=t.splice(o,1)[0],n=t.splice(a,1)[0]):(n=t.splice(a,1)[0],e=t.splice(o,1)[0]),[{x:e.x,y:e.y,w:e.w,h:e.h,nodes:[e]},{x:n.x,y:n.y,w:n.w,h:n.h,nodes:[n]}]},h=function(t,e,n,i){var o=[];if(!r.overlapRectangle(t,i))return n;for(o.push(i.nodes);o.length>0;)for(var a=o.pop(),s=a.length-1;s>=0;s--){var u=a[s];r.overlapRectangle(t,u)&&("nodes"in u?o.push(u.nodes):"leaf"in u&&(e?n.push(u):n.push(u.leaf)))}return n},f=function(t,e){var i;if(0===e.nodes.length)return e.x=t.x,e.y=t.y,e.w=t.w,e.h=t.h,void e.nodes.push(t);for(var o,a=function(t,e){var n,i=-1,o=[],a=!0;o.push(e);for(var s=e.nodes;a||-1!==i;){a?a=!1:(o.push(s[i]),s=s[i].nodes,i=-1);for(var u=s.length-1;u>=0;u--){var l=s[u];if("leaf"in l){i=-1;break}var c=r.squarifiedRatio(l.w,l.h,l.nodes.length+1),h=Math.max(l.x+l.w,t.x+t.w)-Math.min(l.x,t.x),f=Math.max(l.y+l.h,t.y+t.h)-Math.min(l.y,t.y),p=r.squarifiedRatio(h,f,l.nodes.length+2);(i<0||Math.abs(p-c)<n)&&(n=Math.abs(p-c),i=u)}}return o}(t,e),s=t;a.length>0;){if(i&&"nodes"in i&&0===i.nodes.length){o=i,i=a.pop();for(var l=0;l<i.nodes.length;l++)if(i.nodes[l]===o||0===i.nodes[l].nodes.length){i.nodes.splice(l,1);break}}else i=a.pop();if("leaf"in s||"nodes"in s||Array.isArray(s)){if(Array.isArray(s)){for(var c=0;c<s.length;c++)r.expandRectangle(i,s[c]);i.nodes=i.nodes.concat(s)}else r.expandRectangle(i,s),i.nodes.push(s);if(i.nodes.length<=n)s={x:i.x,y:i.y,w:i.w,h:i.h};else{var h=u(i.nodes);s=h,a.length<1&&(i.nodes.push(h[0]),a.push(i),s=h[1])}}else r.expandRectangle(i,s),s={x:i.x,y:i.y,w:i.w,h:i.h}}};this.insertSubtree=f,this.getTree=function(){return o},this.setTree=function(t,e){return e||(e=o),function(t,e){return t.nodes=e.nodes,t.x=e.x,t.y=e.y,t.w=e.w,t.h=e.h,t}(e,t)},this.search=function(t,e,n){return h(t,e,n=n||[],o)};this.remove=function(t,e){return e&&"function"!=typeof e?function(t,e){return s(t,e,o)}(t,e):function(t){for(var e,n=1,r=[];n>0;)n=(e=s(t,!1,o)).length,r=r.concat(e);return r}(t)},this.insert=function(t,e){return f({x:t.x,y:t.y,w:t.w,h:t.h,leaf:e},o)}}i.prototype.toJSON=function(t){return JSON.stringify(this.root,!1,t)},i.fromJSON=function(t){var e=new i;return e.setTree(JSON.parse(t)),e},t.exports=i,"function"!=typeof Array.isArray&&(Array.isArray=function(t){return"object"==typeof t&&"[object Array]"==={}.toString.call(t)})},function(t,e,n){"use strict";var r=n(154),i=function(t,e){if(e&&e.bbox)return{leaf:e,x:e.bbox[0],y:e.bbox[1],w:e.bbox[2]-e.bbox[0],h:e.bbox[3]-e.bbox[1]};for(var n=t.length,r=0,i=new Array(n);r<n;)i[r]=[t[r][0],t[r][1]],r++;var o=i[0];n=i.length,r=1;for(var a={min:[].concat(o),max:[].concat(o)};r<n;)i[r][0]<a.min[0]?a.min[0]=i[r][0]:i[r][0]>a.max[0]&&(a.max[0]=i[r][0]),i[r][1]<a.min[1]?a.min[1]=i[r][1]:i[r][1]>a.max[1]&&(a.max[1]=i[r][1]),r++;var s={x:a.min[0],y:a.min[1],w:a.max[0]-a.min[0],h:a.max[1]-a.min[1]};return e&&(s.leaf=e),s},o={point:function(t,e){return e.insertSubtree({x:t.geometry.coordinates[0],y:t.geometry.coordinates[1],w:0,h:0,leaf:t},e.root)},multiPointLineString:function(t,e){return e.insertSubtree(i(t.geometry.coordinates,t),e.root)},multiLineStringPolygon:function(t,e){return e.insertSubtree(i(Array.prototype.concat.apply([],t.geometry.coordinates),t),e.root)},multiPolygon:function(t,e){return e.insertSubtree(i(Array.prototype.concat.apply([],Array.prototype.concat.apply([],t.geometry.coordinates)),t),e.root)},makeRec:function(t){return r(t.x,t.y,t.w,t.h)},geometryCollection:function(t,e){if(t.bbox)return e.insertSubtree({leaf:t,x:t.bbox[0],y:t.bbox[1],w:t.bbox[2]-t.bbox[0],h:t.bbox[3]-t.bbox[1]},e.root);for(var n,r=t.geometry.geometries,a=0,s=r.length,u=[];a<s;){switch((n=r[a]).type){case"Point":u.push(o.makeRec({x:n.coordinates[0],y:n.coordinates[1],w:0,h:0}));break;case"MultiPoint":case"LineString":u.push(o.makeRec(i(n.coordinates)));break;case"MultiLineString":case"Polygon":u.push(o.makeRec(i(Array.prototype.concat.apply([],n.coordinates))));break;case"MultiPolygon":u.push(o.makeRec(i(Array.prototype.concat.apply([],Array.prototype.concat.apply([],n.coordinates)))));break;case"GeometryCollection":s=(r=r.concat(n.geometries)).length}a++}var l=u[0];for(a=1,s=u.length;a<s;)l.expand(u[a]),a++;return e.insertSubtree({leaf:t,x:l.x(),y:l.y(),h:l.h(),w:l.w()},e.root)}};e.geoJSON=function(t){var e,n;if(Array.isArray(t))e=t.slice();else if(t.features&&Array.isArray(t.features))e=t.features.slice();else{if(!(t instanceof Object))throw"this isn't what we're looking for";e=[t]}for(var r=e.length,i=0;i<r;){if("Feature"===(n=e[i]).type)switch(n.geometry.type){case"Point":o.point(n,this);break;case"MultiPoint":case"LineString":o.multiPointLineString(n,this);break;case"MultiLineString":case"Polygon":o.multiLineStringPolygon(n,this);break;case"MultiPolygon":o.multiPolygon(n,this);break;case"GeometryCollection":o.geometryCollection(n,this)}i++}},e.bbox=function(){var t,e,n,r;switch(arguments.length){case 1:t=arguments[0][0][0],e=arguments[0][0][1],n=arguments[0][1][0],r=arguments[0][1][1];break;case 2:t=arguments[0][0],e=arguments[0][1],n=arguments[1][0],r=arguments[1][1];break;case 4:t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3]}return this.search({x:t,y:e,w:n-t,h:r-e})}},function(t,e,n){(function(e){!function(){var e={};t.exports=e,function(t,e){t.toRGBA8=function(e){var n=e.width,r=e.height;if(null==e.tabs.acTL)return[t.toRGBA8.decodeImage(e.data,n,r,e).buffer];var i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var o,a=new Uint8Array(n*r*4),s=0;s<e.frames.length;s++){var u=e.frames[s],l=u.rect.x,c=u.rect.y,h=u.rect.width,f=u.rect.height,p=t.toRGBA8.decodeImage(u.data,h,f,e);if(0==s?o=p:0==u.blend?t._copyTile(p,h,f,o,n,r,l,c,0):1==u.blend&&t._copyTile(p,h,f,o,n,r,l,c,1),i.push(o.buffer),o=o.slice(0),0==u.dispose);else if(1==u.dispose)t._copyTile(a,h,f,o,n,r,l,c,0);else if(2==u.dispose){for(var d=s-1;2==e.frames[d].dispose;)d--;o=new Uint8Array(i[d]).slice(0)}}return i},t.toRGBA8.decodeImage=function(e,n,r,i){var o=n*r,a=t.decode._getBPP(i),s=Math.ceil(n*a/8),u=new Uint8Array(4*o),l=new Uint32Array(u.buffer),c=i.ctype,h=i.depth,f=t._bin.readUshort;if(6==c){var p=o<<2;if(8==h)for(var d=0;d<p;d++)u[d]=e[d];if(16==h)for(d=0;d<p;d++)u[d]=e[d<<1]}else if(2==c){var m=i.tabs.tRNS,g=-1,v=-1,y=-1;if(m&&(g=m[0],v=m[1],y=m[2]),8==h)for(d=0;d<o;d++){var x=3*d;u[C=d<<2]=e[x],u[C+1]=e[x+1],u[C+2]=e[x+2],u[C+3]=255,-1!=g&&e[x]==g&&e[x+1]==v&&e[x+2]==y&&(u[C+3]=0)}if(16==h)for(d=0;d<o;d++){x=6*d;u[C=d<<2]=e[x],u[C+1]=e[x+2],u[C+2]=e[x+4],u[C+3]=255,-1!=g&&f(e,x)==g&&f(e,x+2)==v&&f(e,x+4)==y&&(u[C+3]=0)}}else if(3==c){var b=i.tabs.PLTE,_=i.tabs.tRNS,w=_?_.length:0;if(1==h)for(var E=0;E<r;E++){var A=E*s,S=E*n;for(d=0;d<n;d++){var C=S+d<<2,D=3*(M=e[A+(d>>3)]>>7-((7&d)<<0)&1);u[C]=b[D],u[C+1]=b[D+1],u[C+2]=b[D+2],u[C+3]=M<w?_[M]:255}}if(2==h)for(E=0;E<r;E++)for(A=E*s,S=E*n,d=0;d<n;d++){C=S+d<<2,D=3*(M=e[A+(d>>2)]>>6-((3&d)<<1)&3);u[C]=b[D],u[C+1]=b[D+1],u[C+2]=b[D+2],u[C+3]=M<w?_[M]:255}if(4==h)for(E=0;E<r;E++)for(A=E*s,S=E*n,d=0;d<n;d++){C=S+d<<2,D=3*(M=e[A+(d>>1)]>>4-((1&d)<<2)&15);u[C]=b[D],u[C+1]=b[D+1],u[C+2]=b[D+2],u[C+3]=M<w?_[M]:255}if(8==h)for(d=0;d<o;d++){var M;C=d<<2,D=3*(M=e[d]);u[C]=b[D],u[C+1]=b[D+1],u[C+2]=b[D+2],u[C+3]=M<w?_[M]:255}}else if(4==c){if(8==h)for(d=0;d<o;d++){C=d<<2;var k=e[T=d<<1];u[C]=k,u[C+1]=k,u[C+2]=k,u[C+3]=e[T+1]}if(16==h)for(d=0;d<o;d++){var T;C=d<<2,k=e[T=d<<2];u[C]=k,u[C+1]=k,u[C+2]=k,u[C+3]=e[T+2]}}else if(0==c){g=i.tabs.tRNS?i.tabs.tRNS:-1;if(1==h)for(d=0;d<o;d++){var L=(k=255*(e[d>>3]>>7-(7&d)&1))==255*g?0:255;l[d]=L<<24|k<<16|k<<8|k}if(2==h)for(d=0;d<o;d++){L=(k=85*(e[d>>2]>>6-((3&d)<<1)&3))==85*g?0:255;l[d]=L<<24|k<<16|k<<8|k}if(4==h)for(d=0;d<o;d++){L=(k=17*(e[d>>1]>>4-((1&d)<<2)&15))==17*g?0:255;l[d]=L<<24|k<<16|k<<8|k}if(8==h)for(d=0;d<o;d++){L=(k=e[d])==g?0:255;l[d]=L<<24|k<<16|k<<8|k}if(16==h)for(d=0;d<o;d++){k=e[d<<1],L=f(e,d<<1)==g?0:255;l[d]=L<<24|k<<16|k<<8|k}}return u},t.decode=function(e){for(var n,r=new Uint8Array(e),i=8,o=t._bin,a=o.readUshort,s=o.readUint,u={tabs:{},frames:[]},l=new Uint8Array(r.length),c=0,h=0,f=[137,80,78,71,13,10,26,10],p=0;p<8;p++)if(r[p]!=f[p])throw"The input is not a PNG file!";for(;i<r.length;){var d=o.readUint(r,i);i+=4;var m=o.readASCII(r,i,4);if(i+=4,"IHDR"==m)t.decode._IHDR(r,i,u);else if("IDAT"==m){for(p=0;p<d;p++)l[c+p]=r[i+p];c+=d}else if("acTL"==m)u.tabs[m]={num_frames:s(r,i),num_plays:s(r,i+4)},n=new Uint8Array(r.length);else if("fcTL"==m){if(0!=h)(A=u.frames[u.frames.length-1]).data=t.decode._decompress(u,n.slice(0,h),A.rect.width,A.rect.height),h=0;var g={x:s(r,i+12),y:s(r,i+16),width:s(r,i+4),height:s(r,i+8)},v=a(r,i+22);v=a(r,i+20)/(0==v?100:v);var y={rect:g,delay:Math.round(1e3*v),dispose:r[i+24],blend:r[i+25]};u.frames.push(y)}else if("fdAT"==m){for(p=0;p<d-4;p++)n[h+p]=r[i+p+4];h+=d-4}else if("pHYs"==m)u.tabs[m]=[o.readUint(r,i),o.readUint(r,i+4),r[i+8]];else if("cHRM"==m){u.tabs[m]=[];for(p=0;p<8;p++)u.tabs[m].push(o.readUint(r,i+4*p))}else if("tEXt"==m){null==u.tabs[m]&&(u.tabs[m]={});var x=o.nextZero(r,i),b=o.readASCII(r,i,x-i),_=o.readASCII(r,x+1,i+d-x-1);u.tabs[m][b]=_}else if("iTXt"==m){null==u.tabs[m]&&(u.tabs[m]={});x=0;var w=i;x=o.nextZero(r,w);b=o.readASCII(r,w,x-w),r[w=x+1],r[w+1];w+=2,x=o.nextZero(r,w);o.readASCII(r,w,x-w);w=x+1,x=o.nextZero(r,w);o.readUTF8(r,w,x-w);w=x+1;_=o.readUTF8(r,w,d-(w-i));u.tabs[m][b]=_}else if("PLTE"==m)u.tabs[m]=o.readBytes(r,i,d);else if("hIST"==m){var E=u.tabs.PLTE.length/3;u.tabs[m]=[];for(p=0;p<E;p++)u.tabs[m].push(a(r,i+2*p))}else if("tRNS"==m)3==u.ctype?u.tabs[m]=o.readBytes(r,i,d):0==u.ctype?u.tabs[m]=a(r,i):2==u.ctype&&(u.tabs[m]=[a(r,i),a(r,i+2),a(r,i+4)]);else if("gAMA"==m)u.tabs[m]=o.readUint(r,i)/1e5;else if("sRGB"==m)u.tabs[m]=r[i];else if("bKGD"==m)0==u.ctype||4==u.ctype?u.tabs[m]=[a(r,i)]:2==u.ctype||6==u.ctype?u.tabs[m]=[a(r,i),a(r,i+2),a(r,i+4)]:3==u.ctype&&(u.tabs[m]=r[i]);else if("IEND"==m){var A;if(0!=h)(A=u.frames[u.frames.length-1]).data=t.decode._decompress(u,n.slice(0,h),A.rect.width,A.rect.height),h=0;u.data=t.decode._decompress(u,l,u.width,u.height);break}i+=d;o.readUint(r,i);i+=4}return delete u.compress,delete u.interlace,delete u.filter,u},t.decode._decompress=function(e,n,r,i){return 0==e.compress&&(n=t.decode._inflate(n)),0==e.interlace?n=t.decode._filterZero(n,e,0,r,i):1==e.interlace&&(n=t.decode._readInterlace(n,e)),n},t.decode._inflate=function(t){return e.inflate(t)},t.decode._readInterlace=function(e,n){for(var r=n.width,i=n.height,o=t.decode._getBPP(n),a=o>>3,s=Math.ceil(r*o/8),u=new Uint8Array(i*s),l=0,c=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],p=[8,8,4,4,2,2,1],d=0;d<7;){for(var m=f[d],g=p[d],v=0,y=0,x=c[d];x<i;)x+=m,y++;for(var b=h[d];b<r;)b+=g,v++;var _=Math.ceil(v*o/8);t.decode._filterZero(e,n,l,v,y);for(var w=0,E=c[d];E<i;){for(var A=h[d],S=l+w*_<<3;A<r;){var C;if(1==o)C=(C=e[S>>3])>>7-(7&S)&1,u[E*s+(A>>3)]|=C<<7-((3&A)<<0);if(2==o)C=(C=e[S>>3])>>6-(7&S)&3,u[E*s+(A>>2)]|=C<<6-((3&A)<<1);if(4==o)C=(C=e[S>>3])>>4-(7&S)&15,u[E*s+(A>>1)]|=C<<4-((1&A)<<2);if(o>=8)for(var D=E*s+A*a,M=0;M<a;M++)u[D+M]=e[(S>>3)+M];S+=o,A+=g}w++,E+=m}v*y!=0&&(l+=y*(1+_)),d+=1}return u},t.decode._getBPP=function(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth},t.decode._filterZero=function(e,n,r,i,o){var a=t.decode._getBPP(n),s=Math.ceil(i*a/8),u=t.decode._paeth;a=Math.ceil(a/8);for(var l=0;l<o;l++){var c=r+l*s,h=c+l+1,f=e[h-1];if(0==f)for(var p=0;p<s;p++)e[c+p]=e[h+p];else if(1==f){for(p=0;p<a;p++)e[c+p]=e[h+p];for(p=a;p<s;p++)e[c+p]=e[h+p]+e[c+p-a]&255}else if(0==l){for(p=0;p<a;p++)e[c+p]=e[h+p];if(2==f)for(p=a;p<s;p++)e[c+p]=255&e[h+p];if(3==f)for(p=a;p<s;p++)e[c+p]=e[h+p]+(e[c+p-a]>>1)&255;if(4==f)for(p=a;p<s;p++)e[c+p]=e[h+p]+u(e[c+p-a],0,0)&255}else{if(2==f)for(p=0;p<s;p++)e[c+p]=e[h+p]+e[c+p-s]&255;if(3==f){for(p=0;p<a;p++)e[c+p]=e[h+p]+(e[c+p-s]>>1)&255;for(p=a;p<s;p++)e[c+p]=e[h+p]+(e[c+p-s]+e[c+p-a]>>1)&255}if(4==f){for(p=0;p<a;p++)e[c+p]=e[h+p]+u(0,e[c+p-s],0)&255;for(p=a;p<s;p++)e[c+p]=e[h+p]+u(e[c+p-a],e[c+p-s],e[c+p-a-s])&255}}}return e},t.decode._paeth=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return i<=o&&i<=a?t:o<=a?e:n},t.decode._IHDR=function(e,n,r){var i=t._bin;r.width=i.readUint(e,n),n+=4,r.height=i.readUint(e,n),n+=4,r.depth=e[n],n++,r.ctype=e[n],n++,r.compress=e[n],n++,r.filter=e[n],n++,r.interlace=e[n],n++},t._bin={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},writeUshort:function(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},readUint:function(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])},writeUint:function(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},readASCII:function(t,e,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(t[e+i]);return r},writeASCII:function(t,e,n){for(var r=0;r<n.length;r++)t[e+r]=n.charCodeAt(r)},readBytes:function(t,e,n){for(var r=[],i=0;i<n;i++)r.push(t[e+i]);return r},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(e,n,r){for(var i,o="",a=0;a<r;a++)o+="%"+t._bin.pad(e[n+a].toString(16));try{i=decodeURIComponent(o)}catch(s){return t._bin.readASCII(e,n,r)}return i}},t._copyTile=function(t,e,n,r,i,o,a,s,u){for(var l=Math.min(e,i),c=Math.min(n,o),h=0,f=0,p=0;p<c;p++)for(var d=0;d<l;d++)if(a>=0&&s>=0?(h=p*e+d<<2,f=(s+p)*i+a+d<<2):(h=(-s+p)*e-a+d<<2,f=p*i+d<<2),0==u)r[f]=t[h],r[f+1]=t[h+1],r[f+2]=t[h+2],r[f+3]=t[h+3];else if(1==u){var m=t[h+3]*(1/255),g=t[h]*m,v=t[h+1]*m,y=t[h+2]*m,x=r[f+3]*(1/255),b=r[f]*x,_=r[f+1]*x,w=r[f+2]*x,E=1-m,A=m+x*E,S=0==A?0:1/A;r[f+3]=255*A,r[f+0]=(g+b*E)*S,r[f+1]=(v+_*E)*S,r[f+2]=(y+w*E)*S}else if(2==u){m=t[h+3],g=t[h],v=t[h+1],y=t[h+2],x=r[f+3],b=r[f],_=r[f+1],w=r[f+2];m==x&&g==b&&v==_&&y==w?(r[f]=0,r[f+1]=0,r[f+2]=0,r[f+3]=0):(r[f]=g,r[f+1]=v,r[f+2]=y,r[f+3]=m)}else if(3==u){m=t[h+3],g=t[h],v=t[h+1],y=t[h+2],x=r[f+3],b=r[f],_=r[f+1],w=r[f+2];if(m==x&&g==b&&v==_&&y==w)continue;if(m<220&&x>20)return!1}return!0},t.encode=function(e,n,r,i,o,a){null==i&&(i=0),null==a&&(a=!1);for(var s=new Uint8Array(e[0].byteLength*e.length+100),u=[137,80,78,71,13,10,26,10],l=0;l<8;l++)s[l]=u[l];var c=8,h=t._bin,f=t.crc.crc,p=h.writeUint,d=h.writeUshort,m=h.writeASCII,g=t.encode.compressPNG(e,n,r,i,a);p(s,c,13),m(s,c+=4,"IHDR"),p(s,c+=4,n),p(s,c+=4,r),s[c+=4]=g.depth,s[++c]=g.ctype,s[++c]=0,s[++c]=0,s[++c]=0,p(s,++c,f(s,c-17,17)),p(s,c+=4,1),m(s,c+=4,"sRGB"),s[c+=4]=1,p(s,++c,f(s,c-5,5)),c+=4;var v=e.length>1;if(v&&(p(s,c,8),m(s,c+=4,"acTL"),p(s,c+=4,e.length),p(s,c+=4,0),p(s,c+=4,f(s,c-12,12)),c+=4),3==g.ctype){p(s,c,3*(C=g.plte.length)),m(s,c+=4,"PLTE"),c+=4;for(l=0;l<C;l++){var y=3*l,x=g.plte[l],b=255&x,_=x>>8&255,w=x>>16&255;s[c+y+0]=b,s[c+y+1]=_,s[c+y+2]=w}if(p(s,c+=3*C,f(s,c-3*C-4,3*C+4)),c+=4,g.gotAlpha){p(s,c,C),m(s,c+=4,"tRNS"),c+=4;for(l=0;l<C;l++)s[c+l]=g.plte[l]>>24&255;p(s,c+=C,f(s,c-C-4,C+4)),c+=4}}for(var E=0,A=0;A<g.frames.length;A++){var S=g.frames[A];v&&(p(s,c,26),m(s,c+=4,"fcTL"),p(s,c+=4,E++),p(s,c+=4,S.rect.width),p(s,c+=4,S.rect.height),p(s,c+=4,S.rect.x),p(s,c+=4,S.rect.y),d(s,c+=4,o[A]),d(s,c+=2,1e3),s[c+=2]=S.dispose,s[++c]=S.blend,p(s,++c,f(s,c-30,30)),c+=4);var C,D=S.cimg;p(s,c,(C=D.length)+(0==A?0:4));var M=c+=4;m(s,c,0==A?"IDAT":"fdAT"),c+=4,0!=A&&(p(s,c,E++),c+=4);for(l=0;l<C;l++)s[c+l]=D[l];p(s,c+=C,f(s,M,c-M)),c+=4}return p(s,c,0),m(s,c+=4,"IEND"),p(s,c+=4,f(s,c-4,4)),c+=4,s.buffer.slice(0,c)},t.encode.compressPNG=function(e,n,r,i,o){for(var a=t.encode.compress(e,n,r,i,!1,o),s=0;s<e.length;s++){var u=a.frames[s],l=(u.rect.width,u.rect.height),c=u.bpl,h=u.bpp,f=new Uint8Array(l*c+l);u.cimg=t.encode._filterZero(u.img,l,h,c,f)}return a},t.encode.compress=function(e,n,r,i,o,a){null==a&&(a=!1);for(var s=6,u=8,l=4,c=255,h=0;h<e.length;h++)for(var f=new Uint8Array(e[h]),p=f.length,d=0;d<p;d+=4)c&=f[d+3];var m=255!=c,g={},v=[];if(0!=e.length&&(g[0]=0,v.push(0),0!=i&&i--),0!=i){var y=t.quantize(e,i,o);e=y.bufs;for(d=0;d<y.plte.length;d++){null==g[b=y.plte[d].est.rgba]&&(g[b]=v.length,v.push(b))}}else for(h=0;h<e.length;h++){var x=new Uint32Array(e[h]);for(p=x.length,d=0;d<p;d++){var b=x[d];if((d<n||b!=x[d-1]&&b!=x[d-n])&&null==g[b]&&(g[b]=v.length,v.push(b),v.length>=300))break}}var _=!!m&&o,w=v.length;w<=256&&0==a&&(u=w<=2?1:w<=4?2:w<=16?4:8,o&&(u=8),m=!0);var E=[];for(h=0;h<e.length;h++){var A=new Uint8Array(e[h]),S=new Uint32Array(A.buffer),C=0,D=0,M=n,k=r,T=0;if(0!=h&&!_){for(var L=o||1==h||2==E[E.length-2].dispose?1:2,I=0,B=1e9,R=0;R<L;R++){for(var F=new Uint8Array(e[h-1-R]),P=new Uint32Array(e[h-1-R]),O=n,N=r,U=-1,z=-1,j=0;j<r;j++)for(var W=0;W<n;W++){S[d=j*n+W]!=P[d]&&(W<O&&(O=W),W>U&&(U=W),j<N&&(N=j),j>z&&(z=j))}var Y=-1==U?1:(U-O+1)*(z-N+1);Y<B&&(B=Y,I=R,-1==U?(C=D=0,M=k=1):(C=O,D=N,M=U-O+1,k=z-N+1))}F=new Uint8Array(e[h-1-I]);1==I&&(E[E.length-1].dispose=2);var G=new Uint8Array(M*k*4);new Uint32Array(G.buffer);t._copyTile(F,n,r,G,M,k,-C,-D,0),t._copyTile(A,n,r,G,M,k,-C,-D,3)?(t._copyTile(A,n,r,G,M,k,-C,-D,2),T=1):(t._copyTile(A,n,r,G,M,k,-C,-D,0),T=0),A=G,S=new Uint32Array(A.buffer)}var V=4*M;if(w<=256&&0==a){V=Math.ceil(u*M/8);for(G=new Uint8Array(V*k),j=0;j<k;j++){d=j*V;var H=j*M;if(8==u)for(W=0;W<M;W++)G[d+W]=g[S[H+W]];else if(4==u)for(W=0;W<M;W++)G[d+(W>>1)]|=g[S[H+W]]<<4-4*(1&W);else if(2==u)for(W=0;W<M;W++)G[d+(W>>2)]|=g[S[H+W]]<<6-2*(3&W);else if(1==u)for(W=0;W<M;W++)G[d+(W>>3)]|=g[S[H+W]]<<7-1*(7&W)}A=G,s=3,l=1}else if(0==m&&1==e.length){G=new Uint8Array(M*k*3);var q=M*k;for(d=0;d<q;d++){var X=3*d,Z=4*d;G[X]=A[Z],G[X+1]=A[Z+1],G[X+2]=A[Z+2]}A=G,s=2,l=3,V=3*M}E.push({rect:{x:C,y:D,width:M,height:k},img:A,bpl:V,bpp:l,blend:T,dispose:_?1:0})}return{ctype:s,depth:u,plte:v,gotAlpha:m,frames:E}},t.encode._filterZero=function(n,r,i,o,a){for(var s=[],u=0;u<5;u++)if(!(r*o>5e5)||2!=u&&3!=u&&4!=u){for(var l=0;l<r;l++)t.encode._filterLine(a,n,l,o,i,u);if(s.push(e.deflate(a)),1==i)break}for(var c,h=1e9,f=0;f<s.length;f++)s[f].length<h&&(c=f,h=s[f].length);return s[c]},t.encode._filterLine=function(e,n,r,i,o,a){var s=r*i,u=s+r,l=t.decode._paeth;if(e[u]=a,u++,0==a)for(var c=0;c<i;c++)e[u+c]=n[s+c];else if(1==a){for(c=0;c<o;c++)e[u+c]=n[s+c];for(c=o;c<i;c++)e[u+c]=n[s+c]-n[s+c-o]+256&255}else if(0==r){for(c=0;c<o;c++)e[u+c]=n[s+c];if(2==a)for(c=o;c<i;c++)e[u+c]=n[s+c];if(3==a)for(c=o;c<i;c++)e[u+c]=n[s+c]-(n[s+c-o]>>1)+256&255;if(4==a)for(c=o;c<i;c++)e[u+c]=n[s+c]-l(n[s+c-o],0,0)+256&255}else{if(2==a)for(c=0;c<i;c++)e[u+c]=n[s+c]+256-n[s+c-i]&255;if(3==a){for(c=0;c<o;c++)e[u+c]=n[s+c]+256-(n[s+c-i]>>1)&255;for(c=o;c<i;c++)e[u+c]=n[s+c]+256-(n[s+c-i]+n[s+c-o]>>1)&255}if(4==a){for(c=0;c<o;c++)e[u+c]=n[s+c]+256-l(0,n[s+c-i],0)&255;for(c=o;c<i;c++)e[u+c]=n[s+c]+256-l(n[s+c-o],n[s+c-i],n[s+c-o-i])&255}}},t.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update:function(e,n,r,i){for(var o=0;o<i;o++)e=t.crc.table[255&(e^n[r+o])]^e>>>8;return e},crc:function(e,n,r){return 4294967295^t.crc.update(4294967295,e,n,r)}},t.quantize=function(e,n,r){for(var i=[],o=0,a=0;a<e.length;a++)i.push(t.encode.alphaMul(new Uint8Array(e[a]),r)),o+=e[a].byteLength;var s=new Uint8Array(o),u=new Uint32Array(s.buffer),l=0;for(a=0;a<i.length;a++){for(var c=i[a],h=c.length,f=0;f<h;f++)s[l+f]=c[f];l+=h}var p={i0:0,i1:s.length,bst:null,est:null,tdst:0,left:null,right:null};p.bst=t.quantize.stats(s,p.i0,p.i1),p.est=t.quantize.estats(p.bst);for(var d=[p];d.length<n;){var m=0,g=0;for(a=0;a<d.length;a++)d[a].est.L>m&&(m=d[a].est.L,g=a);if(m<.001)break;var v=d[g],y=t.quantize.splitPixels(s,u,v.i0,v.i1,v.est.e,v.est.eMq255),x={i0:v.i0,i1:y,bst:null,est:null,tdst:0,left:null,right:null};x.bst=t.quantize.stats(s,x.i0,x.i1),x.est=t.quantize.estats(x.bst);var b={i0:y,i1:v.i1,bst:null,est:null,tdst:0,left:null,right:null};b.bst={R:[],m:[],N:v.bst.N-x.bst.N};for(a=0;a<16;a++)b.bst.R[a]=v.bst.R[a]-x.bst.R[a];for(a=0;a<4;a++)b.bst.m[a]=v.bst.m[a]-x.bst.m[a];b.est=t.quantize.estats(b.bst),v.left=x,v.right=b,d[g]=x,d.push(b)}d.sort(function(t,e){return e.bst.N-t.bst.N});for(var _=0;_<i.length;_++){var w=t.quantize.planeDst,E=new Uint8Array(i[_].buffer),A=new Uint32Array(i[_].buffer),S=E.length;for(a=0;a<S;a+=4){for(var C=E[a]*(1/255),D=E[a+1]*(1/255),M=E[a+2]*(1/255),k=E[a+3]*(1/255),T=p;T.left;)T=w(T.est,C,D,M,k)<=0?T.left:T.right;A[a>>2]=T.est.rgba}i[_]=A.buffer}return{bufs:i,plte:d}},t.quantize.getNearest=function(e,n,r,i,o){if(null==e.left)return e.tdst=t.quantize.dist(e.est.q,n,r,i,o),e;var a=t.quantize.planeDst(e.est,n,r,i,o),s=e.left,u=e.right;a>0&&(s=e.right,u=e.left);var l=t.quantize.getNearest(s,n,r,i,o);if(l.tdst<=a*a)return l;var c=t.quantize.getNearest(u,n,r,i,o);return c.tdst<l.tdst?c:l},t.quantize.planeDst=function(t,e,n,r,i){var o=t.e;return o[0]*e+o[1]*n+o[2]*r+o[3]*i-t.eMq},t.quantize.dist=function(t,e,n,r,i){var o=e-t[0],a=n-t[1],s=r-t[2],u=i-t[3];return o*o+a*a+s*s+u*u},t.quantize.splitPixels=function(e,n,r,i,o,a){var s=t.quantize.vecDot;i-=4;for(;r<i;){for(;s(e,r,o)<=a;)r+=4;for(;s(e,i,o)>a;)i-=4;if(r>=i)break;var u=n[r>>2];n[r>>2]=n[i>>2],n[i>>2]=u,r+=4,i-=4}for(;s(e,r,o)>a;)r-=4;return r+4},t.quantize.vecDot=function(t,e,n){return t[e]*n[0]+t[e+1]*n[1]+t[e+2]*n[2]+t[e+3]*n[3]},t.quantize.stats=function(t,e,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=n-e>>2,a=e;a<n;a+=4){var s=t[a]*(1/255),u=t[a+1]*(1/255),l=t[a+2]*(1/255),c=t[a+3]*(1/255);i[0]+=s,i[1]+=u,i[2]+=l,i[3]+=c,r[0]+=s*s,r[1]+=s*u,r[2]+=s*l,r[3]+=s*c,r[5]+=u*u,r[6]+=u*l,r[7]+=u*c,r[10]+=l*l,r[11]+=l*c,r[15]+=c*c}return r[4]=r[1],r[8]=r[2],r[12]=r[3],r[9]=r[6],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:o}},t.quantize.estats=function(e){var n=e.R,r=e.m,i=e.N,o=r[0],a=r[1],s=r[2],u=r[3],l=0==i?0:1/i,c=[n[0]-o*o*l,n[1]-o*a*l,n[2]-o*s*l,n[3]-o*u*l,n[4]-a*o*l,n[5]-a*a*l,n[6]-a*s*l,n[7]-a*u*l,n[8]-s*o*l,n[9]-s*a*l,n[10]-s*s*l,n[11]-s*u*l,n[12]-u*o*l,n[13]-u*a*l,n[14]-u*s*l,n[15]-u*u*l],h=c,f=t.M4,p=[.5,.5,.5,.5],d=0,m=0;if(0!=i)for(var g=0;g<10&&(p=f.multVec(h,p),m=Math.sqrt(f.dot(p,p)),p=f.sml(1/m,p),!(Math.abs(m-d)<1e-9));g++)d=m;var v=[o*l,a*l,s*l,u*l],y=f.dot(f.sml(255,v),p),x=v[3]<.001?0:1/v[3];return{Cov:c,q:v,e:p,L:d,eMq255:y,eMq:f.dot(p,v),rgba:(Math.round(255*v[3])<<24|Math.round(255*v[2]*x)<<16|Math.round(255*v[1]*x)<<8|Math.round(255*v[0]*x)<<0)>>>0}},t.M4={multVec:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},sml:function(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}},t.encode.alphaMul=function(t,e){for(var n=new Uint8Array(t.length),r=t.length>>2,i=0;i<r;i++){var o=i<<2,a=t[o+3];e&&(a=a<128?0:255);var s=a*(1/255);n[o+0]=t[o+0]*s,n[o+1]=t[o+1]*s,n[o+2]=t[o+2]*s,n[o+3]=a}return n}}(e,n(85))}()}).call(e,n(46))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.poiData=[{name:"台湾省详细资料暂缺",lon:897296213,lat:464130333,theme:{font:"19 px sans-serif",labelctrl:1,iconctrl:0,fontsize:19,m_iPrivilage:9,fillStyle:"rgba(80,80,80,255)"},minZoom:6,maxZoom:18},{name:"台湾海峡",lon:893709483,lat:461475511,kind:275008,minZoom:6,maxZoom:18},{name:"北部湾",lon:858914703,lat:475485060,kind:275008,minZoom:6,maxZoom:18},{name:"南海",lon:879731947,lat:482072784,kind:275008,minZoom:4,maxZoom:18},{name:"东海",lon:905759836,lat:453021121,kind:275008,minZoom:4,maxZoom:18},{name:"黄海",lon:905590036,lat:426182118,kind:275008,minZoom:4,maxZoom:18},{name:"渤海",lon:894107023,lat:411664222,kind:275008,minZoom:4,maxZoom:18},{name:"沈阳K11购物艺术中心",lon:905039684,lat:399588952,kind:160205,minZoom:12,maxZoom:18}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkEnvelope=undefined,e.Bounds=a;var r=n(15),i=n(82),o=e.SkEnvelope=function(){this.startLon=-1,this.startLat=-1,this.endLon=-1,this.endLat=-1};function a(t,e){this.southWest=null,this.northEast=null,this.set(t,e)}o.prototype.ext2Inc=function(t,e){-1==this.startLon&&-1==this.startLat&&-1==this.endLon&&-1==this.endLat?(this.startLon=t,this.startLat=e,this.endLon=t,this.endLat=e):(this.startLon>t&&(this.startLon=t),this.startLat>e&&(this.startLat=e),this.endLon<t&&(this.endLon=t),this.endLat<e&&(this.endLat=e))},o.prototype.inc=function(t,e){return t>this.startLon&&t<this.endLon&&e>this.startLat&&e<this.endLat},a.prototype={set:function(t,e){t&&(this.southWest=(0,r.toLngLat)(t)),e&&(this.northEast=(0,r.toLngLat)(e))},containsPoint:function(t){return(t=(0,r.toLngLat)(t)).lat<=this.northEast.lat&&t.lat>=this.southWest.lat&&t.lng<=this.northEast.lng&&t.lng>=this.southWest.lng},contains:function(t){return this.containsPoint(t)},containsBounds:function(t){return!!t&&(this.containsPoint(t.southWest)&&this.containsPoint(t.northEast)||t.containsPoint(this.southWest)&&t.containsPoint(this.northEast))},ext2Inc:function(t){if(t){var e=(0,r.toLngLat)(t);this.southWest?(this.southWest.lng=Math.min(this.southWest.lng,e.lng),this.southWest.lat=Math.min(this.southWest.lat,e.lat)):this.southWest=new r.LngLat(e.lng,e.lat),this.northEast?(this.northEast.lng=Math.max(this.northEast.lng,e.lng),this.northEast.lat=Math.max(this.northEast.lat,e.lat)):this.northEast=new r.LngLat(e.lng,e.lat)}},isIntersection:function(t){return!!t&&(this.southWest.lat<=t.northEast.lat&&this.southWest.lng<=t.northEast.lng&&this.northEast.lat>=t.southWest.lat&&this.northEast.lng>=t.southWest.lng)},getIntersectionBounds:function(t){return console.log(t),t&&this.isIntersection(t)?new a(new r.LngLat(Math.max(this.southWest.lng,t.southWest.lng),Math.max(this.southWest.lat,t.southWest.lat)),new r.LngLat(Math.min(this.northEast.lng,t.northEast.lng),Math.min(this.northEast.lat,t.northEast.lat))):null},getCenter:function(){return new r.LngLat(this.southWest.lng/2+this.northEast.lng/2,this.southWest.lat/2+this.northEast.lat/2)},getSouthWest:function(){return this.southWest},getNorthEast:function(){return this.northEast},getNorthWest:function(){if(this.northEast&&this.southWest)return(0,r.toLngLat)([this.southWest.lng,this.northEast.lat])},getSize:function(){return new i.Size(this.northEast.lng-this.southWest.lng,this.northEast.lat-this.southWest.lat)},toString:function(){return this},equals:function(t){return!!(t&&t instanceof a)&&(this.northEast.equals(t.northEast)&&this.southWest.equals(t.southWest))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.distance=function(t,e){return t?(t=(0,r.toLngLat)(t),e=(0,r.toLngLat)(e),t.distance(e)):0},e.lnglatCompare=function(t,e){return!!t&&(t=(0,r.toLngLat)(t),e=(0,r.toLngLat)(e),t.equals(e))},e.pixelCompare=function(t,e){return!!t&&(t=(0,o.toPixel)(t),e=(0,o.toPixel)(e),t.equals(e))},e.rectangleCompare=function(t,e){return!!t&&t.equals(e)},e.isPointInRectangle=function(t,e){return!!t&&(e=(0,r.toLngLat)(e),t.containsPoint(e))},e.isRectangleInRectangle=function(t,e){return!!t&&t.containsBounds(e)},e.intersectionRectangel=function(t,e){return t?t.getIntersectionBounds(e):null},e.enlargeRectangelWithPoint=function(t,e){if(!t)return;return e=(0,r.toLngLat)(e),t.ext2Inc(e)},e.getCenterFromRectange=function(t){return t?t.getCenter():null},e.DiagonalCoordinates=function(t){return t?[t.getSouthWest(),t.getNorthEast()]:null},e.spanOfRectangle=function(t){if(!t)return null;var e=t.getSouthWest(),n=t.getNorthEast(),r=parseFloat(e.lng)-parseFloat(n.lng);return Math.abs(r)},e.spherePlane=function(t){var e=(0,r.toLngLat)(t);return(0,i.SkLonLat2Mercator)(e.lng,e.lat)};var r=n(15),i=n(17),o=n(32)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.FpsHelper=function i(){var t=0,e=document.createElement("div");function n(t){return e.appendChild(t.dom),t}function r(n){for(var r=0;r<e.children.length;r++)e.children[r].style.display=r===n?"block":"none";t=n}e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(n){n.preventDefault(),r(++t%e.children.length)},!1);var o=(performance||Date).now(),a=o,s=0,u=n(new i.Panel("FPS","#0ff","#002")),l=n(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=n(new i.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:n,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(l.update(t-o,200),t>=a+1e3&&(u.update(1e3*s/(t-a),100),a=t,s=0,c)){var e=performance.memory;c.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:e,setMode:r}};r.Panel=function(t,e,n){var r=Infinity,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,u=48*a,l=3*a,c=2*a,h=3*a,f=15*a,p=74*a,d=30*a,m=document.createElement("canvas");m.width=s,m.height=u,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,s,u),g.fillStyle=e,g.fillText(t,l,c),g.fillRect(h,f,p,d),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,f,p,d),{dom:m,update:function(u,v){r=Math.min(r,u),i=Math.max(i,u),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,f),g.fillStyle=e,g.fillText(o(u)+" "+t+" ("+o(r)+"-"+o(i)+")",l,c),g.drawImage(m,h+a,f,p-a,d,h,f,p-a,d),g.fillRect(h+p-a,f,a,d),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+p-a,f,a,o((1-u/v)*d))}}},e["default"]=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapGesture=i;var r=n(1);n(26);function i(t){this.picker={layer:null,obj:null,px:null},this.map=t}Object.assign(i.prototype,{singleTap:function(t){for(var e=0;e<this.map.layers.length;e++){var n=this.map.layers[e];if(n&&n.getPoiAround){var r=n.getPoiAround(t);if(null!=r)return this.setPickObj(null),r}}this.picker.px=t,this.map.postInvalidate()},getPickID:function(t,e){var n=this.picker.px.x,i=this.map._glHeight-this.picker.px.y,o=new Uint8Array(4);e&&(n-=e.x,i-=e.y),this.picker.layer=null,this.picker.obj=null,t.readPixels(n,i,1,1,t.RGBA,t.UNSIGNED_BYTE,o);var a={r:o[0],g:o[1],b:o[2],a:255};return(0,r.color2Int)(a)},setPickObj:function(t,e){t&&e?(this.picker.layer=t,this.picker.obj=e):(this.picker.layer=null,this.picker.obj=null)},isPicking:function(t){return t&&(this.picker.px=null),null!=this.picker.px},getPickObj:function(t){return this.picker.layer==t?this.picker.obj:null}})},function(t,e,n){var r=n(533);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};i.insertInto=undefined;n(159)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(158)(!1)).push([t.i,'.cmmap-drags,.cmmap-e,.cmmap-layers {\n    width: 100%;\n    height: 100%\n}\n\n.cmmap-drags,.cmmap-e ,.cmmap-layers{\n    position: absolute;\n    left: 0;\n    top: 0;\n    overflow: hidden\n}\n.amap-custom {\n    top: 0;\n    left: 0;\n    position: absolute\n}\n.cmmap-layers {\n    z-index: 0\n}\n.cmmap-overlays, .cmmap-markers, .cmmap-marker{\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n.cmmap-markers{\n    z-index: 120;\n}\n.cmmap-overlays{\n    z-index: 110;\n    cursor: default;\n}\n.cmmap-icon{\n    position: relative;\n    z-index: 1;\n    overflow: hidden;\n}\n.cmmap-icon img{\n    position: absolute;\n    z-index: -1;\n}\n.cmmap-marker-content{\n    position: relative;\n}\n.cmmap-overlay-text-container{\n    display: block;\n    width: auto;\n    word-break: keep-all;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    background: #fff;\n    padding: 2px 3px;\n    border: 1px solid #ccc;\n    border-radius: 3px;\n}\n.cmmap-marker-label{\n    position: absolute;\n    z-index: 2;\n    border: 1px solid blue;\n    background-color: white;\n    white-space: nowrap;\n    cursor: default;\n    padding: 3px;\n    font-size: 12px;\n}\n.cmmap-controls{\n    z-index:10;\n\n}\n\n.cmmap-controlbar{\n    position:absolute;\n    width: auto;\n    height: auto;\n}\n.cmmap-controlbar {\n    transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    -webkit-transform: scale(0.5);\n    -o-transform: scale(0.5);\n    -moz-transform: scale(0.5);\n    transform-origin: 100% 0;\n    -ms-transform-origin: 100% 0;\n    -webkit-transform-origin: 100% 0;\n    -o-transform-origin: 100% 0;\n    -moz-transform-origin: 100% 0;\n}\n.cmmap-luopan{\n    width: 184px;\n\n}\n.cmmap-luopan, .cmmap-luopan-bg {\n    height: 184px;\n    background: url(http://61.189.20.113:8000/images/ctb.png) -44px -60px no-repeat;\n}\n.cmmap-luopan-bg-active {\n    background: url(http://61.189.20.113:8000/images/ctb.png) -254px -60px no-repeat\n}\n.cmmap-compass {\n    top: 92px;\n    left: 50%;\n    position: absolute;\n    margin: -48px;\n    width: 96px;\n    height: 96px;\n    z-index: 0;\n    background: url(http://61.189.20.113:8000/images/ctb.png) -462px -52px no-repeat;\n}\n.cmmap-pointers {\n    position: absolute;\n    width: 60px;\n    height: 96px;\n    top: 0;\n    left: 18px;\n    border: none;\n    z-index: 2;\n    background: url(http://61.189.20.113:8000/images/ctb.png) -562px -52px no-repeat;\n}\n.cmmap-pitchDown, .cmmap-pitchUp {\n    width: 60px;\n    height: 45px;\n    position: absolute;\n    margin-left: -30px;\n    left: 50%;\n    z-index: 1;\n    background: url(http://61.189.20.113:8000/images/ctb.png) -605px -98px no-repeat;\n}\n.cmmap-pitchUp {\n    top: 7px;\n}\n.cmmap-pitchDown {\n    top: 132px;\n    transform: rotateZ(180deg);\n    -ms-transform: rotateZ(180deg);\n    -webkit-transform: rotateZ(180deg);\n    -o-transform: rotateZ(180deg);\n    -moz-transform: rotateZ(180deg);\n}\n.cmmap-pitch-active {\n    background: url(http://61.189.20.113:8000/images/ctb.png) -605px -47px no-repeat\n}\n.cmmap-controlbar-disable {\n    opacity: .4;\n}\n.cmmap-rotateLeft, .cmmap-rotateRight {\n    width: 42px;\n    height: 104px;\n    top: 38px;\n    position: absolute;\n    z-index: 2;\n    background: url(http://61.189.20.113:8000/images/ctb.png) -603px -154px no-repeat;\n}\n.cmmap-rotateLeft {\n    left: 10px;\n}\n.cmmap-rotateRight {\n    right: 10px;\n    transform: rotateY(180deg);\n    -ms-transform: rotateY(180deg);\n    -webkit-transform: rotateY(180deg);\n    -o-transform: rotateY(180deg);\n    -moz-transform: rotateY(180deg);\n}\n.cmmap-rotate-active {\n    background: url(http://61.189.20.113:8000/images/ctb.png) -557px -153px no-repeat\n}\n.cmmap-controlbar-zoom{\n    width: 70px;\n    height: 184px;\n    margin: 20px 0 0 56px;\n    background: url(http://61.189.20.113:8000/images/ctb.png) -154px -292px no-repeat;\n}\n\n.cmmap-controlbar-zoom-add, .cmmap-controlbar-zoom-sub {\n    width: 70px;\n    height: 70px;\n    position: absolute;\n    z-index: 1;\n}\n.cmmap-controlbar-zoom-add {\n    margin-top: 15px;\n    background: url(http://61.189.20.113:8000/images/ctb.png) -236px -269px no-repeat;\n}\n\n.cmmap-controlbar-zoom-add-active {\n    background: url(http://61.189.20.113:8000/images/ctb.png) -236px -375px no-repeat\n}\n\n.cmmap-controlbar-zoom-sub {\n    margin-top: 105px;\n    background: url(http://61.189.20.113:8000/images/ctb.png) -237px -327px no-repeat\n}\n\n.cmmap-controlbar-zoom-sub-active {\n    background: url(http://61.189.20.113:8000/images/ctb.png) -236px -439px no-repeat\n}\n\n\n.cmmap-scalecontrol {\n    position: absolute;\n    z-index: 150;\n}\n\n.cmmap-scale-text {\n    text-align: center;\n    font-size: 10px;\n}\n\n.cmmap-scale-line {\n    position: relative;\n    height: 8px;\n}\n\n.cmmap-scale-line div {\n    -webkit-box-sizing: content-box!important;\n    -moz-box-sizing: content-box!important;\n    box-sizing: content-box!important;\n}\n\n.cmmap-scale-edgeleft,.cmmap-scale-middle,.cmmap-scale-edgeright {\n    position: absolute;\n    background-color: #333;\n    overflow: hidden;\n}\n\n.cmmap-scale-edgeleft,.cmmap-scale-edgeright {\n    width: 1px;\n    _width: 3px;\n    height: 6px;\n    _height: 8px;\n    border: solid 1px #fff;\n}\n\n.cmmap-scale-middle {\n    height: 2px;\n    _height: 4px;\n    left: 2px;\n    top: 2px;\n    border-top: solid 1px #fff;\n    border-bottom: solid 1px #fff;\n}\n\n.cmmap-logo{\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    z-index: 160;\n    height: 24px;\n    line-height: 24px;\n    margin: 0 8px;\n}\n.cmmap-copyright{\n    position: absolute;\n    display: block !important;\n    left: 80px;\n    height: 24px;\n    bottom: 0;\n    font-size: 11px;\n    line-height: 24px;\n    font-family: Arial, sans-serif;\n    z-index: 160;\n}\n\n\n\n.cmmap-toolbar {\n    z-index: 150;\n}\n\n.cmmap-toolbar {\n    position: absolute;\n    width: 52px;\n    overflow: visible;\n}\n\n.cmmap-pancontrol {\n    width: 52px;\n    height: 52px;\n    background: url(http://61.189.20.113:8000/images/map_view.png) 0 -140px;\n    position: absolute;\n    _background: url(http://61.189.20.113:8000/images/map_view.gif);\n}\n\n.cmmap-pan-left,.cmmap-pan-top,.cmmap-pan-right,.cmmap-pan-bottom {\n    position: absolute;\n    cursor: pointer;\n}\n\n.cmmap-pan-left,.cmmap-pan-right {\n    width: 12px;\n    height: 18px;\n    top: 17px;\n}\n\n.cmmap-pan-top,.cmmap-pan-bottom {\n    width: 18px;\n    height: 12px;\n    left: 17px;\n}\n\n.cmmap-pan-left {\n    left: 8px;\n}\n\n.cmmap-pan-right {\n    left: 32px;\n}\n\n.cmmap-pan-top {\n    top: 8px;\n}\n\n.cmmap-pan-bottom {\n    top: 31px;\n}\n\n.cmmap-pan-left:hover,.cmmap-pan-top:hover,.cmmap-pan-right:hover,.cmmap-pan-bottom:hover {\n    background: url(http://61.189.20.113:8000/images/map_view.png);\n    _background: url(http://61.189.20.113:8000/images/map_view.gif);\n}\n\n.cmmap-pan-left:hover {\n    background-position: -52px -110px;\n}\n\n.cmmap-pan-top:hover {\n    background-position: -70px -112px;\n}\n\n.cmmap-pan-right:hover {\n    background-position: -61px -110px;\n}\n\n.cmmap-pan-bottom:hover {\n    background-position: -84px -110px;\n}\n\n.cmmap-pan-left-hover {\n    _background: url(http://61.189.20.113:8000/images/map_view.gif);\n    background-position: -52px -110px;\n}\n\n.cmmap-pan-top-hover {\n    _background: url(http://61.189.20.113:8000/images/map_view.gif);\n    background-position: -70px -112px;\n}\n\n.cmmap-pan-right-hover {\n    _background: url(http://61.189.20.113:8000/images/map_view.gif);\n    background-position: -61px -110px;\n}\n\n.cmmap-pan-bottom-hover {\n    _background: url(http://61.189.20.113:8000/images/map_view.gif);\n    background-position: -84px -110px;\n}\n\n.cmmap-zoomcontrol {\n    width: 24px;\n    position: absolute;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n}\n\n.cmmap-zoom-plus,.cmmap-zoom-minus,.cmmap-zoom-cursor,.cmmap-zoom-label-street,.cmmap-zoom-label-city,.cmmap-zoom-label-province,.cmmap-zoom-label-country {\n    background: url(http://61.189.20.113:8000/images/map_view.png);\n    _background: url(http://61.189.20.113:8000/images/map_view.gif);\n    cursor: pointer;\n}\n\n.cmmap-zoom-ruler,.cmmap-zoom-mask {\n    background: url(http://61.189.20.113:8000/images/toolbar_rbg.png);\n    cursor: pointer;\n}\n\n.cmmap-zoom-ruler {\n    overflow: visible;\n}\n\n.cmmap-zoom-plus,.cmmap-zoom-minus {\n    width: 24px;\n    height: 21px;\n}\n\n.cmmap-zoom-plus {\n    background-position: 0 -217px;\n}\n\n.cmmap-zoom-plus:hover {\n    background-position: 0 -194px;\n}\n\n.cmmap-zoom-minus {\n    background-position: -26px -224px;\n}\n\n.cmmap-zoom-minus:hover {\n    background-position: -26px -195px;\n}\n\n.cmmap-zoom-plus2:hover {\n    background-position: -50px -194px;\n    cursor: default;\n}\n\n.cmmap-zoom-minus2:hover {\n    background-position: -50px -223px;\n    cursor: default;\n}\n\n.cmmap-zoom-ruler {\n    width: 12px;\n    height: 147px;\n    position: relative;\n    left: 6px;\n    background-position: 0 0;\n}\n\n.cmmap-zoom-mask,.cmmap-zoom-cursor,.cmmap-zoom-labels,.cmmap-zoom-label-street,.cmmap-zoom-label-city,.cmmap-zoom-label-province,.cmmap-zoom-label-country {\n    position: absolute;\n}\n\n.cmmap-zoom-mask {\n    width: 12px;\n    height: 106px;\n    background-position: -14px 0\n}\n\n.cmmap-zoom-cursor {\n    width: 24px;\n    height: 20px;\n    left: -6px;\n    top: 106px;\n    background-position: -127px -164px;\n}\n\n.cmmap-zoom-cursor:hover {\n    background-position: -127px -141px;\n}\n\n.cmmap-zoom-labels {\n    display: none;\n}\n\n.cmmap-zoom-label-street,.cmmap-zoom-label-city,.cmmap-zoom-label-province,.cmmap-zoom-label-country {\n    width: 39px;\n    height: 31px;\n    left: 20px;\n}\n\n.cmmap-zoom-label-street {\n    top: 0;\n    background-position: -87px -140px;\n}\n\n.cmmap-zoom-label-city {\n    top: 54px;\n    background-position: -87px -171px;\n}\n\n.cmmap-zoom-label-province {\n    top: 92px;\n    background-position: -87px -203px;\n}\n\n.cmmap-zoom-label-country {\n    top: 129px;\n    background-position: -87px -235px;\n}\n\n.cmmap-locate {\n    position: absolute;\n    width: 18px;\n    height: 18px;\n    background: url(http://61.189.20.113:8000/images/map_view.png);\n    _background: url(http://61.189.20.113:8000/images/map_view.gif);\n    background-position: -130px -185px;\n    cursor: pointer;\n}\n\n.cmmap-geo {\n    width: 30px;\n    height: 30px;\n    cursor: pointer;\n    bottom: 18px;\n    right: 7px;\n}\n\n.cmmap-toolbar-geo {\n    position: absolute;\n}\n\n.cmmap-touch-toolbar .cmmap-zoomcontrol {\n    position: absolute;\n    right: 4px;\n    bottom: -80px;\n    z-index: 500;\n    width: 35px;\n    background-color: white;\n    background-color: rgba(255,255,255,0.9);\n    border-radius: 3px;\n    border: 1px solid #ccc;\n    box-shadow: 1px 1px 10px 0 #ccc;\n}\n\n.cmmap-touch-toolbar .cmmap-zoomcontrol:after {\n    position: absolute;\n    content: "";\n    height: 1px;\n    background: #ddd;\n    top: 48px;\n    width: 60%;\n    margin: auto;\n    left: 0;\n    right: 0;\n}\n\n.cmmap-toolbar-geo-secc {\n    background-image: url(http://61.189.20.113:8000/images/loc.png)!important;\n    background-size: 22px 22px!important;\n    background-position-x: 6px!important\n}\n\n.cmmap-touch-toolbar .cmmap-geo {\n    background: #fff url(http://61.189.20.113:8000/images/loc_gray.png) 50% 50% no-repeat;\n    width: 35px;\n    height: 35px;\n    border: 1px solid #ccc;\n    border-radius: 3px;\n    right: 4px;\n}\n\n.cmmap-touch-toolbar .cmmap-locate-loading {\n    background-image: url(http://61.189.20.113:8000/images/loading.gif);\n}\n\n.cmmap-zoom-touch-plus {\n    margin-bottom: 5px;\n}\n\ncmmap-zoom-touch-plus,.cmmap-zoom-touch-minus {\n    width: 100%;\n    height: 43px;\n    background-color: white;\n    background-color: rgba(255,255,255,0.5);\n}\n\n.cmmap-zoom-touch-plus>div,.cmmap-zoom-touch-minus>div {\n    margin: auto;\n    font-size: 26px;\n    line-height: 43px;\n    font-family: verdana;\n    text-align: center;\n    color: #666;\n    height: 100%;\n    cursor: pointer;\n}\n\n.cmmap-zoom-touch>div {\n    opacity: .2;\n}\n\n\n.cmmap-overviewcontrol {\n    z-index: 150;\n    width: 120px;\n    height: 120px;\n    background: #fff;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n}\n\n.cmmap-overview-main {\n    width: 115px;\n    height: 115px;\n    position: absolute;\n    left: 5px;\n    top: 5px;\n    overflow: hidden;\n}\n\n.cmmap-overviewcontrol,.cmmap-overview-main {\n    border-top: solid 1px #ccc;\n    border-left: solid 1px #ccc;\n}\n\n.cmmap-overview-map {\n    position: absolute;\n}\n\n.cmmap-overview-button {\n    width: 17px;\n    height: 17px;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    background: url(http://61.189.20.113:8000/images/mapcontrols.png);\n    background-position: -40px -386px;\n    cursor: pointer;\n}\n\n.cmmap-overview-win {\n    width: 62px;\n    height: 35px;\n    background: #91a3d8;\n    opacity: .25;\n    border: solid 2px #44b;\n    filter: alpha(opacity=25);\n    position: absolute;\n    top: 40px;\n    left: 26px;\n    cursor: move;\n}\n\n\n.cmmap-menu {\n    position: absolute;\n    z-index: 140;\n}\n.cmmap-menu-outer {\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n}\n.cmmap-menu-outer {\n    box-shadow: 0 3px 14px rgba(0,0,100,0.6);\n    background: none repeat scroll 0 0 white;\n    border-radius: 2px;\n    padding: 1px;\n    text-align: left;\n    border: #c0c0c0 solid 1px;\n}\nul.cmmap-menu-outer li {\n    cursor: pointer;\n    height: 35px;\n    line-height: 35px;\n    word-break: break-all;\n    padding: 0 10px;\n    font-size: 12px;\n    white-space: nowrap;\n}\n\nul.cmmap-menu-outer li a {\n    text-decoration: none;\n    font-size: 13px;\n    margin: 0 5px;\n    color: #000;\n    padding: 5px 5px;\n}\n\nul.cmmap-menu-outer li:hover {\n    background-color: #f3f3ee;\n}\n\n.cmmap-info {\n    position: absolute;\n    left: 0;\n    z-index: 140;\n    width: 320px\n}\n\n\n\n.cmmap-info-close {\n    position: absolute;\n    right: 5px;\n    _right: 12px;\n    right: 11px;\n    top: 5px;\n    _top: 2px;\n    _top: 2px;\n    color: #c3c3c3;\n    text-decoration: none;\n    font: bold 16px/14px Tahoma,Verdana,sans-serif;\n    width: 14px;\n    height: 14px\n}\n\n.cmmap-info-outer,.cmmap-menu-outer {\n    box-shadow: 0 3px 14px rgba(0,0,100,0.6);\n    background: none repeat scroll 0 0 white;\n    border-radius: 2px;\n    padding: 1px;\n    text-align: left;\n    border: #c0c0c0 solid 1px\n}\n\n.cmmap-info-outer:hover,.cmmap-menu-outer:hover {\n    box-shadow: 0 3px 14px rgba(0,0,0,0.75)\n}\n\n.cmmap-info-content {\n    background: #fff;\n    border: 1px solid #ccc;\n    padding:10px 18px 10px 10px;\n    _margin: 0 10px;\n    _padding: 10px 0;\n    line-height: 1.4;\n    overflow: auto\n}\n\n\n.cmmap-info {\n    _width: 320px\n}\n\n.cmmap-info-sharp {\n    height: 23px;\n    margin: 0 auto;\n    overflow: hidden;\n    position: relative;\n    top: -1px;\n    width: 30px;\n    background-image: url(http://61.189.20.113:8000/images/sharp.png);\n    _background-image: url(http://61.189.20.113:8000/images/sharp.gif)\n}\n\n\n.cmmap-ui-misc-positionpicker{\n    width:0;\n    height:0;\n    overflow:visible;\n    position:absolute;\n    top:50%;\n    left:50%\n}\n.cmmap-ui-misc-positionpicker-pin{\n    position:absolute\n}\n\n.cmmap-ui-smp-ifwn-container {\n    position: relative\n}\n\n.cmmap-ui-smp-ifwn-def-tr-close {\n    float: right;\n    width: 22px;\n    height: 22px;\n    text-align: center;\n    line-height: 22px;\n    margin: 3px 3px 0;\n    border-radius: 2px;\n    color: #666;\n    cursor: pointer\n}\n\n.cmmap-ui-smp-ifwn-def-tr-close:hover {\n    color: #333;\n    background: #eee\n}\n\n.cmmap-ui-smp-ifwn-def-tr-close:active {\n    color: #333;\n    background: #ccc\n}\n\n.cmmap-ui-smp-ifwn-content-body {\n    box-shadow: 0 0 .5px rgba(0,0,100,.6);\n    background: 0 0 #fff;\n    border-radius: 2px;\n    text-align: left;\n    border: silver solid 1px;\n    padding: 3px\n}\n\n.cmmap-ui-smp-ifwn-combo-sharp {\n    margin: -1px auto 0;\n    background: url(http://61.189.20.113:8000/images/siminfo_sharp.png) no-repeat -5px -16px;\n    width: 18px;\n    height: 9px\n}\n\n.cmmap-ui-smp-ifwn-info-title {\n    font-size: 110%;\n    font-weight: 400;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding: 2px 25px 2px 2px;\n    border-bottom: 1px solid #ccc;\n    margin: 0;\n    line-height: 150%\n}\n\n.cmmap-ui-smp-ifwn-info-content {\n    padding: 4px;\n    color: #666;\n    min-width: 120px\n}\n\n.heatmap-canvas {\n    width: 100%;\n    height: 100%;\n}\n',""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Earth=undefined;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1));e.Earth=r.extend({},{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(113);Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return r.Marker}});var i=n(233);Object.defineProperty(e,"Icon",{enumerable:!0,get:function(){return i.Icon}});var o=n(234);Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return o.Label}});var a=n(537);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return a.createtext}});var s=n(235);Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return s.create}});var u=n(237);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return u.create}});var l=n(538);Object.defineProperty(e,"CircleMarker",{enumerable:!0,get:function(){return l.create}});var c=n(238);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return c.create}});var h=n(539);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return h.create}});var f=n(540);Object.defineProperty(e,"BezierCurve",{enumerable:!0,get:function(){return f.create}});var p=n(541);Object.defineProperty(e,"ContextMenu",{enumerable:!0,get:function(){return p.create}});var d=n(240);Object.defineProperty(e,"InfoWindow",{enumerable:!0,get:function(){return d.InfoWindow}});var m=n(241);Object.defineProperty(e,"OverlayGroup",{enumerable:!0,get:function(){return m.OverlayGroup}});var g=n(542);Object.defineProperty(e,"GeoJSON",{enumerable:!0,get:function(){return g.create}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createtext=function(t){return new s(t)};var r=n(113),i=a(n(1)),o=a(n(11));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var s=r.Marker.extend({options:{text:null,textAlign:"center",verticalAlign:"middle",icon:null,style:null},initialize:function(t){i.setOptions(this,t);var e=i.extend({},this.options);r.Marker.prototype.initialize.call(this,e)},setStyle:function(t){t&&this._text_container&&o.setStyle(this._text_container,t)},setText:function(t){this.options.text=t,i.isString(this.options.text)?this._text_container.innerHTML=this.options.text:i.isHTMLElement(this.options.text)&&this._text_container.appendChild(this.options.text)},update:function(){r.Marker.prototype.update.call(this),this._text_container||(this._text_container=o.create("div","cmmap-overlay-text-container"),i.isString(this.options.text)?this._text_container.innerHTML=this.options.text:i.isHTMLElement(this.options.text)&&this._text_container.appendChild(this.options.text),this.setContent(this._text_container),this.setStyle(this.options.style))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(t){var e=i.extend(t||{},{ismark:!0});return new r.Circle(e)};var r=n(237),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=undefined,e.create=function(t){return new u(t)};var r=n(47),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),o=n(114),a=n(17),s=n(34);var u=e.Ellipse=r.Overlay.extend({options:{zIndex:10,center:undefined,bubble:!1,cursor:undefined,radius:undefined,strokeColor:"#006600",strokeOpacity:.9,strokeWeight:1,fillColor:"#006600",fillOpacity:.9,strokeStyle:"solid",extData:undefined,strokeDasharray:undefined},initialize:function(t){i.setOptions(this,t)},prepareData:function(){if(!this.dataReady){var t=this.getMap().layergl;if(this.options.center&&this.options.radius){this.centerM=(0,a.SkLonLat2Mercator)(this.options.center.lng,this.options.center.lat);var e=new ArrayBuffer(2080),n=new DataView(e),r=(0,o.hexToRgb)(this.options.strokeColor,this.options.strokeOpacity),i=(0,o.hexToRgb)(this.options.fillColor,this.options.fillOpacity);n.setFloat32(0,0,!0),n.setFloat32(4,0,!0),n.setUint8(8,r.r),n.setUint8(9,r.g),n.setUint8(10,r.b),n.setUint8(11,r.a),n.setUint8(12,i.r),n.setUint8(13,i.g),n.setUint8(14,i.b),n.setUint8(15,i.a);for(var s=2*Math.PI/128,u=0;u<129;u++)n.setFloat32(16*(u+1)+0,Math.cos(u*s),!0),n.setFloat32(16*(u+1)+4,Math.sin(u*s),!0),n.setUint8(16*(u+1)+8,r.r),n.setUint8(16*(u+1)+9,r.g),n.setUint8(16*(u+1)+10,r.b),n.setUint8(16*(u+1)+11,r.a),n.setUint8(16*(u+1)+12,i.r),n.setUint8(16*(u+1)+13,i.g),n.setUint8(16*(u+1)+14,i.b),n.setUint8(16*(u+1)+15,i.a);this.vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vbo),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this.dataReady=!0}}},render:function(){if(this.dataReady&&this.vbo){var t=this.getMap(),e=t.layergl,n=t.GetCurProj(),r=s.mat4.clone(n),i=t.axes.toMapAxes(this.env.startLon,this.env.endLat);s.mat4.translate(r,r,[i.x,i.y,0]);var o=35*this.options.radius[0],a=35*this.options.radius[1];s.mat4.scale(r,r,[o,a,1]),e.useProgram(t.layerbgProgram.prog);var u=t.layerbgProgram;e.enableVertexAttribArray(u.a_Position),e.enableVertexAttribArray(u.a_Color),e.bindBuffer(e.ARRAY_BUFFER,this.vbo),e.uniformMatrix4fv(u.uniLocation,!1,r),e.vertexAttribPointer(u.a_Position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(u.a_Color,4,e.UNSIGNED_BYTE,!0,16,12),e.drawArrays(e.TRIANGLE_FAN,0,130),this.options.strokeWeight&&(e.lineWidth(this.options.strokeWeight),e.vertexAttribPointer(u.a_Position,2,e.FLOAT,!1,16,0),e.vertexAttribPointer(u.a_Color,4,e.UNSIGNED_BYTE,!0,16,8),e.drawArrays(e.LINE_STRIP,1,129)),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindBuffer(e.ARRAY_BUFFER,null)}},setCenter:function(t){},getCenter:function(){},getBounds:function(){},setRadius:function(t){},getRadius:function(){},setOptions:function(t){},getOptions:function(){},hide:function(){},show:function(){},setExtData:function(t){this.ext=t},getExtData:function(){return this.ext},contains:function(t){},onAdd:function(){this.update()},update:function(){this.prepareData(),this.render()},_contains:function(t){return!1}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BezierCurve=undefined,e.create=function(t){return new h(t)};var r=n(47),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),o=n(114),a=n(17),s=n(34),u=n(16),l=n(160),c=n(41);n(33);var h=e.BezierCurve=r.Overlay.extend({options:{path:null,strokeColor:"#000000",strokeOpacity:1,strokeWeight:2,strokeStyle:"solid",strokeDasharray:[10,10],zIndex:10,showDir:!1,bubble:!1,cursor:null,isOutline:!1,outlineColor:"#000000",borderWeight:1},initialize:function(t){i.setOptions(this,t)},prepareData:function(){if(!this.dataReady&&this.options.path){var t=this.getMap().layergl;this.env=new u.SkEnvelope;var e=this.options.path,n=[];if(n.push([]),i.isArray(e[0][0])){var r=(0,a.SkLonLat2Mercator)(e[0][e[0].length-1][0],e[0][e[0].length-1][1]);this.env.ext2Inc(r.x,r.y),n[0].push(r.x),n[0].push(r.y)}else{r=(0,a.SkLonLat2Mercator)(e[0][e[0].length-2],e[0][e[0].length-1]);this.env.ext2Inc(r.x,r.y),n[0].push(r.x),n[0].push(r.y)}for(var s=1;s<e.length;s++){var l=e[s];if(i.isArray(l[0]))for(var c=0;c<l.length;c++){var h=s-1;r=(0,a.SkLonLat2Mercator)(l[c][0],l[c][1]);this.env.ext2Inc(r.x,r.y),n.length-1<h&&(n.push([]),n[h].push(n[h-1][n[h-1].length-2]),n[h].push(n[h-1][n[h-1].length-1])),n[h].push(r.x),n[h].push(r.y)}else for(c=0;c<l.length;c+=2){h=s-1,r=(0,a.SkLonLat2Mercator)(l[c],l[c+1]);this.env.ext2Inc(r.x,r.y),n.length-1<h&&(n.push([]),0!=h&&(n[h].push(n[h-1][n[h-1].length-2]),n[h].push(n[h-1][n[h-1].length-1]))),n[h].push(r.x),n[h].push(r.y)}}var f=new ArrayBuffer(100*n.length*12),p=new DataView(f),d=(0,o.hexToRgb)(this.options.strokeColor,this.options.strokeOpacity);for(s=0;s<n.length;s++)for(var m=n[s].length/2-1,g=n[s].length/2,v=i.Pascal(g),y=0;y<100;y++){var x=y/100,b=0,_=0;for(c=0;c<n[s].length;c+=2){var w=c/2;b+=(n[s][c]-this.env.startLon)*Math.pow(1-x,m-w)*Math.pow(x,w)*v[w],_+=(this.env.endLat-n[s][c+1])*Math.pow(1-x,m-w)*Math.pow(x,w)*v[w]}p.setFloat32(12*(100*s+y)+0,b,!0),p.setFloat32(12*(100*s+y)+4,_,!0),p.setUint8(12*(100*s+y)+8,d.r),p.setUint8(12*(100*s+y)+9,d.g),p.setUint8(12*(100*s+y)+10,d.b),p.setUint8(12*(100*s+y)+11,d.a)}this.vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.vbo),t.bufferData(t.ARRAY_BUFFER,f,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this.PointCnt=100*n.length,this.dataReady=!0}},render:function(){if(this.dataReady&&this.vbo){var t=this.getMap(),e=t.layergl,n=t.GetCurProj(),r=s.mat4.clone(n),i=t.axes.toMapAxes(this.env.startLon,this.env.endLat);s.mat4.translate(r,r,[i.x,i.y,0]),e.useProgram(t.layerbgProgram.prog);var o=t.layerbgProgram;e.enableVertexAttribArray(o.a_Position),e.enableVertexAttribArray(o.a_Color),e.bindBuffer(e.ARRAY_BUFFER,this.vbo),e.uniformMatrix4fv(o.uniLocation,!1,r),e.vertexAttribPointer(o.a_Position,2,e.FLOAT,!1,12,0),e.vertexAttribPointer(o.a_Color,4,e.UNSIGNED_BYTE,!0,12,8),e.lineWidth(this.options.strokeWeight),e.drawArrays(e.LINE_STRIP,0,this.PointCnt)}},setPath:function(t){this.options.path=t,this.dataReady=!1;var e=this.getMap();e&&e.postInvalidate()},getPath:function(){return this.options.path},setOptions:function(t){i.setOptions(this,t)},getOptions:function(){return this.options},getLength:function(){return 0},getBounds:function(){if(this.env){var t=(0,a.SkMercatortoLonLat)(this.env.startLon,this.env.startLat),e=(0,a.SkMercatortoLonLat)(this.env.startLon,this.env.startLat);return new l.Bounds(new c.LngLat(t.lng,t.lat),new c.LngLat(e.lng,e.lat))}return null},hide:function(){this.visibility=!1},show:function(){this.visibility=!0},setExtData:function(t){this.ext=t},getExtData:function(){return this.ext},onAdd:function(){this.update()},update:function(){this.prepareData(),this.render()},_contains:function(t){return!1}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenu=undefined,e.create=function(t){return new u(t)};var r=n(47),i=s(n(1)),o=s(n(11)),a=n(15);function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var u=e.ContextMenu=r.Overlay.extend({options:{content:null,width:10},initialize:function(t){i.setOptions(this,t)},addItem:function(t,e,n){this.items||(this.items=[]),this.items.push({text:t,fn:e,number:n})},removeItem:function(t,e){if(this.items){var n=this.items.findIndex(function(n){return n.text=t&&n.fn==e});this.items.splice(n,1);var r=this.menuDiv.getElementsByClassName("ul"),i=r[0].getElementsByTagName("li");r[0].removeChild(i[n])}},onAdd:function(){console.log("onAdd");var t=this.getMap();t&&(this.options.content?this.menuDiv=this.createMenu(this.options.content,!0):(this.items&&(this.items.sort(function(t,e){return t.number-e.number}),this.menuDiv=this.createMenu(this.items,!1)),t.overlaysDiv.appendChild(this.menuDiv),t.on("mapmove",this.close,this)))},createMenu:function(t,e){var n=document.createElement("div");if(n.className="cmmap-menu",e)n.innerHTML=t;else{var r=document.createElement("ul");r.className="cmmap-menu-outer";for(var i=0,o=t.length;i<o;i++){var a=document.createElement("li");a.innerHTML=t[i].text,r.appendChild(a)}n.appendChild(r);var s=r.getElementsByTagName("li"),u=Array.prototype.slice.call(s),l=this;r.addEventListener("click",function(t){var e=(t=t||window.event).target||t.srcElement,n=u.indexOf(e);-1!=n&&(l.items[n].fn(),l.close())},!1)}return n},remove:function(){var t=this.getMap();t&&t.off("mapmove",this.close,this)},open:function(t,e){this.setMap(t),this.position=(0,a.toLngLat)(e),this.update(),o.show(this.menuDiv)},close:function(){o.hide(this.menuDiv)},update:function(){var t=this.getMap().lngLatToContainer(this.position);this.menuDiv.style.left=t.x+"px",this.menuDiv.style.top=t.y+"px"}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoJSON=undefined,e.create=function(t){return new h(t)};var r=c(n(1)),i=n(15),o=n(113),a=n(235),s=n(238),u=n(241),l=c(n(236));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var h=e.GeoJSON=u.OverlayGroup.extend({options:{geoJSON:null,getMarker:null,getPolyline:null,getPolygon:null},initialize:function(t){r.setOptions(this,t),u.OverlayGroup.prototype.initialize.call(this),this.options.geoJSON&&this.addData(this.options.geoJSON)},addData:function(t){var e,n,i,u=r.isArray(t)?t:t.features;if(u){for(e=0,n=u.length;e<n;e++)((i=u[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}!function l(t,e){var n,r,i,u="Feature"===t.type?t.geometry:t,c=e.options,h=u?u.coordinates:null,d=[],m=f;if(!h&&!u)return null;switch(u.type){case"Point":var g=m(h);return c.getMarker?c.getMarker(t,g):new o.Marker({position:g});case"MultiPoint":for(r=0,i=h.length;r<i;r++)g=m(h[r]),d.push(c.getMarker?c.getMarker(t,g):new o.Marker({position:g}));return e.addOverlays(d);case"LineString":case"MultiLineString":return n=p(h,"LineString"===u.type?0:1,m),e.addOverlay(c.getPolyline?c.getPolyline(t,n):new a.Polyline({path:n}));case"Polygon":case"MultiPolygon":return n=p(h,"Polygon"===u.type?1:2,m),n="Polygon"===u.type?n[0]:n,e.addOverlay(c.getPolygon?c.getPolygon(t,n):new s.Polygon({path:n}));case"GeometryCollection":for(r=0,i=u.geometries.length;r<i;r++){var v=l({geometry:u.geometries[r],type:"Feature",properties:t.properties},options);v&&d.push(v)}return e.addOverlays(d);default:throw new Error("Invalid GeoJSON object.")}}(t,this)},importData:function(t){t&&(this.options.geoJSON=t,this.options.geoJSON&&this.addData(this.options.geoJSON))},toGeoJSON:function(){var t=this.getOverlays();if(t&&0!=t.length){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t.toGeoJSON();return{type:"FeatureCollection",features:e}}}});function f(t){return new i.LngLat(t[0],t[1])}function p(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?p(t[o],e-1,n):(n||f)(t[o]),i.push(r);return i}function d(t,e){return e="number"==typeof e?e:6,t.alt!==undefined?[r.formatNum(t.lng,e),r.formatNum(t.lat,e),r.formatNum(t.alt,e)]:[r.formatNum(t.lng,e),r.formatNum(t.lat,e)]}function m(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?m(t[o],e-1,n,r):d(t[o],r));return!e&&n&&i.push(i[0]),i}function g(t,e){return t.feature?r.extend({},t.feature,{geometry:e}):function(t){if("Feature"===t.type||"FeatureCollection"===t.type)return t;return{type:"Feature",properties:{},geometry:t}}(e)}var v={toGeoJSON:function(t){return g(this,{type:"Point",coordinates:d(this.getPosition(),t)})}};o.Marker.include(v),a.Polyline.include({toGeoJSON:function(t){var e=!l.isFlat(this.getPath()),n=m(this.getPath(),e?1:0,!1,t);return g(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),s.Polygon.include({toGeoJSON:function(t){var e=!l.isFlat(this.getPath()),n=e&&!l.isFlat(this.getPath()[0]),r=m(this.getPath(),n?2:e?1:0,!0,t);return e||(r=[r]),g(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToolBar=e.Scale=e.ControlBar=e.MapType=e.IndoorFloor=e.OverView=undefined;var r=n(544);Object.defineProperty(e,"OverView",{enumerable:!0,get:function(){return r.create}});var i=n(242);Object.defineProperty(e,"IndoorFloor",{enumerable:!0,get:function(){return i.IndoorFloor}});var o=n(547);Object.defineProperty(e,"MapType",{enumerable:!0,get:function(){return o.MapType}});var a=n(605),s=n(606),u=n(607);e.ControlBar=a.create,e.Scale=s.create,e.ToolBar=u.ToolBar},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(t){return new f(t)};var r=n(75),i=h(n(1)),o=h(n(11)),a=n(16),s=n(33),u=h(n(54)),l=n(66),c=n(35);function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var f=r.Control.extend({options:{tileLayer:null,isOpen:!1,visible:!0},tileSize:256,maptype:2,initialize:function(t){i.setOptions(this,t),"pc"==(0,s.SkGetBrowserType)()?(this.maptype=2,this.tileSize=256):(this.maptype=14,this.tileSize=512)},onAdd:function(t){this.images=[];var e=o.create("div","cmmap-overviewcontrol"),n=o.create("div","cmmap-overview-main",e);o.setStyle(n,{width:"115px",height:"115px"});var r=o.create("div","cmmap-overview-map",n);o.setStyle(r,{width:"115px",height:"115px"});for(var i=0;i<4;i++){var a=o.create("img","",r);o.setStyle(a,{position:"absolute"}),this.images[i]=a}var s=o.create("div","cmmap-overview-win",n);o.setStyle(s,{width:"36px",height:"53px",left:"40px",top:"31px",display:"bloc"});var l=o.create("div","cmmap-overview-win",n);o.setStyle(l,{width:"36px",height:"53px",left:"40px",top:"31px",display:"blocx"});var c=o.create("div","cmmap-overview-button",e);return this.windDiv=l,this.buttonDiv=c,this.overviewDiv=e,this._resetmapview(this.options.isOpen),this.getTiles(),u.on(this.buttonDiv,"click",this._buttonchange,this),t.on("zoomend",this.getTiles,this),t.on("moveend",this.getTiles,this),e},onRemove:function(t){u.off(this.buttonDiv,"click",this._buttonchange,this),t.off("zoomend",this.getTiles,this),t.off("moveend",this.getTiles,this)},_buttonchange:function(){!this.options.isOpen?this.open():this.close()},_winchange:function(){},show:function(){this.options.visible=!0,this._resetoverview(!0)},hide:function(){this.options.visible=!1,this._resetoverview(!1)},open:function(){this.options.isOpen=!0,this._resetmapview(!0)},close:function(){this.options.isOpen=!1,this._resetmapview(!1)},_resetoverview:function(t){this.overviewDiv&&(t?(o.setStyle(this.overviewDiv,{visibility:"visible"}),this.fire("show")):(o.setStyle(this.overviewDiv,{visibility:"hidden"}),this.fire("hide")))},_resetmapview:function(t){this.overviewDiv&&this.overviewDiv&&(t?(o.setStyle(this.buttonDiv,{backgroundPosition:"-40px -386px"}),o.setStyle(this.overviewDiv,{width:"120px",height:"120px"}),this.fire("open")):(o.setStyle(this.buttonDiv,{backgroundPosition:"-40px -405px"}),o.setStyle(this.overviewDiv,{width:"17px",height:"17px"}),this.fire("close")))},getTiles:function(){if(this.getMap()){var t=this.getMap(),e=t.axes.getCenter(),n=t.mapController.getZoom()-4<3?3:t.mapController.getZoom()-4,r=1<<n,i=l.MMConstant.diameter/r,s=i/this.tileSize*57.5,u=new a.SkEnvelope;u.startLon=e.getMX()-s,u.startLat=e.getMY()-s,u.endLon=e.getMX()+s,u.endLat=e.getMY()+s;for(var c=Math.floor(u.startLon/i),h=Math.floor(u.endLon/i),f=Math.floor(u.startLat/i),p=Math.floor(u.endLat/i),d=[],m=c;m<=h;m++)for(var g=f;g<=p;g++){var v=m,y=g;d.push(this.gettile(u,n,v,y))}for(var x=0;x<4;x++)if(x<d.length){var b=d[x];b.visibility="inherit";var _=b.url;delete b.url,this.images[x].setAttribute("src",_),o.setStyle(this.images[x],b)}else o.setStyle(this.images[x],{visibility:"hidden"})}},gettile:function(t,e,n,r){var i=l.MMConstant.diameter/Math.pow(2,e),o=new a.SkEnvelope;return o.startLon=n*i,o.startLat=r*i,o.endLon=o.startLon+i,o.endLat=o.startLat+i,{url:c.UrlConf.getUrl("tile_url",{"{z}":e,"{y}":r,"{x}":n,"{type}":this.maptype}),left:this.tileSize/i*(o.startLon-t.startLon)+"px",top:this.tileSize/i*(o.startLat-t.startLat)+"px"}},setTileLayer:function(){},getTileLayer:function(){}})},function(t,e,n){var r=n(546);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};i.insertInto=undefined;n(159)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(158)(!1)).push([t.i,'.amap-indoor-map .label-canvas {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0\n}\n\n.amap-indoor-map .highlight-image-con * {\n\tpointer-events: none\n}\n\n.amap-indoormap-floorbar-control {\n\tposition: absolute;\n\tmargin: auto 0;\n\tbottom: 165px;\n\tright: 12px;\n\twidth: 35px;\n\ttext-align: center;\n\tline-height: 1.3em;\n\toverflow: hidden;\n\tpadding: 0 2px\n}\n\n.amap-indoormap-floorbar-control .panel-box {\n\tbackground-color: rgba(255,255,255,.9);\n\tborder-radius: 3px;\n\tborder: 1px solid #ccc\n}\n\n.amap-indoormap-floorbar-control .select-dock {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\tbox-sizing: border-box;\n\theight: 30px;\n\tborder: solid #4196ff;\n\tborder-width: 0 2px;\n\tborder-radius: 2px;\n\tpointer-events: none;\n\tbackground: linear-gradient(to bottom,#f6f8f9 0,#e5ebee 50%,#d7dee3 51%,#f5f7f9 100%)\n}\n\n.amap-indoor-map .transition {\n\ttransition: opacity .2s\n}\n.amap-indoormap-floorbar-control .transition {\n\ttransition: top .2s,margin-top .2s\n}\n\n.amap-indoormap-floorbar-control .select-dock:after,.amap-indoormap-floorbar-control .select-dock:before {\n\tcontent: "";\n\tposition: absolute;\n\twidth: 0;\n\theight: 0;\n\tleft: 0;\n\ttop: 10px;\n\tborder: solid transparent;\n\tborder-width: 4px;\n\tborder-left-color: #4196ff\n}\n\n.amap-indoormap-floorbar-control .select-dock:after {\n\tright: 0;\n\tleft: auto;\n\tborder-left-color: transparent;\n\tborder-right-color: #4196ff\n}\n\n.amap-indoormap-floorbar-control.is-mobile {\n\twidth: 37px\n}\n\n.amap-indoormap-floorbar-control.is-mobile .floor-btn {\n\theight: 35px;\n\tline-height: 35px\n}\n\n.amap-indoormap-floorbar-control.is-mobile .select-dock {\n\theight: 35px;\n\ttop: 36px\n}\n\n.amap-indoormap-floorbar-control.is-mobile .select-dock:after,.amap-indoormap-floorbar-control.is-mobile .select-dock:before {\n\ttop: 13px\n}\n\n.amap-indoormap-floorbar-control.is-mobile .floor-list-box {\n\theight: 105px\n}\n\n.amap-indoormap-floorbar-control .floor-list-item .floor-btn {\n\tcolor: #555;\n\tfont-family: "Times New Roman",sans-serif,"Microsoft Yahei";\n\tfont-size: 16px\n}\n\n.amap-indoormap-floorbar-control .floor-list-item.selected .floor-btn {\n\tcolor: #000\n}\n.amap-indoormap-floorbar-control .floor-list-item.disable .floor-btn {\n\tcolor: #999\n}\n\n.amap-indoormap-floorbar-control .floor-btn {\n\theight: 28px;\n\tline-height: 28px;\n\toverflow: hidden;\n\tcursor: pointer;\n\tposition: relative;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\t-khtml-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n\n.amap-indoormap-floorbar-control .floor-btn:hover {\n\tbackground-color: rgba(221,221,221,.4)\n}\n\n.amap-indoormap-floorbar-control .floor-minus,.amap-indoormap-floorbar-control .floor-plus {\n\tposition: relative;\n\ttext-indent: -1000em\n}\n\n.amap-indoormap-floorbar-control .floor-minus:after,.amap-indoormap-floorbar-control .floor-plus:after {\n\tcontent: "";\n\tposition: absolute;\n\tmargin: auto;\n\ttop: 9px;\n\tleft: 0;\n\tright: 0;\n\twidth: 0;\n\theight: 0;\n\tborder: solid transparent;\n\tborder-width: 10px 8px;\n\tborder-top-color: #777\n}\n\n.amap-indoormap-floorbar-control .floor-minus.disabled,.amap-indoormap-floorbar-control .floor-plus.disabled {\n\topacity: .3\n}\n\n.amap-indoormap-floorbar-control .floor-plus:after {\n\tborder-bottom-color: #777;\n\tborder-top-color: transparent;\n\ttop: -3px\n}\n\n.amap-indoormap-floorbar-control .floor-list-box {\n\tmax-height: 153px;\n\tposition: relative;\n\toverflow-y: hidden\n}\n\n.amap-indoormap-floorbar-control .floor-list {\n\tmargin: 0;\n\tpadding: 0;\n\tlist-style: none\n}\n\n.amap-indoormap-floorbar-control .floor-list-item {\n\tposition: relative\n}\n\n.amap-indoormap-floorbar-control .floor-btn.disabled,.amap-indoormap-floorbar-control .floor-btn.disabled *,.amap-indoormap-floorbar-control.with-indrm-loader * {\n\t-webkit-pointer-events: none!important;\n\tpointer-events: none!important\n}\n\n.amap-indoormap-floorbar-control .with-indrm-loader .floor-nonas {\n\topacity: .5\n}\n\n.amap-indoor-map-moverf-marker {\n\tcolor: #555;\n\tbackground-color: #FFFEEF;\n\tborder: 1px solid #7E7E7E;\n\tpadding: 3px 6px;\n\tfont-size: 12px;\n\twhite-space: nowrap;\n\tdisplay: inline-block;\n\tposition: absolute;\n\ttop: 1em;\n\tleft: 1.2em\n}\n\n.amap-indoormap-floorbar-control .amap-indrm-loader {\n\t-moz-animation: amap-indrm-loader 1250ms infinite linear;\n\t-webkit-animation: amap-indrm-loader 1250ms infinite linear;\n\tanimation: amap-indrm-loader 1250ms infinite linear;\n\tborder: 2px solid #91A3D8;\n\tborder-right-color: transparent;\n\tbox-sizing: border-box;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-indent: -9999px;\n\twidth: 13px;\n\theight: 13px;\n\tborder-radius: 7px;\n\tposition: absolute;\n\tmargin: auto;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0\n}\n\n@-moz-keyframes amap-indrm-loader {\n\t0% {\n\t\t-moz-transform: rotate(0deg);\n\t\ttransform: rotate(0deg)\n\t}\n\n\t100% {\n\t\t-moz-transform: rotate(360deg);\n\t\ttransform: rotate(360deg)\n\t}\n}\n\n@-webkit-keyframes amap-indrm-loader {\n\t0% {\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg)\n\t}\n\n\t100% {\n\t\t-webkit-transform: rotate(360deg);\n\t\ttransform: rotate(360deg)\n\t}\n}\n\n@keyframes amap-indrm-loader {\n\t0% {\n\t\t-moz-transform: rotate(0deg);\n\t\t-ms-transform: rotate(0deg);\n\t\t-webkit-transform: rotate(0deg);\n\t\ttransform: rotate(0deg)\n\t}\n\n\t100% {\n\t\t-moz-transform: rotate(360deg);\n\t\t-ms-transform: rotate(360deg);\n\t\t-webkit-transform: rotate(360deg);\n\t\ttransform: rotate(360deg)\n\t}\n}',""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapType=undefined;var r=h(n(1)),i=h(n(11)),o=h(n(54)),a=n(75),s=n(110),u=n(243),l=n(255),c=n(35);function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}n(603);e.MapType=a.Control.extend({options:{defaultType:0,showTraffic:!1,showRoad:!1},initialize:function(t){r.setOptions(this,t)},onAdd:function(t){return this.create()},create:function(t){this._maptypecontrol=i.create("div","amap-maptypecontrol");var e=i.create("div","amap-maptype-wrap",this._maptypecontrol);i.setStyle(e,{top:"44px",height:"20px"});var n=i.create("div","amap-maptype-con",e);i.setStyle(n,{height:"20px"}),this._maptypetitlediv=i.create("div","amap-maptype-title",n),this._mapchange(),this._maptypelistdiv=i.create("div","amap-maptype-list",this._maptypecontrol),i.setStyle(this._maptypelistdiv,{width:"60px",display:"block",height:"20px"});var r=i.create("p","amap-maptype-item",this._maptypelistdiv);this._ticheck=i.create("span","amap-maptype-check",r),this._tilabel=i.create("span","amap-maptype-label",r),this._tilabel.innerHTML="路况",i.setStyle(r,{display:"block"});var a=i.create("p","amap-maptype-item",this._maptypelistdiv);return this._roadcheck=i.create("span","amap-maptype-check",a),this._roadlabel=i.create("span","amap-maptype-label",a),this._roadlabel.innerHTML="路网",i.setStyle(a,{display:"block"}),o.on(this._maptypelistdiv,"click mouseover mouseout",this._listhander,this),o.on(this._maptypetitlediv,"click",this._maptypebtnhander,this),this._maptypecontrol},_listhander:function(t){if("mouseover"==t.type){var e={width:"100px"};1==this._mapType?e.height="40px":e.height="20px",i.setStyle(this._maptypelistdiv,e)}else if("mouseout"==t.type)i.setStyle(this._maptypelistdiv,{width:"60px",height:"20px"});else if("click"==t.type){var n=t.target;n==this._roadcheck||n==this._roadlabel?this._showRoad(!this._roadcheck.classList.contains("amap-maptype-checked")):n!=this._ticheck&&n!=this._tilabel||this._showTraffic(!this._ticheck.classList.contains("amap-maptype-checked"))}},_maptypebtnhander:function(t){1==this._mapType?this._mapchange(0):this._mapchange(1)},_mapchange:function(t){t||(t=this.options.defaultType),1==t?(this._satlayer||(this._satlayer=new f.Satellite),this._satlayer.setMap(this.getMap())):this._satlayer&&this._satlayer.setMap(null),this._mapType=t,this._maptypetitlediv.innerHTML=1==this._mapType?"地图":"卫星"},onRemove:function(){this._maptypecontrol=null,this._maptypetitlediv=null,this._maptypelistdiv=null,this._ticheck=null,this._tilabel=null,this._roadlabel=null,this._roadcheck=null,this._roadlayer&&(this.options.showRoad&&this._roadlayer.setMap(null),this._roadlayer=null),this._trafficlayer&&(this.options.showTraffic&&this._trafficlayer.setMap(null),this._trafficlayer=null),this._satlayer&&(1==this._mapType&&this._satlayer.setMap(null),this._satlayer=null)},_showTraffic:function(t){t?(this._ticheck.classList.add("amap-maptype-checked"),this._trafficlayer||(this._trafficlayer=new f.Traffic),this._trafficlayer.setMap(this.getMap())):(this._ticheck.classList.remove("amap-maptype-checked"),this._trafficlayer&&this._trafficlayer.setMap(null)),t!=this.options.showTraffic&&(this.options.showTraffic=t)},_showRoad:function(t){t?(this._roadcheck.classList.add("amap-maptype-checked"),this._roadlayer||(this._roadlayer=new f.RoadNet),this._roadlayer.setMap(this.getMap())):(this._roadcheck.classList.remove("amap-maptype-checked"),this._roadlayer&&this._roadlayer.setMap(null)),t!=this.options.showRoad&&(this.options.showRoad=t)}});function f(t){var e=r.extend({zIndex:1},t,{features:["bg","building","road"]});return new s.SkInterLayer(e)}f.Satellite=function(t){var e=r.extend(t||{},{url:c.UrlConf.sat,type:"png",maxLevel:18,zIndex:2});return new u.SkGridLayer(e)},f.RoadNet=function(t){var e=r.extend({zIndex:3},t||{},{features:["road"]});return new s.SkInterLayer(e)},f.Flexible=function(t){var e=r.extend(t||{},{url:null,type:"png",zIndex:12});return new u.SkGridLayer(e)},f.Traffic=function(t){return new l.Traffic(t)}},function(t,e,n){"use strict";var r=n(27),i=n(246),o=n(550),a=n(161);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=o,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(250),u.CancelToken=n(564),u.isCancel=n(249),u.all=function(t){return Promise.all(t)},u.spread=n(565),t.exports=u,t.exports["default"]=u},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(161),i=n(27),o=n(559),a=n(560);function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,undefined],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";var r=n(27);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(248);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var r=n(27);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var r=n(27),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(27);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,o=String(t),a="",s=0,u=r;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if((n=o.charCodeAt(s+=.75))>255)throw new i;e=e<<8|n}return a}},function(t,e,n){"use strict";var r=n(27);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(27);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";var r=n(27),i=n(561),o=n(249),a=n(161),s=n(562),u=n(563);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return l(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(27);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(250);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkMVTThemeMgr=undefined;var r=function(t){return t&&t.__esModule?t:{"default":t}}(n(567));var i=e.SkMVTThemeMgr=function(t,e){this.theme=r["default"].load(t),this.wtTheme=r["default"].load(e)};i.prototype.setThemeData=function(t){this.theme=r["default"].load(t)},i.prototype.getTheme=function(t,e,n){if(!this.theme.layers[t])return null;var r=this.theme.layers[t][e];return r?("roads"==t&&n&&r[n]&&(r=r[n]),r):null},i.prototype.getThemeColor=function(t,e,n,r){if(!t)return r;var i=t[e];if(!i)return r;if("[object Array]"===Object.prototype.toString.call(i[0])){for(var o=0;o<i.length;o++){var a=i[o];if(null!=a&&a[0]>n)return o>0?i[o-1][1]:i[0][1]}return i[i.length-1][1]}return i},i.prototype.getWidth=function(t,e,n,r,i){var o=this.wtTheme.layers[t][e];if(!o)return i;"roads"==t&&n&&o[n]&&(o=o[n]);var a=o.width;if(!a)return i;if("[object Array]"===Object.prototype.toString.call(a[0])){for(var s=0;s<a.length;s++){var u=a[s];if(null!=u&&u[0]>r)return s>0?a[s-1][1]:a[0][1]}return a[a.length-1][1]}return a},i.prototype.getTex=function(t,e){var n=this.wtTheme.layers[t][e];return n?n.tex:null}},function(t,e,n){"use strict";var r=n(568);t.exports=r},function(t,e,n){"use strict";var r=n(569),i=n(588);function o(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}t.exports.Type=n(13),t.exports.Schema=n(77),t.exports.FAILSAFE_SCHEMA=n(162),t.exports.JSON_SCHEMA=n(252),t.exports.CORE_SCHEMA=n(251),t.exports.DEFAULT_SAFE_SCHEMA=n(88),t.exports.DEFAULT_FULL_SCHEMA=n(115),t.exports.load=r.load,t.exports.loadAll=r.loadAll,t.exports.safeLoad=r.safeLoad,t.exports.safeLoadAll=r.safeLoadAll,t.exports.dump=i.dump,t.exports.safeDump=i.safeDump,t.exports.YAMLException=n(87),t.exports.MINIMAL_SCHEMA=n(162),t.exports.SAFE_SCHEMA=n(88),t.exports.DEFAULT_SCHEMA=n(115),t.exports.scan=o("scan"),t.exports.parse=o("parse"),t.exports.compose=o("compose"),t.exports.addConstructor=o("addConstructor")},function(t,e,n){"use strict";var r=n(76),i=n(87),o=n(570),a=n(88),s=n(115),u=Object.prototype.hasOwnProperty,l=1,c=2,h=3,f=4,p=1,d=2,m=3,g=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/[\x85\u2028\u2029]/,y=/[,\[\]\{\}]/,x=/^(?:!|!!|![a-z\-]+!)$/i,b=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _(t){return 10===t||13===t}function w(t){return 9===t||32===t}function E(t){return 9===t||32===t||10===t||13===t}function A(t){return 44===t||91===t||93===t||123===t||125===t}function S(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function C(t){return 120===t?2:117===t?4:85===t?8:0}function D(t){return 48<=t&&t<=57?t-48:-1}function M(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t?"\t":9===t?"\t":110===t?"\n":118===t?"\x0B":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function k(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var T=new Array(256),L=new Array(256),I=0;I<256;I++)T[I]=M(I)?1:0,L[I]=M(I);function B(t,e){return new i(e,new o(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function R(t,e){throw B(t,e)}function F(t,e){t.onWarning&&t.onWarning.call(null,B(t,e))}var P={YAML:function(t,e,n){var r,i,o;null!==t.version&&R(t,"duplication of %YAML directive"),1!==n.length&&R(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&R(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&R(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&F(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&R(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],x.test(r)||R(t,"ill-formed tag handle (first argument) of the TAG directive"),u.call(t.tagMap,r)&&R(t,'there is a previously declared suffix for "'+r+'" tag handle'),b.test(i)||R(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[r]=i}};function O(t,e,n,r){var i,o,a,s;if(e<n){if(s=t.input.slice(e,n),r)for(i=0,o=s.length;i<o;i+=1)9===(a=s.charCodeAt(i))||32<=a&&a<=1114111||R(t,"expected valid JSON character");else g.test(s)&&R(t,"the stream contains non-printable characters");t.result+=s}}function N(t,e,n,i){var o,a,s,l;for(r.isObject(n)||R(t,"cannot merge mappings; the provided source object is unacceptable"),s=0,l=(o=Object.keys(n)).length;s<l;s+=1)a=o[s],u.call(e,a)||(e[a]=n[a],i[a]=!0)}function U(t,e,n,r,i,o,a,s){var l,c;if(i=String(i),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(l=0,c=o.length;l<c;l+=1)N(t,e,o[l],n);else N(t,e,o,n);else t.json||u.call(n,i)||!u.call(e,i)||(t.line=a||t.line,t.position=s||t.position,R(t,"duplicated mapping key")),e[i]=o,delete n[i];return e}function z(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):R(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function j(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);0!==i;){for(;w(i);)i=t.input.charCodeAt(++t.position);if(e&&35===i)do{i=t.input.charCodeAt(++t.position)}while(10!==i&&13!==i&&0!==i);if(!_(i))break;for(z(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&F(t,"deficient indentation"),r}function W(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!E(e)))}function Y(t,e){1===e?t.result+=" ":e>1&&(t.result+=r.repeat("\n",e-1))}function G(t,e){var n,r,i=t.tag,o=t.anchor,a=[],s=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=a),r=t.input.charCodeAt(t.position);0!==r&&45===r&&E(t.input.charCodeAt(t.position+1));)if(s=!0,t.position++,j(t,!0,-1)&&t.lineIndent<=e)a.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,q(t,e,h,!1,!0),a.push(t.result),j(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)R(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!s&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=a,!0)}function V(t){var e,n,r,i,o=!1,a=!1;if(33!==(i=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&R(t,"duplication of a tag property"),60===(i=t.input.charCodeAt(++t.position))?(o=!0,i=t.input.charCodeAt(++t.position)):33===i?(a=!0,n="!!",i=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&62!==i);t.position<t.length?(r=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):R(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!E(i);)33===i&&(a?R(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),x.test(n)||R(t,"named tag handle cannot contain such characters"),a=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),y.test(r)&&R(t,"tag suffix cannot contain flow indicator characters")}return r&&!b.test(r)&&R(t,"tag name cannot contain such characters: "+r),o?t.tag=r:u.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:R(t,'undeclared tag handle "'+n+'"'),!0}function H(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&R(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!E(n)&&!A(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&R(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function q(t,e,n,i,o){var a,s,g,v,y,x,b,M,I=1,B=!1,F=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=g=f===n||h===n,i&&j(t,!0,-1)&&(B=!0,t.lineIndent>e?I=1:t.lineIndent===e?I=0:t.lineIndent<e&&(I=-1)),1===I)for(;V(t)||H(t);)j(t,!0,-1)?(B=!0,g=a,t.lineIndent>e?I=1:t.lineIndent===e?I=0:t.lineIndent<e&&(I=-1)):g=!1;if(g&&(g=B||o),1!==I&&f!==n||(b=l===n||c===n?e:e+1,M=t.position-t.lineStart,1===I?g&&(G(t,M)||function(t,e,n){var r,i,o,a,s,u=t.tag,l=t.anchor,h={},p={},d=null,m=null,g=null,v=!1,y=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=h),s=t.input.charCodeAt(t.position);0!==s;){if(r=t.input.charCodeAt(t.position+1),o=t.line,a=t.position,63!==s&&58!==s||!E(r)){if(!q(t,n,c,!1,!0))break;if(t.line===o){for(s=t.input.charCodeAt(t.position);w(s);)s=t.input.charCodeAt(++t.position);if(58===s)E(s=t.input.charCodeAt(++t.position))||R(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(U(t,h,p,d,m,null),d=m=g=null),y=!0,v=!1,i=!1,d=t.tag,m=t.result;else{if(!y)return t.tag=u,t.anchor=l,!0;R(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return t.tag=u,t.anchor=l,!0;R(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(v&&(U(t,h,p,d,m,null),d=m=g=null),y=!0,v=!0,i=!0):v?(v=!1,i=!0):R(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,s=r;if((t.line===o||t.lineIndent>e)&&(q(t,e,f,!0,i)&&(v?m=t.result:g=t.result),v||(U(t,h,p,d,m,g,o,a),d=m=g=null),j(t,!0,-1),s=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==s)R(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return v&&U(t,h,p,d,m,null),y&&(t.tag=u,t.anchor=l,t.kind="mapping",t.result=h),y}(t,M,b))||function(t,e){var n,r,i,o,a,s,u,c,h,f,p=!0,d=t.tag,m=t.anchor,g={};if(91===(f=t.input.charCodeAt(t.position)))i=93,s=!1,r=[];else{if(123!==f)return!1;i=125,s=!0,r={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=r),f=t.input.charCodeAt(++t.position);0!==f;){if(j(t,!0,e),(f=t.input.charCodeAt(t.position))===i)return t.position++,t.tag=d,t.anchor=m,t.kind=s?"mapping":"sequence",t.result=r,!0;p||R(t,"missed comma between flow collection entries"),c=u=h=null,o=a=!1,63===f&&E(t.input.charCodeAt(t.position+1))&&(o=a=!0,t.position++,j(t,!0,e)),n=t.line,q(t,e,l,!1,!0),c=t.tag,u=t.result,j(t,!0,e),f=t.input.charCodeAt(t.position),!a&&t.line!==n||58!==f||(o=!0,f=t.input.charCodeAt(++t.position),j(t,!0,e),q(t,e,l,!1,!0),h=t.result),s?U(t,r,g,c,u,h):o?r.push(U(t,null,g,c,u,h)):r.push(u),j(t,!0,e),44===(f=t.input.charCodeAt(t.position))?(p=!0,f=t.input.charCodeAt(++t.position)):p=!1}R(t,"unexpected end of the stream within a flow collection")}(t,b)?F=!0:(s&&function(t,e){var n,i,o,a,s=p,u=!1,l=!1,c=e,h=0,f=!1;if(124===(a=t.input.charCodeAt(t.position)))i=!1;else{if(62!==a)return!1;i=!0}for(t.kind="scalar",t.result="";0!==a;)if(43===(a=t.input.charCodeAt(++t.position))||45===a)p===s?s=43===a?m:d:R(t,"repeat of a chomping mode identifier");else{if(!((o=D(a))>=0))break;0===o?R(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?R(t,"repeat of an indentation width identifier"):(c=e+o-1,l=!0)}if(w(a)){do{a=t.input.charCodeAt(++t.position)}while(w(a));if(35===a)do{a=t.input.charCodeAt(++t.position)}while(!_(a)&&0!==a)}for(;0!==a;){for(z(t),t.lineIndent=0,a=t.input.charCodeAt(t.position);(!l||t.lineIndent<c)&&32===a;)t.lineIndent++,a=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>c&&(c=t.lineIndent),_(a))h++;else{if(t.lineIndent<c){s===m?t.result+=r.repeat("\n",u?1+h:h):s===p&&u&&(t.result+="\n");break}for(i?w(a)?(f=!0,t.result+=r.repeat("\n",u?1+h:h)):f?(f=!1,t.result+=r.repeat("\n",h+1)):0===h?u&&(t.result+=" "):t.result+=r.repeat("\n",h):t.result+=r.repeat("\n",u?1+h:h),u=!0,l=!0,h=0,n=t.position;!_(a)&&0!==a;)a=t.input.charCodeAt(++t.position);O(t,n,t.position,!1)}}return!0}(t,b)||function(t,e){var n,r,i;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(O(t,r,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;r=t.position,t.position++,i=t.position}else _(n)?(O(t,r,i,!0),Y(t,j(t,!1,e)),r=i=t.position):t.position===t.lineStart&&W(t)?R(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);R(t,"unexpected end of the stream within a single quoted scalar")}(t,b)||function(t,e){var n,r,i,o,a,s;if(34!==(s=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(s=t.input.charCodeAt(t.position));){if(34===s)return O(t,n,t.position,!0),t.position++,!0;if(92===s){if(O(t,n,t.position,!0),_(s=t.input.charCodeAt(++t.position)))j(t,!1,e);else if(s<256&&T[s])t.result+=L[s],t.position++;else if((a=C(s))>0){for(i=a,o=0;i>0;i--)(a=S(s=t.input.charCodeAt(++t.position)))>=0?o=(o<<4)+a:R(t,"expected hexadecimal character");t.result+=k(o),t.position++}else R(t,"unknown escape sequence");n=r=t.position}else _(s)?(O(t,n,r,!0),Y(t,j(t,!1,e)),n=r=t.position):t.position===t.lineStart&&W(t)?R(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}R(t,"unexpected end of the stream within a double quoted scalar")}(t,b)?F=!0:!function(t){var e,n,r;if(42!==(r=t.input.charCodeAt(t.position)))return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!E(r)&&!A(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&R(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(n)||R(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],j(t,!0,-1),!0}(t)?function(t,e,n){var r,i,o,a,s,u,l,c,h=t.kind,f=t.result;if(E(c=t.input.charCodeAt(t.position))||A(c)||35===c||38===c||42===c||33===c||124===c||62===c||39===c||34===c||37===c||64===c||96===c)return!1;if((63===c||45===c)&&(E(r=t.input.charCodeAt(t.position+1))||n&&A(r)))return!1;for(t.kind="scalar",t.result="",i=o=t.position,a=!1;0!==c;){if(58===c){if(E(r=t.input.charCodeAt(t.position+1))||n&&A(r))break}else if(35===c){if(E(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&W(t)||n&&A(c))break;if(_(c)){if(s=t.line,u=t.lineStart,l=t.lineIndent,j(t,!1,-1),t.lineIndent>=e){a=!0,c=t.input.charCodeAt(t.position);continue}t.position=o,t.line=s,t.lineStart=u,t.lineIndent=l;break}}a&&(O(t,i,o,!1),Y(t,t.line-s),i=o=t.position,a=!1),w(c)||(o=t.position+1),c=t.input.charCodeAt(++t.position)}return O(t,i,o,!1),!!t.result||(t.kind=h,t.result=f,!1)}(t,b,l===n)&&(F=!0,null===t.tag&&(t.tag="?")):(F=!0,null===t.tag&&null===t.anchor||R(t,"alias node should not have any properties")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===I&&(F=g&&G(t,M))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(v=0,y=t.implicitTypes.length;v<y;v+=1)if((x=t.implicitTypes[v]).resolve(t.result)){t.result=x.construct(t.result),t.tag=x.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else u.call(t.typeMap[t.kind||"fallback"],t.tag)?(x=t.typeMap[t.kind||"fallback"][t.tag],null!==t.result&&x.kind!==t.kind&&R(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+x.kind+'", not "'+t.kind+'"'),x.resolve(t.result)?(t.result=x.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):R(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):R(t,"unknown tag !<"+t.tag+">");return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||F}function X(t){var e,n,r,i,o=t.position,a=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(i=t.input.charCodeAt(t.position))&&(j(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==i));){for(a=!0,i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!E(i);)i=t.input.charCodeAt(++t.position);for(r=[],(n=t.input.slice(e,t.position)).length<1&&R(t,"directive name must not be less than one character in length");0!==i;){for(;w(i);)i=t.input.charCodeAt(++t.position);if(35===i){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&!_(i));break}if(_(i))break;for(e=t.position;0!==i&&!E(i);)i=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==i&&z(t),u.call(P,n)?P[n](t,n,r):F(t,'unknown document directive "'+n+'"')}j(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,j(t,!0,-1)):a&&R(t,"directives end mark is expected"),q(t,t.lineIndent-1,f,!1,!0),j(t,!0,-1),t.checkLineBreaks&&v.test(t.input.slice(o,t.position))&&F(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&W(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,j(t,!0,-1)):t.position<t.length-1&&R(t,"end of the stream or a document separator is expected")}function Z(t,e){t=String(t),e=e||{},0!==t.length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new function(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||s,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}(t,e);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)X(n);return n.documents}function J(t,e,n){var r,i,o=Z(t,n);if("function"!=typeof e)return o;for(r=0,i=o.length;r<i;r+=1)e(o[r])}function K(t,e){var n=Z(t,e);if(0===n.length)return undefined;if(1===n.length)return n[0];throw new i("expected a single document in the stream, but found more")}t.exports.loadAll=J,t.exports.load=K,t.exports.safeLoadAll=function(t,e,n){if("function"!=typeof e)return J(t,r.extend({schema:a},n));J(t,e,r.extend({schema:a},n))},t.exports.safeLoad=function(t,e){return K(t,r.extend({schema:a},e))}},function(t,e,n){"use strict";var r=n(76);function i(t,e,n,r,i){this.name=t,this.buffer=e,this.position=n,this.line=r,this.column=i}i.prototype.getSnippet=function(t,e){var n,i,o,a,s;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",i=this.position;i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>e/2-1){n=" ... ",i+=5;break}for(o="",a=this.position;a<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(a));)if((a+=1)-this.position>e/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(i,a),r.repeat(" ",t)+n+s+o+"\n"+r.repeat(" ",t+this.position-i+n.length)+"^"},i.prototype.toString=function(t){var e,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet())&&(n+=":\n"+e),n},t.exports=i},function(t,e,n){"use strict";var r=n(13);t.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},function(t,e,n){"use strict";var r=n(13);t.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},function(t,e,n){"use strict";var r=n(13);t.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},function(t,e,n){"use strict";var r=n(13);t.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(t,e,n){"use strict";var r=n(13);t.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},function(t,e,n){"use strict";var r=n(76),i=n(13);function o(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function a(t){return 48<=t&&t<=55}function s(t){return 48<=t&&t<=57}t.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n=t.length,r=0,i=!1;if(!n)return!1;if("-"!==(e=t[r])&&"+"!==e||(e=t[++r]),"0"===e){if(r+1===n)return!0;if("b"===(e=t[++r])){for(r++;r<n;r++)if("_"!==(e=t[r])){if("0"!==e&&"1"!==e)return!1;i=!0}return i&&"_"!==e}if("x"===e){for(r++;r<n;r++)if("_"!==(e=t[r])){if(!o(t.charCodeAt(r)))return!1;i=!0}return i&&"_"!==e}for(;r<n;r++)if("_"!==(e=t[r])){if(!a(t.charCodeAt(r)))return!1;i=!0}return i&&"_"!==e}if("_"===e)return!1;for(;r<n;r++)if("_"!==(e=t[r])){if(":"===e)break;if(!s(t.charCodeAt(r)))return!1;i=!0}return!(!i||"_"===e)&&(":"!==e||/^(:[0-5]?[0-9])+$/.test(t.slice(r)))},construct:function(t){var e,n,r=t,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(e=r[0])&&"+"!==e||("-"===e&&(i=-1),e=(r=r.slice(1))[0]),"0"===r?0:"0"===e?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(t){o.unshift(parseInt(t,10))}),r=0,n=1,o.forEach(function(t){r+=t*n,n*=60}),i*r):i*parseInt(r,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!r.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0"+t.toString(8):"-0"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(t,e,n){"use strict";var r=n(76),i=n(13),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var a=/^[-+]?[0-9]+e/;t.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!o.test(t)||"_"===t[t.length-1])},construct:function(t){var e,n,r,i;return n="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,i=[],"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:e.indexOf(":")>=0?(e.split(":").forEach(function(t){i.unshift(parseFloat(t,10))}),e=0,r=1,i.forEach(function(t){e+=t*r,r*=60}),n*e):n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||r.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(t))return"-0.0";return n=t.toString(10),a.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},function(t,e,n){"use strict";var r=n(13),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==i.exec(t)||null!==o.exec(t))},construct:function(t){var e,n,r,a,s,u,l,c,h=0,f=null;if(null===(e=i.exec(t))&&(e=o.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,a=+e[3],!e[4])return new Date(Date.UTC(n,r,a));if(s=+e[4],u=+e[5],l=+e[6],e[7]){for(h=e[7].slice(0,3);h.length<3;)h+="0";h=+h}return e[9]&&(f=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(f=-f)),c=new Date(Date.UTC(n,r,a,s,u,l,h)),f&&c.setTime(c.getTime()-f),c},instanceOf:Date,represent:function(t){return t.toISOString()}})},function(t,e,n){"use strict";var r=n(13);t.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}})},function(t,e,n){"use strict";var r;try{r=n(42).Buffer}catch(a){}var i=n(13),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=0,i=t.length,a=o;for(n=0;n<i;n++)if(!((e=a.indexOf(t.charAt(n)))>64)){if(e<0)return!1;r+=6}return r%8==0},construct:function(t){var e,n,i=t.replace(/[\r\n=]/g,""),a=i.length,s=o,u=0,l=[];for(e=0;e<a;e++)e%4==0&&e&&(l.push(u>>16&255),l.push(u>>8&255),l.push(255&u)),u=u<<6|s.indexOf(i.charAt(e));return 0==(n=a%4*6)?(l.push(u>>16&255),l.push(u>>8&255),l.push(255&u)):18===n?(l.push(u>>10&255),l.push(u>>2&255)):12===n&&l.push(u>>4&255),r?r.from?r.from(l):new r(l):l},predicate:function(t){return r&&r.isBuffer(t)},represent:function(t){var e,n,r="",i=0,a=t.length,s=o;for(e=0;e<a;e++)e%3==0&&e&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+t[e];return 0==(n=a%3)?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):2===n?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):1===n&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}})},function(t,e,n){"use strict";var r=n(13),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,a,s,u=[],l=t;for(e=0,n=l.length;e<n;e+=1){if(r=l[e],s=!1,"[object Object]"!==o.call(r))return!1;for(a in r)if(i.call(r,a)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==u.indexOf(a))return!1;u.push(a)}return!0},construct:function(t){return null!==t?t:[]}})},function(t,e,n){"use strict";var r=n(13),i=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,o,a,s=t;for(a=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(r=s[e],"[object Object]"!==i.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;a[e]=[o[0],r[o[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,r,i,o,a=t;for(o=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}})},function(t,e,n){"use strict";var r=n(13),i=Object.prototype.hasOwnProperty;t.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(i.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}})},function(t,e,n){"use strict";var r=n(13);t.exports=new r("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){return undefined},predicate:function(t){return void 0===t},represent:function(){return""}})},function(t,e,n){"use strict";var r=n(13);t.exports=new r("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,n=/\/([gim]*)$/.exec(t),r="";if("/"===e[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==e[e.length-r.length-1])return!1}return!0},construct:function(t){var e=t,n=/\/([gim]*)$/.exec(t),r="";return"/"===e[0]&&(n&&(r=n[1]),e=e.slice(1,e.length-r.length-1)),new RegExp(e,r)},predicate:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},represent:function(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}})},function(t,e,n){"use strict";var r;try{r=n(587)}catch(o){"undefined"!=typeof window&&(r=window.esprima)}var i=n(13);t.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(t){if(null===t)return!1;try{var e="("+t+")",n=r.parse(e,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(i){return!1}},construct:function(t){var e,n="("+t+")",i=r.parse(n,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(t){o.push(t.name)}),e=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,n.slice(e[0]+1,e[1]-1)):new Function(o,"return "+n.slice(e[0],e[1]))},predicate:function(t){return"[object Function]"===Object.prototype.toString.call(t)},represent:function(t){return t.toString()}})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(3),o=n(8),a=n(15);function s(t,e,n){var a=null,s=function(t,e){n&&n(t,e),a&&a.visit(t,e)},u="function"==typeof n?s:null,l=!1;if(e){l="boolean"==typeof e.comment&&e.comment;var c="boolean"==typeof e.attachComment&&e.attachComment;(l||c)&&((a=new r.CommentHandler).attach=c,e.comment=!0,u=s)}var h,f=!1;e&&"string"==typeof e.sourceType&&(f="module"===e.sourceType),h=e&&"boolean"==typeof e.jsx&&e.jsx?new i.JSXParser(t,e,u):new o.Parser(t,e,u);var p=f?h.parseModule():h.parseScript();return l&&a&&(p.comments=a.comments),h.config.tokens&&(p.tokens=h.tokens),h.config.tolerant&&(p.errors=h.errorHandler.errors),p}e.parse=s,e.parseModule=function(t,e,n){var r=e||{};return r.sourceType="module",s(t,r,n)},e.parseScript=function(t,e,n){var r=e||{};return r.sourceType="script",s(t,r,n)},e.tokenize=function(t,e,n){var r,i=new a.Tokenizer(t,e);r=[];try{for(;;){var o=i.getNextToken();if(!o)break;n&&(o=n(o)),r.push(o)}}catch(s){i.errorHandler.tolerate(s)}return i.errorHandler.tolerant&&(r.errors=i.errors()),r};var u=n(2);e.Syntax=u.Syntax,e.version="4.0.0"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(){function t(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return t.prototype.insertInnerComments=function(t,e){if(t.type===r.Syntax.BlockStatement&&0===t.body.length){for(var n=[],i=this.leading.length-1;i>=0;--i){var o=this.leading[i];e.end.offset>=o.start&&(n.unshift(o.comment),this.leading.splice(i,1),this.trailing.splice(i,1))}n.length&&(t.innerComments=n)}},t.prototype.findTrailingComments=function(t){var e=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var r=this.trailing[n];r.start>=t.end.offset&&e.unshift(r.comment)}return this.trailing.length=0,e}var i=this.stack[this.stack.length-1];if(i&&i.node.trailingComments){var o=i.node.trailingComments[0];o&&o.range[0]>=t.end.offset&&(e=i.node.trailingComments,delete i.node.trailingComments)}return e},t.prototype.findLeadingComments=function(t){for(var e,n=[];this.stack.length>0;){if(!((o=this.stack[this.stack.length-1])&&o.start>=t.start.offset))break;e=o.node,this.stack.pop()}if(e){for(var r=(e.leadingComments?e.leadingComments.length:0)-1;r>=0;--r){var i=e.leadingComments[r];i.range[1]<=t.start.offset&&(n.unshift(i),e.leadingComments.splice(r,1))}return e.leadingComments&&0===e.leadingComments.length&&delete e.leadingComments,n}for(r=this.leading.length-1;r>=0;--r){var o;(o=this.leading[r]).start<=t.start.offset&&(n.unshift(o.comment),this.leading.splice(r,1))}return n},t.prototype.visitNode=function(t,e){if(!(t.type===r.Syntax.Program&&t.body.length>0)){this.insertInnerComments(t,e);var n=this.findTrailingComments(e),i=this.findLeadingComments(e);i.length>0&&(t.leadingComments=i),n.length>0&&(t.trailingComments=n),this.stack.push({node:t,start:e.start.offset})}},t.prototype.visitComment=function(t,e){var n="L"===t.type[0]?"Line":"Block",r={type:n,value:t.value};if(t.range&&(r.range=t.range),t.loc&&(r.loc=t.loc),this.comments.push(r),this.attach){var i={comment:{type:n,value:t.value,range:[e.start.offset,e.end.offset]},start:e.start.offset};t.loc&&(i.comment.loc=t.loc),t.type=n,this.leading.push(i),this.trailing.push(i)}},t.prototype.visit=function(t,e){"LineComment"===t.type?this.visitComment(t,e):"BlockComment"===t.type?this.visitComment(t,e):this.attach&&this.visitNode(t,e)},t}();e.CommentHandler=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(5),a=n(6),s=n(7),u=n(8),l=n(13),c=n(14);function h(t){var e;switch(t.type){case a.JSXSyntax.JSXIdentifier:e=t.name;break;case a.JSXSyntax.JSXNamespacedName:var n=t;e=h(n.namespace)+":"+h(n.name);break;case a.JSXSyntax.JSXMemberExpression:var r=t;e=h(r.object)+"."+h(r.property)}return e}l.TokenName[100]="JSXIdentifier",l.TokenName[101]="JSXText";var f=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return r(e,t),e.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():t.prototype.parsePrimaryExpression.call(this)},e.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},e.prototype.finishJSX=function(){this.nextToken()},e.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},e.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},e.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},e.prototype.scanXHTMLEntity=function(t){for(var e="&",n=!0,r=!1,o=!1,a=!1;!this.scanner.eof()&&n&&!r;){var s=this.scanner.source[this.scanner.index];if(s===t)break;if(r=";"===s,e+=s,++this.scanner.index,!r)switch(e.length){case 2:o="#"===s;break;case 3:o&&(n=(a="x"===s)||i.Character.isDecimalDigit(s.charCodeAt(0)),o=o&&!a);break;default:n=(n=n&&!(o&&!i.Character.isDecimalDigit(s.charCodeAt(0))))&&!(a&&!i.Character.isHexDigit(s.charCodeAt(0)))}}if(n&&r&&e.length>2){var u=e.substr(1,e.length-2);o&&u.length>1?e=String.fromCharCode(parseInt(u.substr(1),10)):a&&u.length>2?e=String.fromCharCode(parseInt("0"+u.substr(1),16)):o||a||!c.XHTMLEntities[u]||(e=c.XHTMLEntities[u])}return e},e.prototype.lexJSX=function(){var t=this.scanner.source.charCodeAt(this.scanner.index);if(60===t||62===t||47===t||58===t||61===t||123===t||125===t)return{type:7,value:s=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===t||39===t){for(var e=this.scanner.index,n=this.scanner.source[this.scanner.index++],r="";!this.scanner.eof();){if((u=this.scanner.source[this.scanner.index++])===n)break;r+="&"===u?this.scanXHTMLEntity(n):u}return{type:8,value:r,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index}}if(46===t){var o=this.scanner.source.charCodeAt(this.scanner.index+1),a=this.scanner.source.charCodeAt(this.scanner.index+2),s=46===o&&46===a?"...":".";e=this.scanner.index;return this.scanner.index+=s.length,{type:7,value:s,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index}}if(96===t)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(i.Character.isIdentifierStart(t)&&92!==t){e=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var u=this.scanner.source.charCodeAt(this.scanner.index);if(i.Character.isIdentifierPart(u)&&92!==u)++this.scanner.index;else{if(45!==u)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(e,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index}}return this.scanner.lex()},e.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var t=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(t)),t},e.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var t=this.scanner.index,e="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,e+=n,i.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var r={type:101,value:e,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index};return e.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},e.prototype.peekJSXToken=function(){var t=this.scanner.saveState();this.scanner.scanComments();var e=this.lexJSX();return this.scanner.restoreState(t),e},e.prototype.expectJSX=function(t){var e=this.nextJSXToken();7===e.type&&e.value===t||this.throwUnexpectedToken(e)},e.prototype.matchJSX=function(t){var e=this.peekJSXToken();return 7===e.type&&e.value===t},e.prototype.parseJSXIdentifier=function(){var t=this.createJSXNode(),e=this.nextJSXToken();return 100!==e.type&&this.throwUnexpectedToken(e),this.finalize(t,new o.JSXIdentifier(e.value))},e.prototype.parseJSXElementName=function(){var t=this.createJSXNode(),e=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=e;this.expectJSX(":");var r=this.parseJSXIdentifier();e=this.finalize(t,new o.JSXNamespacedName(n,r))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var i=e;this.expectJSX(".");var a=this.parseJSXIdentifier();e=this.finalize(t,new o.JSXMemberExpression(i,a))}return e},e.prototype.parseJSXAttributeName=function(){var t,e=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=n;this.expectJSX(":");var i=this.parseJSXIdentifier();t=this.finalize(e,new o.JSXNamespacedName(r,i))}else t=n;return t},e.prototype.parseJSXStringLiteralAttribute=function(){var t=this.createJSXNode(),e=this.nextJSXToken();8!==e.type&&this.throwUnexpectedToken(e);var n=this.getTokenRaw(e);return this.finalize(t,new s.Literal(e.value,n))},e.prototype.parseJSXExpressionAttribute=function(){var t=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var e=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(t,new o.JSXExpressionContainer(e))},e.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},e.prototype.parseJSXNameValueAttribute=function(){var t=this.createJSXNode(),e=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(t,new o.JSXAttribute(e,n))},e.prototype.parseJSXSpreadAttribute=function(){var t=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var e=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(t,new o.JSXSpreadAttribute(e))},e.prototype.parseJSXAttributes=function(){for(var t=[];!this.matchJSX("/")&&!this.matchJSX(">");){var e=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();t.push(e)}return t},e.prototype.parseJSXOpeningElement=function(){var t=this.createJSXNode();this.expectJSX("<");var e=this.parseJSXElementName(),n=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(t,new o.JSXOpeningElement(e,r,n))},e.prototype.parseJSXBoundaryElement=function(){var t=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var e=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(t,new o.JSXClosingElement(e))}var n=this.parseJSXElementName(),r=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(t,new o.JSXOpeningElement(n,i,r))},e.prototype.parseJSXEmptyExpression=function(){var t=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(t,new o.JSXEmptyExpression)},e.prototype.parseJSXExpressionContainer=function(){var t,e=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(t=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),t=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(e,new o.JSXExpressionContainer(t))},e.prototype.parseJSXChildren=function(){for(var t=[];!this.scanner.eof();){var e=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var r=this.getTokenRaw(n),i=this.finalize(e,new o.JSXText(n.value,r));t.push(i)}if("{"!==this.scanner.source[this.scanner.index])break;var a=this.parseJSXExpressionContainer();t.push(a)}return t},e.prototype.parseComplexJSXElement=function(t){for(var e=[];!this.scanner.eof();){t.children=t.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),r=this.parseJSXBoundaryElement();if(r.type===a.JSXSyntax.JSXOpeningElement){var i=r;if(i.selfClosing){var s=this.finalize(n,new o.JSXElement(i,[],null));t.children.push(s)}else e.push(t),t={node:n,opening:i,closing:null,children:[]}}if(r.type===a.JSXSyntax.JSXClosingElement){t.closing=r;var u=h(t.opening.name);if(u!==h(t.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",u),!(e.length>0))break;s=this.finalize(t.node,new o.JSXElement(t.opening,t.children,t.closing));(t=e[e.length-1]).children.push(s),e.pop()}}return t},e.prototype.parseJSXElement=function(){var t=this.createJSXNode(),e=this.parseJSXOpeningElement(),n=[],r=null;if(!e.selfClosing){var i=this.parseComplexJSXElement({node:t,opening:e,closing:r,children:n});n=i.children,r=i.closing}return this.finalize(t,new o.JSXElement(e,n,r))},e.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var t=this.parseJSXElement();return this.finishJSX(),t},e.prototype.isStartOfExpression=function(){return t.prototype.isStartOfExpression.call(this)||this.match("<")},e}(u.Parser);e.JSXParser=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10))+String.fromCharCode(56320+(t-65536&1023))},isWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},isLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},isIdentifierStart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&n.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(t))},isIdentifierPart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&n.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(t))},isDecimalDigit:function(t){return t>=48&&t<=57},isHexDigit:function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},isOctalDigit:function(t){return t>=48&&t<=55}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=function(){return function(t){this.type=r.JSXSyntax.JSXClosingElement,this.name=t}}();e.JSXClosingElement=i;var o=function(){return function(t,e,n){this.type=r.JSXSyntax.JSXElement,this.openingElement=t,this.children=e,this.closingElement=n}}();e.JSXElement=o;var a=function(){return function(){this.type=r.JSXSyntax.JSXEmptyExpression}}();e.JSXEmptyExpression=a;var s=function(){return function(t){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=t}}();e.JSXExpressionContainer=s;var u=function(){return function(t){this.type=r.JSXSyntax.JSXIdentifier,this.name=t}}();e.JSXIdentifier=u;var l=function(){return function(t,e){this.type=r.JSXSyntax.JSXMemberExpression,this.object=t,this.property=e}}();e.JSXMemberExpression=l;var c=function(){return function(t,e){this.type=r.JSXSyntax.JSXAttribute,this.name=t,this.value=e}}();e.JSXAttribute=c;var h=function(){return function(t,e){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=t,this.name=e}}();e.JSXNamespacedName=h;var f=function(){return function(t,e,n){this.type=r.JSXSyntax.JSXOpeningElement,this.name=t,this.selfClosing=e,this.attributes=n}}();e.JSXOpeningElement=f;var p=function(){return function(t){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=t}}();e.JSXSpreadAttribute=p;var d=function(){return function(t,e){this.type=r.JSXSyntax.JSXText,this.value=t,this.raw=e}}();e.JSXText=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(){return function(t){this.type=r.Syntax.ArrayExpression,this.elements=t}}();e.ArrayExpression=i;var o=function(){return function(t){this.type=r.Syntax.ArrayPattern,this.elements=t}}();e.ArrayPattern=o;var a=function(){return function(t,e,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=t,this.body=e,this.generator=!1,this.expression=n,this.async=!1}}();e.ArrowFunctionExpression=a;var s=function(){return function(t,e,n){this.type=r.Syntax.AssignmentExpression,this.operator=t,this.left=e,this.right=n}}();e.AssignmentExpression=s;var u=function(){return function(t,e){this.type=r.Syntax.AssignmentPattern,this.left=t,this.right=e}}();e.AssignmentPattern=u;var l=function(){return function(t,e,n){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=t,this.body=e,this.generator=!1,this.expression=n,this.async=!0}}();e.AsyncArrowFunctionExpression=l;var c=function(){return function(t,e,n){this.type=r.Syntax.FunctionDeclaration,this.id=t,this.params=e,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}}();e.AsyncFunctionDeclaration=c;var h=function(){return function(t,e,n){this.type=r.Syntax.FunctionExpression,this.id=t,this.params=e,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}}();e.AsyncFunctionExpression=h;var f=function(){return function(t){this.type=r.Syntax.AwaitExpression,this.argument=t}}();e.AwaitExpression=f;var p=function(){return function(t,e,n){var i="||"===t||"&&"===t;this.type=i?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=t,this.left=e,this.right=n}}();e.BinaryExpression=p;var d=function(){return function(t){this.type=r.Syntax.BlockStatement,this.body=t}}();e.BlockStatement=d;var m=function(){return function(t){this.type=r.Syntax.BreakStatement,this.label=t}}();e.BreakStatement=m;var g=function(){return function(t,e){this.type=r.Syntax.CallExpression,this.callee=t,this.arguments=e}}();e.CallExpression=g;var v=function(){return function(t,e){this.type=r.Syntax.CatchClause,this.param=t,this.body=e}}();e.CatchClause=v;var y=function(){return function(t){this.type=r.Syntax.ClassBody,this.body=t}}();e.ClassBody=y;var x=function(){return function(t,e,n){this.type=r.Syntax.ClassDeclaration,this.id=t,this.superClass=e,this.body=n}}();e.ClassDeclaration=x;var b=function(){return function(t,e,n){this.type=r.Syntax.ClassExpression,this.id=t,this.superClass=e,this.body=n}}();e.ClassExpression=b;var _=function(){return function(t,e){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=t,this.property=e}}();e.ComputedMemberExpression=_;var w=function(){return function(t,e,n){this.type=r.Syntax.ConditionalExpression,this.test=t,this.consequent=e,this.alternate=n}}();e.ConditionalExpression=w;var E=function(){return function(t){this.type=r.Syntax.ContinueStatement,this.label=t}}();e.ContinueStatement=E;var A=function(){return function(){this.type=r.Syntax.DebuggerStatement}}();e.DebuggerStatement=A;var S=function(){return function(t,e){this.type=r.Syntax.ExpressionStatement,this.expression=t,this.directive=e}}();e.Directive=S;var C=function(){return function(t,e){this.type=r.Syntax.DoWhileStatement,this.body=t,this.test=e}}();e.DoWhileStatement=C;var D=function(){return function(){this.type=r.Syntax.EmptyStatement}}();e.EmptyStatement=D;var M=function(){return function(t){this.type=r.Syntax.ExportAllDeclaration,this.source=t}}();e.ExportAllDeclaration=M;var k=function(){return function(t){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=t}}();e.ExportDefaultDeclaration=k;var T=function(){return function(t,e,n){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=t,this.specifiers=e,this.source=n}}();e.ExportNamedDeclaration=T;var L=function(){return function(t,e){this.type=r.Syntax.ExportSpecifier,this.exported=e,this.local=t}}();e.ExportSpecifier=L;var I=function(){return function(t){this.type=r.Syntax.ExpressionStatement,this.expression=t}}();e.ExpressionStatement=I;var B=function(){return function(t,e,n){this.type=r.Syntax.ForInStatement,this.left=t,this.right=e,this.body=n,this.each=!1}}();e.ForInStatement=B;var R=function(){return function(t,e,n){this.type=r.Syntax.ForOfStatement,this.left=t,this.right=e,this.body=n}}();e.ForOfStatement=R;var F=function(){return function(t,e,n,i){this.type=r.Syntax.ForStatement,this.init=t,this.test=e,this.update=n,this.body=i}}();e.ForStatement=F;var P=function(){return function(t,e,n,i){this.type=r.Syntax.FunctionDeclaration,this.id=t,this.params=e,this.body=n,this.generator=i,this.expression=!1,this.async=!1}}();e.FunctionDeclaration=P;var O=function(){return function(t,e,n,i){this.type=r.Syntax.FunctionExpression,this.id=t,this.params=e,this.body=n,this.generator=i,this.expression=!1,this.async=!1}}();e.FunctionExpression=O;var N=function(){return function(t){this.type=r.Syntax.Identifier,this.name=t}}();e.Identifier=N;var U=function(){return function(t,e,n){this.type=r.Syntax.IfStatement,this.test=t,this.consequent=e,this.alternate=n}}();e.IfStatement=U;var z=function(){return function(t,e){this.type=r.Syntax.ImportDeclaration,this.specifiers=t,this.source=e}}();e.ImportDeclaration=z;var j=function(){return function(t){this.type=r.Syntax.ImportDefaultSpecifier,this.local=t}}();e.ImportDefaultSpecifier=j;var W=function(){return function(t){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=t}}();e.ImportNamespaceSpecifier=W;var Y=function(){return function(t,e){this.type=r.Syntax.ImportSpecifier,this.local=t,this.imported=e}}();e.ImportSpecifier=Y;var G=function(){return function(t,e){this.type=r.Syntax.LabeledStatement,this.label=t,this.body=e}}();e.LabeledStatement=G;var V=function(){return function(t,e){this.type=r.Syntax.Literal,this.value=t,this.raw=e}}();e.Literal=V;var H=function(){return function(t,e){this.type=r.Syntax.MetaProperty,this.meta=t,this.property=e}}();e.MetaProperty=H;var q=function(){return function(t,e,n,i,o){this.type=r.Syntax.MethodDefinition,this.key=t,this.computed=e,this.value=n,this.kind=i,this["static"]=o}}();e.MethodDefinition=q;var X=function(){return function(t){this.type=r.Syntax.Program,this.body=t,this.sourceType="module"}}();e.Module=X;var Z=function(){return function(t,e){this.type=r.Syntax.NewExpression,this.callee=t,this.arguments=e}}();e.NewExpression=Z;var J=function(){return function(t){this.type=r.Syntax.ObjectExpression,this.properties=t}}();e.ObjectExpression=J;var K=function(){return function(t){this.type=r.Syntax.ObjectPattern,this.properties=t}}();e.ObjectPattern=K;var $=function(){return function(t,e,n,i,o,a){this.type=r.Syntax.Property,this.key=e,this.computed=n,this.value=i,this.kind=t,this.method=o,this.shorthand=a}}();e.Property=$;var Q=function(){return function(t,e,n,i){this.type=r.Syntax.Literal,this.value=t,this.raw=e,this.regex={pattern:n,flags:i}}}();e.RegexLiteral=Q;var tt=function(){return function(t){this.type=r.Syntax.RestElement,this.argument=t}}();e.RestElement=tt;var et=function(){return function(t){this.type=r.Syntax.ReturnStatement,this.argument=t}}();e.ReturnStatement=et;var nt=function(){return function(t){this.type=r.Syntax.Program,this.body=t,this.sourceType="script"}}();e.Script=nt;var rt=function(){return function(t){this.type=r.Syntax.SequenceExpression,this.expressions=t}}();e.SequenceExpression=rt;var it=function(){return function(t){this.type=r.Syntax.SpreadElement,this.argument=t}}();e.SpreadElement=it;var ot=function(){return function(t,e){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=t,this.property=e}}();e.StaticMemberExpression=ot;var at=function(){return function(){this.type=r.Syntax.Super}}();e.Super=at;var st=function(){return function(t,e){this.type=r.Syntax.SwitchCase,this.test=t,this.consequent=e}}();e.SwitchCase=st;var ut=function(){return function(t,e){this.type=r.Syntax.SwitchStatement,this.discriminant=t,this.cases=e}}();e.SwitchStatement=ut;var lt=function(){return function(t,e){this.type=r.Syntax.TaggedTemplateExpression,this.tag=t,this.quasi=e}}();e.TaggedTemplateExpression=lt;var ct=function(){return function(t,e){this.type=r.Syntax.TemplateElement,this.value=t,this.tail=e}}();e.TemplateElement=ct;var ht=function(){return function(t,e){this.type=r.Syntax.TemplateLiteral,this.quasis=t,this.expressions=e}}();e.TemplateLiteral=ht;var ft=function(){return function(){this.type=r.Syntax.ThisExpression}}();e.ThisExpression=ft;var pt=function(){return function(t){this.type=r.Syntax.ThrowStatement,this.argument=t}}();e.ThrowStatement=pt;var dt=function(){return function(t,e,n){this.type=r.Syntax.TryStatement,this.block=t,this.handler=e,this.finalizer=n}}();e.TryStatement=dt;var mt=function(){return function(t,e){this.type=r.Syntax.UnaryExpression,this.operator=t,this.argument=e,this.prefix=!0}}();e.UnaryExpression=mt;var gt=function(){return function(t,e,n){this.type=r.Syntax.UpdateExpression,this.operator=t,this.argument=e,this.prefix=n}}();e.UpdateExpression=gt;var vt=function(){return function(t,e){this.type=r.Syntax.VariableDeclaration,this.declarations=t,this.kind=e}}();e.VariableDeclaration=vt;var yt=function(){return function(t,e){this.type=r.Syntax.VariableDeclarator,this.id=t,this.init=e}}();e.VariableDeclarator=yt;var xt=function(){return function(t,e){this.type=r.Syntax.WhileStatement,this.test=t,this.body=e}}();e.WhileStatement=xt;var bt=function(){return function(t,e){this.type=r.Syntax.WithStatement,this.object=t,this.body=e}}();e.WithStatement=bt;var _t=function(){return function(t,e){this.type=r.Syntax.YieldExpression,this.argument=t,this.delegate=e}}();e.YieldExpression=_t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(10),o=n(11),a=n(7),s=n(12),u=n(2),l=n(13),c=function(){function t(t,e,n){void 0===e&&(e={}),this.config={range:"boolean"==typeof e.range&&e.range,loc:"boolean"==typeof e.loc&&e.loc,source:null,tokens:"boolean"==typeof e.tokens&&e.tokens,comment:"boolean"==typeof e.comment&&e.comment,tolerant:"boolean"==typeof e.tolerant&&e.tolerant},this.config.loc&&e.source&&null!==e.source&&(this.config.source=String(e.source)),this.delegate=n,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new s.Scanner(t,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return t.prototype.throwError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=t.replace(/%(\d)/g,function(t,e){return r.assert(e<i.length,"Message reference must be in range"),i[e]}),a=this.lastMarker.index,s=this.lastMarker.line,u=this.lastMarker.column+1;throw this.errorHandler.createError(a,s,u,o)},t.prototype.tolerateError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1),o=t.replace(/%(\d)/g,function(t,e){return r.assert(e<i.length,"Message reference must be in range"),i[e]}),a=this.lastMarker.index,s=this.scanner.lineNumber,u=this.lastMarker.column+1;this.errorHandler.tolerateError(a,s,u,o)},t.prototype.unexpectedTokenError=function(t,e){var n,r=e||o.Messages.UnexpectedToken;if(t?(e||(r=2===t.type?o.Messages.UnexpectedEOS:3===t.type?o.Messages.UnexpectedIdentifier:6===t.type?o.Messages.UnexpectedNumber:8===t.type?o.Messages.UnexpectedString:10===t.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===t.type&&(this.scanner.isFutureReservedWord(t.value)?r=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(t.value)&&(r=o.Messages.StrictReservedWord))),n=t.value):n="ILLEGAL",r=r.replace("%0",n),t&&"number"==typeof t.lineNumber){var i=t.start,a=t.lineNumber,s=this.lastMarker.index-this.lastMarker.column,u=t.start-s+1;return this.errorHandler.createError(i,a,u,r)}i=this.lastMarker.index,a=this.lastMarker.line,u=this.lastMarker.column+1;return this.errorHandler.createError(i,a,u,r)},t.prototype.throwUnexpectedToken=function(t,e){throw this.unexpectedTokenError(t,e)},t.prototype.tolerateUnexpectedToken=function(t,e){this.errorHandler.tolerate(this.unexpectedTokenError(t,e))},t.prototype.collectComments=function(){if(this.config.comment){var t=this.scanner.scanComments();if(t.length>0&&this.delegate)for(var e=0;e<t.length;++e){var n=t[e],r=void 0;r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(r.range=n.range),this.config.loc&&(r.loc=n.loc);var i={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(r,i)}}else this.scanner.scanComments()},t.prototype.getTokenRaw=function(t){return this.scanner.source.slice(t.start,t.end)},t.prototype.convertToken=function(t){var e={type:l.TokenName[t.type],value:this.getTokenRaw(t)};if(this.config.range&&(e.range=[t.start,t.end]),this.config.loc&&(e.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===t.type){var n=t.pattern,r=t.flags;e.regex={pattern:n,flags:r}}return e},t.prototype.nextToken=function(){var t=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var e=this.scanner.lex();return this.hasLineTerminator=t.lineNumber!==e.lineNumber,e&&this.context.strict&&3===e.type&&this.scanner.isStrictModeReservedWord(e.value)&&(e.type=4),this.lookahead=e,this.config.tokens&&2!==e.type&&this.tokens.push(this.convertToken(e)),t},t.prototype.nextRegexToken=function(){this.collectComments();var t=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(t))),this.lookahead=t,this.nextToken(),t},t.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},t.prototype.startNode=function(t){return{index:t.start,line:t.lineNumber,column:t.start-t.lineStart}},t.prototype.finalize=function(t,e){if(this.config.range&&(e.range=[t.index,this.lastMarker.index]),this.config.loc&&(e.loc={start:{line:t.line,column:t.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(e.loc.source=this.config.source)),this.delegate){var n={start:{line:t.line,column:t.column,offset:t.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(e,n)}return e},t.prototype.expect=function(t){var e=this.nextToken();7===e.type&&e.value===t||this.throwUnexpectedToken(e)},t.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var t=this.lookahead;7===t.type&&","===t.value?this.nextToken():7===t.type&&";"===t.value?(this.nextToken(),this.tolerateUnexpectedToken(t)):this.tolerateUnexpectedToken(t,o.Messages.UnexpectedToken)}else this.expect(",")},t.prototype.expectKeyword=function(t){var e=this.nextToken();4===e.type&&e.value===t||this.throwUnexpectedToken(e)},t.prototype.match=function(t){return 7===this.lookahead.type&&this.lookahead.value===t},t.prototype.matchKeyword=function(t){return 4===this.lookahead.type&&this.lookahead.value===t},t.prototype.matchContextualKeyword=function(t){return 3===this.lookahead.type&&this.lookahead.value===t},t.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var t=this.lookahead.value;return"="===t||"*="===t||"**="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t},t.prototype.isolateCoverGrammar=function(t){var e=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=t.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=e,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=r,i},t.prototype.inheritCoverGrammar=function(t){var e=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var i=t.call(this);return this.context.isBindingElement=this.context.isBindingElement&&e,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,i},t.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},t.prototype.parsePrimaryExpression=function(){var t,e,n,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),t=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new a.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,e=this.nextToken(),n=this.getTokenRaw(e),t=this.finalize(r,new a.Literal(e.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,e=this.nextToken(),n=this.getTokenRaw(e),t=this.finalize(r,new a.Literal("true"===e.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,e=this.nextToken(),n=this.getTokenRaw(e),t=this.finalize(r,new a.Literal(null,n));break;case 10:t=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,t=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":t=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":t=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,e=this.nextRegexToken(),n=this.getTokenRaw(e),t=this.finalize(r,new a.RegexLiteral(e.regex,n,e.pattern,e.flags));break;default:t=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?t=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?t=this.finalize(r,new a.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?t=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),t=this.finalize(r,new a.ThisExpression)):t=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:t=this.throwUnexpectedToken(this.nextToken())}return t},t.prototype.parseSpreadElement=function(){var t=this.createNode();this.expect("...");var e=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(t,new a.SpreadElement(e))},t.prototype.parseArrayInitializer=function(){var t=this.createNode(),e=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),e.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),e.push(n)}else e.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(t,new a.ArrayExpression(e))},t.prototype.parsePropertyMethod=function(t){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var e=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=t.simple;var r=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&t.firstRestricted&&this.tolerateUnexpectedToken(t.firstRestricted,t.message),this.context.strict&&t.stricted&&this.tolerateUnexpectedToken(t.stricted,t.message),this.context.strict=e,this.context.allowStrictDirective=n,r},t.prototype.parsePropertyMethodFunction=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!1;var n=this.parseFormalParameters(),r=this.parsePropertyMethod(n);return this.context.allowYield=e,this.finalize(t,new a.FunctionExpression(null,n.params,r,!1))},t.prototype.parsePropertyMethodAsyncFunction=function(){var t=this.createNode(),e=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var r=this.parseFormalParameters(),i=this.parsePropertyMethod(r);return this.context.allowYield=e,this.context.await=n,this.finalize(t,new a.AsyncFunctionExpression(null,r.params,i))},t.prototype.parseObjectPropertyKey=function(){var t,e=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,o.Messages.StrictOctalLiteral);var r=this.getTokenRaw(n);t=this.finalize(e,new a.Literal(n.value,r));break;case 3:case 1:case 5:case 4:t=this.finalize(e,new a.Identifier(n.value));break;case 7:"["===n.value?(t=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):t=this.throwUnexpectedToken(n);break;default:t=this.throwUnexpectedToken(n)}return t},t.prototype.isPropertyKey=function(t,e){return t.type===u.Syntax.Identifier&&t.name===e||t.type===u.Syntax.Literal&&t.value===e},t.prototype.parseObjectProperty=function(t){var e,n=this.createNode(),r=this.lookahead,i=null,s=null,u=!1,l=!1,c=!1,h=!1;if(3===r.type){var f=r.value;this.nextToken(),u=this.match("["),i=(h=!(this.hasLineTerminator||"async"!==f||this.match(":")||this.match("(")||this.match("*")))?this.parseObjectPropertyKey():this.finalize(n,new a.Identifier(f))}else this.match("*")?this.nextToken():(u=this.match("["),i=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(3===r.type&&!h&&"get"===r.value&&p)e="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod();else if(3===r.type&&!h&&"set"===r.value&&p)e="set",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod();else if(7===r.type&&"*"===r.value&&p)e="init",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),l=!0;else if(i||this.throwUnexpectedToken(this.lookahead),e="init",this.match(":")&&!h)!u&&this.isPropertyKey(i,"__proto__")&&(t.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),t.value=!0),this.nextToken(),s=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))s=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0;else if(3===r.type){f=this.finalize(n,new a.Identifier(r.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),c=!0;var d=this.isolateCoverGrammar(this.parseAssignmentExpression);s=this.finalize(n,new a.AssignmentPattern(f,d))}else c=!0,s=f}else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new a.Property(e,i,u,s,l,c))},t.prototype.parseObjectInitializer=function(){var t=this.createNode();this.expect("{");for(var e=[],n={value:!1};!this.match("}");)e.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(t,new a.ObjectExpression(e))},t.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var t=this.createNode(),e=this.nextToken(),n=e.value,i=e.cooked;return this.finalize(t,new a.TemplateElement({raw:n,cooked:i},e.tail))},t.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var t=this.createNode(),e=this.nextToken(),n=e.value,r=e.cooked;return this.finalize(t,new a.TemplateElement({raw:n,cooked:r},e.tail))},t.prototype.parseTemplateLiteral=function(){var t=this.createNode(),e=[],n=[],r=this.parseTemplateHead();for(n.push(r);!r.tail;)e.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(t,new a.TemplateLiteral(n,e))},t.prototype.reinterpretExpressionAsPattern=function(t){switch(t.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:t.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(t.argument);break;case u.Syntax.ArrayExpression:t.type=u.Syntax.ArrayPattern;for(var e=0;e<t.elements.length;e++)null!==t.elements[e]&&this.reinterpretExpressionAsPattern(t.elements[e]);break;case u.Syntax.ObjectExpression:t.type=u.Syntax.ObjectPattern;for(e=0;e<t.properties.length;e++)this.reinterpretExpressionAsPattern(t.properties[e].value);break;case u.Syntax.AssignmentExpression:t.type=u.Syntax.AssignmentPattern,delete t.operator,this.reinterpretExpressionAsPattern(t.left)}},t.prototype.parseGroupExpression=function(){var t;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),t={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var e=this.lookahead,n=[];if(this.match("..."))t=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),t={type:"ArrowParameterPlaceHolder",params:[t],async:!1};else{var r=!1;if(this.context.isBindingElement=!0,t=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var i=[];for(this.context.isAssignmentTarget=!1,i.push(t);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,t={type:"ArrowParameterPlaceHolder",params:i,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),i.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(o=0;o<i.length;o++)this.reinterpretExpressionAsPattern(i[o]);r=!0,t={type:"ArrowParameterPlaceHolder",params:i,async:!1}}else i.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(t=this.finalize(this.startNode(e),new a.SequenceExpression(i)))}if(!r){if(this.expect(")"),this.match("=>")&&(t.type===u.Syntax.Identifier&&"yield"===t.name&&(r=!0,t={type:"ArrowParameterPlaceHolder",params:[t],async:!1}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),t.type===u.Syntax.SequenceExpression)for(o=0;o<t.expressions.length;o++)this.reinterpretExpressionAsPattern(t.expressions[o]);else this.reinterpretExpressionAsPattern(t);t={type:"ArrowParameterPlaceHolder",params:t.type===u.Syntax.SequenceExpression?t.expressions:[t],async:!1}}this.context.isBindingElement=!1}}}return t},t.prototype.parseArguments=function(){this.expect("(");var t=[];if(!this.match(")"))for(;;){var e=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(t.push(e),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),t},t.prototype.isIdentifierName=function(t){return 3===t.type||4===t.type||1===t.type||5===t.type},t.prototype.parseIdentifierName=function(){var t=this.createNode(),e=this.nextToken();return this.isIdentifierName(e)||this.throwUnexpectedToken(e),this.finalize(t,new a.Identifier(e.value))},t.prototype.parseNewExpression=function(){var t,e=this.createNode(),n=this.parseIdentifierName();if(r.assert("new"===n.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var i=this.parseIdentifierName();t=new a.MetaProperty(n,i)}else this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),s=this.match("(")?this.parseArguments():[];t=new a.NewExpression(o,s),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(e,t)},t.prototype.parseAsyncArgument=function(){var t=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,t},t.prototype.parseAsyncArguments=function(){this.expect("(");var t=[];if(!this.match(")"))for(;;){var e=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(t.push(e),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),t},t.prototype.parseLeftHandSideExpressionAllowCall=function(){var t,e=this.lookahead,n=this.matchContextualKeyword("async"),r=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(t=this.createNode(),this.nextToken(),t=this.finalize(t,new a.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):t=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var i=this.parseIdentifierName();t=this.finalize(this.startNode(e),new a.StaticMemberExpression(t,i))}else if(this.match("(")){var o=n&&e.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var s=o?this.parseAsyncArguments():this.parseArguments();if(t=this.finalize(this.startNode(e),new a.CallExpression(t,s)),o&&this.match("=>")){for(var u=0;u<s.length;++u)this.reinterpretExpressionAsPattern(s[u]);t={type:"ArrowParameterPlaceHolder",params:s,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");i=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(this.startNode(e),new a.ComputedMemberExpression(t,i))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var l=this.parseTemplateLiteral();t=this.finalize(this.startNode(e),new a.TaggedTemplateExpression(t,l))}return this.context.allowIn=r,t},t.prototype.parseSuper=function(){var t=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(t,new a.Super)},t.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var t=this.startNode(this.lookahead),e=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),e=this.finalize(t,new a.ComputedMemberExpression(e,n))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");n=this.parseIdentifierName();e=this.finalize(t,new a.StaticMemberExpression(e,n))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var i=this.parseTemplateLiteral();e=this.finalize(t,new a.TaggedTemplateExpression(e,i))}return e},t.prototype.parseUpdateExpression=function(){var t,e=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(e),r=this.nextToken();t=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&t.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(t.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var i=!0;t=this.finalize(n,new a.UpdateExpression(r.value,t,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(t=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&t.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(t.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var s=this.nextToken().value;i=!1;t=this.finalize(this.startNode(e),new a.UpdateExpression(s,t,i))}return t},t.prototype.parseAwaitExpression=function(){var t=this.createNode();this.nextToken();var e=this.parseUnaryExpression();return this.finalize(t,new a.AwaitExpression(e))},t.prototype.parseUnaryExpression=function(){var t;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var e=this.startNode(this.lookahead),n=this.nextToken();t=this.inheritCoverGrammar(this.parseUnaryExpression),t=this.finalize(e,new a.UnaryExpression(n.value,t)),this.context.strict&&"delete"===t.operator&&t.argument.type===u.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else t=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return t},t.prototype.parseExponentiationExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseUnaryExpression);if(e.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=e,r=this.isolateCoverGrammar(this.parseExponentiationExpression);e=this.finalize(this.startNode(t),new a.BinaryExpression("**",n,r))}return e},t.prototype.binaryPrecedence=function(t){var e=t.value;return 7===t.type?this.operatorPrecedence[e]||0:4===t.type&&("instanceof"===e||this.context.allowIn&&"in"===e)?7:0},t.prototype.parseBinaryExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(r>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[t,this.lookahead],o=e,s=this.isolateCoverGrammar(this.parseExponentiationExpression),u=[o,n.value,s],l=[r];!((r=this.binaryPrecedence(this.lookahead))<=0);){for(;u.length>2&&r<=l[l.length-1];){s=u.pop();var c=u.pop();l.pop(),o=u.pop(),i.pop();var h=this.startNode(i[i.length-1]);u.push(this.finalize(h,new a.BinaryExpression(c,o,s)))}u.push(this.nextToken().value),l.push(r),i.push(this.lookahead),u.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var f=u.length-1;for(e=u[f],i.pop();f>1;){h=this.startNode(i.pop()),c=u[f-1];e=this.finalize(h,new a.BinaryExpression(c,u[f-2],e)),f-=2}}return e},t.prototype.parseConditionalExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var i=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new a.ConditionalExpression(e,r,i)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return e},t.prototype.checkPatternParam=function(t,e){switch(e.type){case u.Syntax.Identifier:this.validateParam(t,e,e.name);break;case u.Syntax.RestElement:this.checkPatternParam(t,e.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(t,e.left);break;case u.Syntax.ArrayPattern:for(var n=0;n<e.elements.length;n++)null!==e.elements[n]&&this.checkPatternParam(t,e.elements[n]);break;case u.Syntax.ObjectPattern:for(n=0;n<e.properties.length;n++)this.checkPatternParam(t,e.properties[n].value)}t.simple=t.simple&&e instanceof a.Identifier},t.prototype.reinterpretAsCoverFormalsList=function(t){var e,n=[t],r=!1;switch(t.type){case u.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":n=t.params,r=t.async;break;default:return null}e={simple:!0,paramSet:{}};for(var i=0;i<n.length;++i){(a=n[i]).type===u.Syntax.AssignmentPattern?a.right.type===u.Syntax.YieldExpression&&(a.right.argument&&this.throwUnexpectedToken(this.lookahead),a.right.type=u.Syntax.Identifier,a.right.name="yield",delete a.right.argument,delete a.right.delegate):r&&a.type===u.Syntax.Identifier&&"await"===a.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(e,a),n[i]=a}if(this.context.strict||!this.context.allowYield)for(i=0;i<n.length;++i){var a;(a=n[i]).type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(e.message===o.Messages.StrictParamDupe){var s=this.context.strict?e.stricted:e.firstRestricted;this.throwUnexpectedToken(s,e.message)}return{simple:e.simple,params:n,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}},t.prototype.parseAssignmentExpression=function(){var t;if(!this.context.allowYield&&this.matchKeyword("yield"))t=this.parseYieldExpression();else{var e=this.lookahead,n=e;if(t=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var r=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(r),t={type:"ArrowParameterPlaceHolder",params:[r],async:!0}}if("ArrowParameterPlaceHolder"===t.type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=t.async,s=this.reinterpretAsCoverFormalsList(t);if(s){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var l=this.context.strict,c=this.context.allowStrictDirective;this.context.allowStrictDirective=s.simple;var h=this.context.allowYield,f=this.context.await;this.context.allowYield=!0,this.context.await=i;var p=this.startNode(e);this.expect("=>");var d=void 0;if(this.match("{")){var m=this.context.allowIn;this.context.allowIn=!0,d=this.parseFunctionSourceElements(),this.context.allowIn=m}else d=this.isolateCoverGrammar(this.parseAssignmentExpression);var g=d.type!==u.Syntax.BlockStatement;this.context.strict&&s.firstRestricted&&this.throwUnexpectedToken(s.firstRestricted,s.message),this.context.strict&&s.stricted&&this.tolerateUnexpectedToken(s.stricted,s.message),t=i?this.finalize(p,new a.AsyncArrowFunctionExpression(s.params,d,g)):this.finalize(p,new a.ArrowFunctionExpression(s.params,d,g)),this.context.strict=l,this.context.allowStrictDirective=c,this.context.allowYield=h,this.context.await=f}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&t.type===u.Syntax.Identifier){var v=t;this.scanner.isRestrictedWord(v.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(v.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(t):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var y=(n=this.nextToken()).value,x=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new a.AssignmentExpression(y,t,x)),this.context.firstCoverInitializedNameError=null}}return t},t.prototype.parseExpression=function(){var t=this.lookahead,e=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(e);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));e=this.finalize(this.startNode(t),new a.SequenceExpression(n))}return e},t.prototype.parseStatementListItem=function(){var t;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),t=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),t=this.parseImportDeclaration();break;case"const":t=this.parseLexicalDeclaration({inFor:!1});break;case"function":t=this.parseFunctionDeclaration();break;case"class":t=this.parseClassDeclaration();break;case"let":t=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:t=this.parseStatement()}else t=this.parseStatement();return t},t.prototype.parseBlock=function(){var t=this.createNode();this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseStatementListItem());return this.expect("}"),this.finalize(t,new a.BlockStatement(e))},t.prototype.parseLexicalBinding=function(t,e){var n=this.createNode(),r=this.parsePattern([],t);this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return"const"===t?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,"const")):(!e.inFor&&r.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),i=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new a.VariableDeclarator(r,i))},t.prototype.parseBindingList=function(t,e){for(var n=[this.parseLexicalBinding(t,e)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(t,e));return n},t.prototype.isLexicalDeclaration=function(){var t=this.scanner.saveState();this.scanner.scanComments();var e=this.scanner.lex();return this.scanner.restoreState(t),3===e.type||7===e.type&&"["===e.value||7===e.type&&"{"===e.value||4===e.type&&"let"===e.value||4===e.type&&"yield"===e.value},t.prototype.parseLexicalDeclaration=function(t){var e=this.createNode(),n=this.nextToken().value;r.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var i=this.parseBindingList(n,t);return this.consumeSemicolon(),this.finalize(e,new a.VariableDeclaration(i,n))},t.prototype.parseBindingRestElement=function(t,e){var n=this.createNode();this.expect("...");var r=this.parsePattern(t,e);return this.finalize(n,new a.RestElement(r))},t.prototype.parseArrayPattern=function(t,e){var n=this.createNode();this.expect("[");for(var r=[];!this.match("]");)if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(t,e));break}r.push(this.parsePatternWithDefault(t,e)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new a.ArrayPattern(r))},t.prototype.parsePropertyPattern=function(t,e){var n,r,i=this.createNode(),o=!1,s=!1;if(3===this.lookahead.type){var u=this.lookahead;n=this.parseVariableIdentifier();var l=this.finalize(i,new a.Identifier(u.value));if(this.match("=")){t.push(u),s=!0,this.nextToken();var c=this.parseAssignmentExpression();r=this.finalize(this.startNode(u),new a.AssignmentPattern(l,c))}else this.match(":")?(this.expect(":"),r=this.parsePatternWithDefault(t,e)):(t.push(u),s=!0,r=l)}else o=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),r=this.parsePatternWithDefault(t,e);return this.finalize(i,new a.Property("init",n,o,r,!1,s))},t.prototype.parseObjectPattern=function(t,e){var n=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(t,e)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new a.ObjectPattern(r))},t.prototype.parsePattern=function(t,e){var n;return this.match("[")?n=this.parseArrayPattern(t,e):this.match("{")?n=this.parseObjectPattern(t,e):(!this.matchKeyword("let")||"const"!==e&&"let"!==e||this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),t.push(this.lookahead),n=this.parseVariableIdentifier(e)),n},t.prototype.parsePatternWithDefault=function(t,e){var n=this.lookahead,r=this.parsePattern(t,e);if(this.match("=")){this.nextToken();var i=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=i,r=this.finalize(this.startNode(n),new a.AssignmentPattern(r,o))}return r},t.prototype.parseVariableIdentifier=function(t){var e=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==t)&&this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(e,new a.Identifier(n.value))},t.prototype.parseVariableDeclaration=function(t){var e=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictVarName);var r=null;return this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===u.Syntax.Identifier||t.inFor||this.expect("="),this.finalize(e,new a.VariableDeclarator(n,r))},t.prototype.parseVariableDeclarationList=function(t){var e={inFor:t.inFor},n=[];for(n.push(this.parseVariableDeclaration(e));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(e));return n},t.prototype.parseVariableStatement=function(){var t=this.createNode();this.expectKeyword("var");var e=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(t,new a.VariableDeclaration(e,"var"))},t.prototype.parseEmptyStatement=function(){var t=this.createNode();return this.expect(";"),this.finalize(t,new a.EmptyStatement)},t.prototype.parseExpressionStatement=function(){var t=this.createNode(),e=this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new a.ExpressionStatement(e))},t.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},t.prototype.parseIfStatement=function(){var t,e=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),t=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(e,new a.IfStatement(r,t,n))},t.prototype.parseDoWhileStatement=function(){var t=this.createNode();this.expectKeyword("do");var e=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=e,this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(t,new a.DoWhileStatement(n,r))},t.prototype.parseWhileStatement=function(){var t,e=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var r=this.context.inIteration;this.context.inIteration=!0,t=this.parseStatement(),this.context.inIteration=r}return this.finalize(e,new a.WhileStatement(n,t))},t.prototype.parseForStatement=function(){var t,e,n,r=null,i=null,s=null,l=!0,c=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){r=this.createNode(),this.nextToken();var h=this.context.allowIn;this.context.allowIn=!1;var f=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=h,1===f.length&&this.matchKeyword("in")){var p=f[0];p.init&&(p.id.type===u.Syntax.ArrayPattern||p.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),r=this.finalize(r,new a.VariableDeclaration(f,"var")),this.nextToken(),t=r,e=this.parseExpression(),r=null}else 1===f.length&&null===f[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(f,"var")),this.nextToken(),t=r,e=this.parseAssignmentExpression(),r=null,l=!1):(r=this.finalize(r,new a.VariableDeclaration(f,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){r=this.createNode();var d=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){h=this.context.allowIn;this.context.allowIn=!1;f=this.parseBindingList(d,{inFor:!0});this.context.allowIn=h,1===f.length&&null===f[0].init&&this.matchKeyword("in")?(r=this.finalize(r,new a.VariableDeclaration(f,d)),this.nextToken(),t=r,e=this.parseExpression(),r=null):1===f.length&&null===f[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(f,d)),this.nextToken(),t=r,e=this.parseAssignmentExpression(),r=null,l=!1):(this.consumeSemicolon(),r=this.finalize(r,new a.VariableDeclaration(f,d)))}else r=this.finalize(r,new a.Identifier(d)),this.nextToken(),t=r,e=this.parseExpression(),r=null}else{var m=this.lookahead;h=this.context.allowIn;if(this.context.allowIn=!1,r=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=h,this.matchKeyword("in"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(r),t=r,e=this.parseExpression(),r=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(r),t=r,e=this.parseAssignmentExpression(),r=null,l=!1;else{if(this.match(",")){for(var g=[r];this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));r=this.finalize(this.startNode(m),new a.SequenceExpression(g))}this.expect(";")}}if(void 0===t&&(this.match(";")||(i=this.parseExpression()),this.expect(";"),this.match(")")||(s=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=v}return void 0===t?this.finalize(c,new a.ForStatement(r,i,s,n)):l?this.finalize(c,new a.ForInStatement(t,e,n)):this.finalize(c,new a.ForOfStatement(t,e,n))},t.prototype.parseContinueStatement=function(){var t=this.createNode();this.expectKeyword("continue");var e=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();e=n;var r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==e||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(t,new a.ContinueStatement(e))},t.prototype.parseBreakStatement=function(){var t=this.createNode();this.expectKeyword("break");var e=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),r="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(o.Messages.UnknownLabel,n.name),e=n}return this.consumeSemicolon(),null!==e||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(t,new a.BreakStatement(e))},t.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var t=this.createNode();this.expectKeyword("return");var e=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(t,new a.ReturnStatement(e))},t.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var t,e=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),t=this.parseStatement()),this.finalize(e,new a.WithStatement(n,t))},t.prototype.parseSwitchCase=function(){var t,e=this.createNode();this.matchKeyword("default")?(this.nextToken(),t=null):(this.expectKeyword("case"),t=this.parseExpression()),this.expect(":");for(var n=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)n.push(this.parseStatementListItem());return this.finalize(e,new a.SwitchCase(t,n))},t.prototype.parseSwitchStatement=function(){var t=this.createNode();this.expectKeyword("switch"),this.expect("(");var e=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var r=[],i=!1;for(this.expect("{");!this.match("}");){var s=this.parseSwitchCase();null===s.test&&(i&&this.throwError(o.Messages.MultipleDefaultsInSwitch),i=!0),r.push(s)}return this.expect("}"),this.context.inSwitch=n,this.finalize(t,new a.SwitchStatement(e,r))},t.prototype.parseLabelledStatement=function(){var t,e=this.createNode(),n=this.parseExpression();if(n.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var r=n,i="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)&&this.throwError(o.Messages.Redeclaration,"Label",r.name),this.context.labelSet[i]=!0;var s=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),s=this.parseClassDeclaration();else if(this.matchKeyword("function")){var l=this.lookahead,c=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(l,o.Messages.StrictFunction):c.generator&&this.tolerateUnexpectedToken(l,o.Messages.GeneratorInLegacyContext),s=c}else s=this.parseStatement();delete this.context.labelSet[i],t=new a.LabeledStatement(r,s)}else this.consumeSemicolon(),t=new a.ExpressionStatement(n);return this.finalize(e,t)},t.prototype.parseThrowStatement=function(){var t=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var e=this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new a.ThrowStatement(e))},t.prototype.parseCatchClause=function(){var t=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var e=[],n=this.parsePattern(e),r={},i=0;i<e.length;i++){var s="$"+e[i].value;Object.prototype.hasOwnProperty.call(r,s)&&this.tolerateError(o.Messages.DuplicateBinding,e[i].value),r[s]=!0}this.context.strict&&n.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var l=this.parseBlock();return this.finalize(t,new a.CatchClause(n,l))},t.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},t.prototype.parseTryStatement=function(){var t=this.createNode();this.expectKeyword("try");var e=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||r||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(t,new a.TryStatement(e,n,r))},t.prototype.parseDebuggerStatement=function(){var t=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(t,new a.DebuggerStatement)},t.prototype.parseStatement=function(){var t;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:t=this.parseExpressionStatement();break;case 7:var e=this.lookahead.value;t="{"===e?this.parseBlock():"("===e?this.parseExpressionStatement():";"===e?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:t=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":t=this.parseBreakStatement();break;case"continue":t=this.parseContinueStatement();break;case"debugger":t=this.parseDebuggerStatement();break;case"do":t=this.parseDoWhileStatement();break;case"for":t=this.parseForStatement();break;case"function":t=this.parseFunctionDeclaration();break;case"if":t=this.parseIfStatement();break;case"return":t=this.parseReturnStatement();break;case"switch":t=this.parseSwitchStatement();break;case"throw":t=this.parseThrowStatement();break;case"try":t=this.parseTryStatement();break;case"var":t=this.parseVariableStatement();break;case"while":t=this.parseWhileStatement();break;case"with":t=this.parseWithStatement();break;default:t=this.parseExpressionStatement()}break;default:t=this.throwUnexpectedToken(this.lookahead)}return t},t.prototype.parseFunctionSourceElements=function(){var t=this.createNode();this.expect("{");var e=this.parseDirectivePrologues(),n=this.context.labelSet,r=this.context.inIteration,i=this.context.inSwitch,o=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)e.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=r,this.context.inSwitch=i,this.context.inFunctionBody=o,this.finalize(t,new a.BlockStatement(e))},t.prototype.validateParam=function(t,e,n){var r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(t.stricted=e,t.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(t.paramSet,r)&&(t.stricted=e,t.message=o.Messages.StrictParamDupe)):t.firstRestricted||(this.scanner.isRestrictedWord(n)?(t.firstRestricted=e,t.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(t.firstRestricted=e,t.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(t.paramSet,r)&&(t.stricted=e,t.message=o.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(t.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):t.paramSet[r]=!0},t.prototype.parseRestElement=function(t){var e=this.createNode();this.expect("...");var n=this.parsePattern(t);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(e,new a.RestElement(n))},t.prototype.parseFormalParameter=function(t){for(var e=[],n=this.match("...")?this.parseRestElement(e):this.parsePatternWithDefault(e),r=0;r<e.length;r++)this.validateParam(t,e[r],e[r].value);t.simple=t.simple&&n instanceof a.Identifier,t.params.push(n)},t.prototype.parseFormalParameters=function(t){var e;if(e={simple:!0,params:[],firstRestricted:t},this.expect("("),!this.match(")"))for(e.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(e),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:e.simple,params:e.params,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}},t.prototype.matchAsyncFunction=function(){var t=this.matchContextualKeyword("async");if(t){var e=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(e),t=e.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return t},t.prototype.parseFunctionDeclaration=function(t){var e=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var r,i=!n&&this.match("*");i&&this.nextToken();var s=null,u=null;if(!t||!this.match("(")){var l=this.lookahead;s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(u=l,r=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(u=l,r=o.Messages.StrictReservedWord)}var c=this.context.await,h=this.context.allowYield;this.context.await=n,this.context.allowYield=!i;var f=this.parseFormalParameters(u),p=f.params,d=f.stricted;u=f.firstRestricted,f.message&&(r=f.message);var m=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=f.simple;var v=this.parseFunctionSourceElements();return this.context.strict&&u&&this.throwUnexpectedToken(u,r),this.context.strict&&d&&this.tolerateUnexpectedToken(d,r),this.context.strict=m,this.context.allowStrictDirective=g,this.context.await=c,this.context.allowYield=h,n?this.finalize(e,new a.AsyncFunctionDeclaration(s,p,v)):this.finalize(e,new a.FunctionDeclaration(s,p,v,i))},t.prototype.parseFunctionExpression=function(){var t=this.createNode(),e=this.matchContextualKeyword("async");e&&this.nextToken(),this.expectKeyword("function");var n,r=!e&&this.match("*");r&&this.nextToken();var i,s=null,u=this.context.await,l=this.context.allowYield;if(this.context.await=e,this.context.allowYield=!r,!this.match("(")){var c=this.lookahead;s=this.context.strict||r||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(c.value)&&this.tolerateUnexpectedToken(c,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(c.value)?(i=c,n=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(c.value)&&(i=c,n=o.Messages.StrictReservedWord)}var h=this.parseFormalParameters(i),f=h.params,p=h.stricted;i=h.firstRestricted,h.message&&(n=h.message);var d=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&i&&this.throwUnexpectedToken(i,n),this.context.strict&&p&&this.tolerateUnexpectedToken(p,n),this.context.strict=d,this.context.allowStrictDirective=m,this.context.await=u,this.context.allowYield=l,e?this.finalize(t,new a.AsyncFunctionExpression(s,f,g)):this.finalize(t,new a.FunctionExpression(s,f,g,r))},t.prototype.parseDirective=function(){var t=this.lookahead,e=this.createNode(),n=this.parseExpression(),r=n.type===u.Syntax.Literal?this.getTokenRaw(t).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(e,r?new a.Directive(n,r):new a.ExpressionStatement(n))},t.prototype.parseDirectivePrologues=function(){for(var t=null,e=[];;){var n=this.lookahead;if(8!==n.type)break;var r=this.parseDirective();e.push(r);var i=r.directive;if("string"!=typeof i)break;"use strict"===i?(this.context.strict=!0,t&&this.tolerateUnexpectedToken(t,o.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,o.Messages.IllegalLanguageModeDirective)):!t&&n.octal&&(t=n)}return e},t.prototype.qualifiedPropertyName=function(t){switch(t.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===t.value}return!1},t.prototype.parseGetterMethod=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!1;var n=this.parseFormalParameters();n.params.length>0&&this.tolerateError(o.Messages.BadGetterArity);var r=this.parsePropertyMethod(n);return this.context.allowYield=e,this.finalize(t,new a.FunctionExpression(null,n.params,r,!1))},t.prototype.parseSetterMethod=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!1;var n=this.parseFormalParameters();1!==n.params.length?this.tolerateError(o.Messages.BadSetterArity):n.params[0]instanceof a.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter);var r=this.parsePropertyMethod(n);return this.context.allowYield=e,this.finalize(t,new a.FunctionExpression(null,n.params,r,!1))},t.prototype.parseGeneratorMethod=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var r=this.parsePropertyMethod(n);return this.context.allowYield=e,this.finalize(t,new a.FunctionExpression(null,n.params,r,!0))},t.prototype.isStartOfExpression=function(){var t=!0,e=this.lookahead.value;switch(this.lookahead.type){case 7:t="["===e||"("===e||"{"===e||"+"===e||"-"===e||"!"===e||"~"===e||"++"===e||"--"===e||"/"===e||"/="===e;break;case 4:t="class"===e||"delete"===e||"function"===e||"let"===e||"new"===e||"super"===e||"this"===e||"typeof"===e||"void"===e||"yield"===e}return t},t.prototype.parseYieldExpression=function(){var t=this.createNode();this.expectKeyword("yield");var e=null,n=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,(n=this.match("*"))?(this.nextToken(),e=this.parseAssignmentExpression()):this.isStartOfExpression()&&(e=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(t,new a.YieldExpression(e,n))},t.prototype.parseClassElement=function(t){var e=this.lookahead,n=this.createNode(),r="",i=null,s=null,u=!1,l=!1,c=!1,h=!1;if(this.match("*"))this.nextToken();else if(u=this.match("["),"static"===(i=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(e=this.lookahead,c=!0,u=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey()),3===e.type&&!this.hasLineTerminator&&"async"===e.value){var f=this.lookahead.value;":"!==f&&"("!==f&&"*"!==f&&(h=!0,e=this.lookahead,i=this.parseObjectPropertyKey(),3===e.type&&("get"===e.value||"set"===e.value?this.tolerateUnexpectedToken(e):"constructor"===e.value&&this.tolerateUnexpectedToken(e,o.Messages.ConstructorIsAsync)))}var p=this.qualifiedPropertyName(this.lookahead);return 3===e.type?"get"===e.value&&p?(r="get",u=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod()):"set"===e.value&&p&&(r="set",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod()):7===e.type&&"*"===e.value&&p&&(r="init",u=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),l=!0),!r&&i&&this.match("(")&&(r="init",s=h?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),l=!0),r||this.throwUnexpectedToken(this.lookahead),"init"===r&&(r="method"),u||(c&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(e,o.Messages.StaticPrototype),!c&&this.isPropertyKey(i,"constructor")&&(("method"!==r||!l||s&&s.generator)&&this.throwUnexpectedToken(e,o.Messages.ConstructorSpecialMethod),t.value?this.throwUnexpectedToken(e,o.Messages.DuplicateConstructor):t.value=!0,r="constructor")),this.finalize(n,new a.MethodDefinition(i,u,s,r,c))},t.prototype.parseClassElementList=function(){var t=[],e={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():t.push(this.parseClassElement(e));return this.expect("}"),t},t.prototype.parseClassBody=function(){var t=this.createNode(),e=this.parseClassElementList();return this.finalize(t,new a.ClassBody(e))},t.prototype.parseClassDeclaration=function(t){var e=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=t&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=n,this.finalize(e,new a.ClassDeclaration(r,i,o))},t.prototype.parseClassExpression=function(){var t=this.createNode(),e=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var i=this.parseClassBody();return this.context.strict=e,this.finalize(t,new a.ClassExpression(n,r,i))},t.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0;for(var t=this.createNode(),e=this.parseDirectivePrologues();2!==this.lookahead.type;)e.push(this.parseStatementListItem());return this.finalize(t,new a.Module(e))},t.prototype.parseScript=function(){for(var t=this.createNode(),e=this.parseDirectivePrologues();2!==this.lookahead.type;)e.push(this.parseStatementListItem());return this.finalize(t,new a.Script(e))},t.prototype.parseModuleSpecifier=function(){var t=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var e=this.nextToken(),n=this.getTokenRaw(e);return this.finalize(t,new a.Literal(e.value,n))},t.prototype.parseImportSpecifier=function(){var t,e,n=this.createNode();return 3===this.lookahead.type?(e=t=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),e=this.parseVariableIdentifier())):(e=t=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),e=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new a.ImportSpecifier(e,t))},t.prototype.parseNamedImports=function(){this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),t},t.prototype.parseImportDefaultSpecifier=function(){var t=this.createNode(),e=this.parseIdentifierName();return this.finalize(t,new a.ImportDefaultSpecifier(e))},t.prototype.parseImportNamespaceSpecifier=function(){var t=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var e=this.parseIdentifierName();return this.finalize(t,new a.ImportNamespaceSpecifier(e))},t.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var t,e=this.createNode();this.expectKeyword("import");var n=[];if(8===this.lookahead.type)t=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(e,new a.ImportDeclaration(n,t))},t.prototype.parseExportSpecifier=function(){var t=this.createNode(),e=this.parseIdentifierName(),n=e;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(t,new a.ExportSpecifier(e,n))},t.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var t,e=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);t=this.finalize(e,new a.ExportDefaultDeclaration(n))}else if(this.matchKeyword("class")){n=this.parseClassDeclaration(!0);t=this.finalize(e,new a.ExportDefaultDeclaration(n))}else if(this.matchContextualKeyword("async")){n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();t=this.finalize(e,new a.ExportDefaultDeclaration(n))}else{this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value);n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),t=this.finalize(e,new a.ExportDefaultDeclaration(n))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var i=this.parseModuleSpecifier();this.consumeSemicolon(),t=this.finalize(e,new a.ExportAllDeclaration(i))}else if(4===this.lookahead.type){n=void 0;switch(this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}t=this.finalize(e,new a.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction()){n=this.parseFunctionDeclaration();t=this.finalize(e,new a.ExportNamedDeclaration(n,[],null))}else{var s=[],u=null,l=!1;for(this.expect("{");!this.match("}");)l=l||this.matchKeyword("default"),s.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon();else if(l){r=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}else this.consumeSemicolon();t=this.finalize(e,new a.ExportNamedDeclaration(null,s,u))}return t},t}();e.Parser=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assert=function(t,e){if(!t)throw new Error("ASSERT: "+e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.errors=[],this.tolerant=!1}return t.prototype.recordError=function(t){this.errors.push(t)},t.prototype.tolerate=function(t){if(!this.tolerant)throw t;this.recordError(t)},t.prototype.constructError=function(t,e){var n=new Error(t);try{throw n}catch(r){Object.create&&Object.defineProperty&&(n=Object.create(r),Object.defineProperty(n,"column",{value:e}))}return n},t.prototype.createError=function(t,e,n,r){var i="Line "+e+": "+r,o=this.constructError(i,n);return o.index=t,o.lineNumber=e,o.description=r,o},t.prototype.throwError=function(t,e,n,r){throw this.createError(t,e,n,r)},t.prototype.tolerateError=function(t,e,n,r){var i=this.createError(t,e,n,r);if(!this.tolerant)throw i;this.recordError(i)},t}();e.ErrorHandler=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(4),o=n(11);function a(t){return"0123456789abcdef".indexOf(t.toLowerCase())}function s(t){return"01234567".indexOf(t)}var u=function(){function t(t,e){this.source=t,this.errorHandler=e,this.trackComment=!1,this.length=t.length,this.index=0,this.lineNumber=t.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return t.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},t.prototype.restoreState=function(t){this.index=t.index,this.lineNumber=t.lineNumber,this.lineStart=t.lineStart},t.prototype.eof=function(){return this.index>=this.length},t.prototype.throwUnexpectedToken=function(t){return void 0===t&&(t=o.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,t)},t.prototype.tolerateUnexpectedToken=function(t){void 0===t&&(t=o.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,t)},t.prototype.skipSingleLineComment=function(t){var e,n,r=[];for(this.trackComment&&(r=[],e=this.index-t,n={start:{line:this.lineNumber,column:this.index-this.lineStart-t},end:{}});!this.eof();){var o=this.source.charCodeAt(this.index);if(++this.index,i.Character.isLineTerminator(o)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var a={multiLine:!1,slice:[e+t,this.index-1],range:[e,this.index-1],loc:n};r.push(a)}return 13===o&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,r}}if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart};a={multiLine:!1,slice:[e+t,this.index],range:[e,this.index],loc:n};r.push(a)}return r},t.prototype.skipMultiLineComment=function(){var t,e,n=[];for(this.trackComment&&(n=[],t=this.index-2,e={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r=this.source.charCodeAt(this.index);if(i.Character.isLineTerminator(r))13===r&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===r){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){e.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!0,slice:[t+2,this.index-2],range:[t,this.index],loc:e};n.push(o)}return n}++this.index}else++this.index}if(this.trackComment){e.end={line:this.lineNumber,column:this.index-this.lineStart};o={multiLine:!0,slice:[t+2,this.index],range:[t,this.index],loc:e};n.push(o)}return this.tolerateUnexpectedToken(),n},t.prototype.scanComments=function(){var t;this.trackComment&&(t=[]);for(var e=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(i.Character.isWhiteSpace(n))++this.index;else if(i.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,e=!0;else if(47===n)if(47===(n=this.source.charCodeAt(this.index+1))){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(t=t.concat(r)),e=!0}else{if(42!==n)break;this.index+=2;r=this.skipMultiLineComment();this.trackComment&&(t=t.concat(r))}else if(e&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;r=this.skipSingleLineComment(3);this.trackComment&&(t=t.concat(r))}else{if(60!==n)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;r=this.skipSingleLineComment(4);this.trackComment&&(t=t.concat(r))}}return t},t.prototype.isFutureReservedWord=function(t){switch(t){case"enum":case"export":case"import":case"super":return!0;default:return!1}},t.prototype.isStrictModeReservedWord=function(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},t.prototype.isRestrictedWord=function(t){return"eval"===t||"arguments"===t},t.prototype.isKeyword=function(t){switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}},t.prototype.codePointAt=function(t){var e=this.source.charCodeAt(t);if(e>=55296&&e<=56319){var n=this.source.charCodeAt(t+1);if(n>=56320&&n<=57343)e=1024*(e-55296)+n-56320+65536}return e},t.prototype.scanHexEscape=function(t){for(var e="u"===t?4:2,n=0,r=0;r<e;++r){if(this.eof()||!i.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+a(this.source[this.index++])}return String.fromCharCode(n)},t.prototype.scanUnicodeCodePointEscape=function(){var t=this.source[this.index],e=0;for("}"===t&&this.throwUnexpectedToken();!this.eof()&&(t=this.source[this.index++],i.Character.isHexDigit(t.charCodeAt(0)));)e=16*e+a(t);return(e>1114111||"}"!==t)&&this.throwUnexpectedToken(),i.Character.fromCodePoint(e)},t.prototype.getIdentifier=function(){for(var t=this.index++;!this.eof();){var e=this.source.charCodeAt(this.index);if(92===e)return this.index=t,this.getComplexIdentifier();if(e>=55296&&e<57343)return this.index=t,this.getComplexIdentifier();if(!i.Character.isIdentifierPart(e))break;++this.index}return this.source.slice(t,this.index)},t.prototype.getComplexIdentifier=function(){var t,e=this.codePointAt(this.index),n=i.Character.fromCodePoint(e);for(this.index+=n.length,92===e&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,t=this.scanUnicodeCodePointEscape()):null!==(t=this.scanHexEscape("u"))&&"\\"!==t&&i.Character.isIdentifierStart(t.charCodeAt(0))||this.throwUnexpectedToken(),n=t);!this.eof()&&(e=this.codePointAt(this.index),i.Character.isIdentifierPart(e));)n+=t=i.Character.fromCodePoint(e),this.index+=t.length,92===e&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,t=this.scanUnicodeCodePointEscape()):null!==(t=this.scanHexEscape("u"))&&"\\"!==t&&i.Character.isIdentifierPart(t.charCodeAt(0))||this.throwUnexpectedToken(),n+=t);return n},t.prototype.octalToDecimal=function(t){var e="0"!==t,n=s(t);return!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(e=!0,n=8*n+s(this.source[this.index++]),"0123".indexOf(t)>=0&&!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+s(this.source[this.index++]))),{code:n,octal:e}},t.prototype.scanIdentifier=function(){var t,e=this.index,n=92===this.source.charCodeAt(e)?this.getComplexIdentifier():this.getIdentifier();if(3!==(t=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3)&&e+n.length!==this.index){var r=this.index;this.index=e,this.tolerateUnexpectedToken(o.Messages.InvalidEscapedReservedWord),this.index=r}return{type:t,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},t.prototype.scanPunctuator=function(){var t=this.index,e=this.source[this.index];switch(e){case"(":case"{":"{"===e&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,e="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(e=this.source.substr(this.index,4))?this.index+=4:"==="===(e=e.substr(0,3))||"!=="===e||">>>"===e||"<<="===e||">>="===e||"**="===e?this.index+=3:"&&"===(e=e.substr(0,2))||"||"===e||"=="===e||"!="===e||"+="===e||"-="===e||"*="===e||"/="===e||"++"===e||"--"===e||"<<"===e||">>"===e||"&="===e||"|="===e||"^="===e||"%="===e||"<="===e||">="===e||"=>"===e||"**"===e?this.index+=2:(e=this.source[this.index],"<>=!+-*%&|^/".indexOf(e)>=0&&++this.index)}return this.index===t&&this.throwUnexpectedToken(),{type:7,value:e,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanHexLiteral=function(t){for(var e="";!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];return 0===e.length&&this.throwUnexpectedToken(),i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+e,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanBinaryLiteral=function(t){for(var e,n="";!this.eof()&&("0"===(e=this.source[this.index])||"1"===e);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(e=this.source.charCodeAt(this.index),(i.Character.isIdentifierStart(e)||i.Character.isDecimalDigit(e))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanOctalLiteral=function(t,e){var n="",r=!1;for(i.Character.isOctalDigit(t.charCodeAt(0))?(r=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return r||0!==n.length||this.throwUnexpectedToken(),(i.Character.isIdentifierStart(this.source.charCodeAt(this.index))||i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},t.prototype.isImplicitOctalLiteral=function(){for(var t=this.index+1;t<this.length;++t){var e=this.source[t];if("8"===e||"9"===e)return!1;if(!i.Character.isOctalDigit(e.charCodeAt(0)))return!0}return!0},t.prototype.scanNumericLiteral=function(){var t=this.index,e=this.source[t];r.assert(i.Character.isDecimalDigit(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==e){if(n=this.source[this.index++],e=this.source[this.index],"0"===n){if("x"===e||"X"===e)return++this.index,this.scanHexLiteral(t);if("b"===e||"B"===e)return++this.index,this.scanBinaryLiteral(t);if("o"===e||"O"===e)return this.scanOctalLiteral(e,t);if(e&&i.Character.isOctalDigit(e.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(e,t)}for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];e=this.source[this.index]}if("."===e){for(n+=this.source[this.index++];i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];e=this.source[this.index]}if("e"===e||"E"===e)if(n+=this.source[this.index++],"+"!==(e=this.source[this.index])&&"-"!==e||(n+=this.source[this.index++]),i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanStringLiteral=function(){var t=this.index,e=this.source[t];r.assert("'"===e||'"'===e,"String literal must starts with a quote"),++this.index;for(var n=!1,a="";!this.eof();){var s=this.source[this.index++];if(s===e){e="";break}if("\\"===s)if((s=this.source[this.index++])&&i.Character.isLineTerminator(s.charCodeAt(0)))++this.lineNumber,"\r"===s&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(s){case"u":if("{"===this.source[this.index])++this.index,a+=this.scanUnicodeCodePointEscape();else{var u=this.scanHexEscape(s);null===u&&this.throwUnexpectedToken(),a+=u}break;case"x":var l=this.scanHexEscape(s);null===l&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),a+=l;break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\x0B";break;case"8":case"9":a+=s,this.tolerateUnexpectedToken();break;default:if(s&&i.Character.isOctalDigit(s.charCodeAt(0))){var c=this.octalToDecimal(s);n=c.octal||n,a+=String.fromCharCode(c.code)}else a+=s}else{if(i.Character.isLineTerminator(s.charCodeAt(0)))break;a+=s}}return""!==e&&(this.index=t,this.throwUnexpectedToken()),{type:8,value:a,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanTemplate=function(){var t="",e=!1,n=this.index,r="`"===this.source[n],a=!1,s=2;for(++this.index;!this.eof();){var u=this.source[this.index++];if("`"===u){s=1,a=!0,e=!0;break}if("$"===u){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,e=!0;break}t+=u}else if("\\"===u)if(u=this.source[this.index++],i.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"u":if("{"===this.source[this.index])++this.index,t+=this.scanUnicodeCodePointEscape();else{var l=this.index,c=this.scanHexEscape(u);null!==c?t+=c:(this.index=l,t+=u)}break;case"x":var h=this.scanHexEscape(u);null===h&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),t+=h;break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\x0B";break;default:"0"===u?(i.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral),t+="\0"):i.Character.isOctalDigit(u.charCodeAt(0))?this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral):t+=u}else i.Character.isLineTerminator(u.charCodeAt(0))?(++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,t+="\n"):t+=u}return e||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-s),cooked:t,head:r,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},t.prototype.testRegExp=function(t,e){var n=t,r=this;e.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(t,e,n){var i=parseInt(e||n,16);return i>1114111&&r.throwUnexpectedToken(o.Messages.InvalidRegExp),i<=65535?String.fromCharCode(i):"￿"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(n)}catch(i){this.throwUnexpectedToken(o.Messages.InvalidRegExp)}try{return new RegExp(t,e)}catch(a){return null}},t.prototype.scanRegExpBody=function(){var t=this.source[this.index];r.assert("/"===t,"Regular expression literal must start with a slash");for(var e=this.source[this.index++],n=!1,a=!1;!this.eof();)if(e+=t=this.source[this.index++],"\\"===t)t=this.source[this.index++],i.Character.isLineTerminator(t.charCodeAt(0))&&this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),e+=t;else if(i.Character.isLineTerminator(t.charCodeAt(0)))this.throwUnexpectedToken(o.Messages.UnterminatedRegExp);else if(n)"]"===t&&(n=!1);else{if("/"===t){a=!0;break}"["===t&&(n=!0)}return a||this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),e.substr(1,e.length-2)},t.prototype.scanRegExpFlags=function(){for(var t="";!this.eof();){var e=this.source[this.index];if(!i.Character.isIdentifierPart(e.charCodeAt(0)))break;if(++this.index,"\\"!==e||this.eof())t+=e,e;else if("u"===(e=this.source[this.index])){++this.index;var n=this.index,r=this.scanHexEscape("u");if(null!==r)for(t+=r,"\\u";n<this.index;++n)this.source[n];else this.index=n,t+="u","\\u";this.tolerateUnexpectedToken()}else"\\",this.tolerateUnexpectedToken()}return t},t.prototype.scanRegExp=function(){var t=this.index,e=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:"",pattern:e,flags:n,regex:this.testRegExp(e,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var t=this.source.charCodeAt(this.index);return i.Character.isIdentifierStart(t)?this.scanIdentifier():40===t||41===t||59===t?this.scanPunctuator():39===t||34===t?this.scanStringLiteral():46===t?i.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():i.Character.isDecimalDigit(t)?this.scanNumericLiteral():96===t||125===t&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():t>=55296&&t<57343&&i.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},t}();e.Scanner=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(12),o=n(13),a=function(){function t(){this.values=[],this.curly=this.paren=-1}return t.prototype.beforeFunctionExpression=function(t){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(t)>=0},t.prototype.isRegexStart=function(){var t=this.values[this.values.length-1],e=null!==t;switch(t){case"this":case"]":e=!1;break;case")":var n=this.values[this.paren-1];e="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(e=!1,"function"===this.values[this.curly-3])e=!!(r=this.values[this.curly-4])&&!this.beforeFunctionExpression(r);else if("function"===this.values[this.curly-4]){var r;e=!(r=this.values[this.curly-5])||!this.beforeFunctionExpression(r)}}return e},t.prototype.push=function(t){7===t.type||4===t.type?("{"===t.value?this.curly=this.values.length:"("===t.value&&(this.paren=this.values.length),this.values.push(t.value)):this.values.push(null)},t}(),s=function(){function t(t,e){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!e&&("boolean"==typeof e.tolerant&&e.tolerant),this.scanner=new i.Scanner(t,this.errorHandler),this.scanner.trackComment=!!e&&("boolean"==typeof e.comment&&e.comment),this.trackRange=!!e&&("boolean"==typeof e.range&&e.range),this.trackLoc=!!e&&("boolean"==typeof e.loc&&e.loc),this.buffer=[],this.reader=new a}return t.prototype.errors=function(){return this.errorHandler.errors},t.prototype.getNextToken=function(){if(0===this.buffer.length){var t=this.scanner.scanComments();if(this.scanner.trackComment)for(var e=0;e<t.length;++e){var n=t[e],r=this.scanner.source.slice(n.slice[0],n.slice[1]),i={type:n.multiLine?"BlockComment":"LineComment",value:r};this.trackRange&&(i.range=n.range),this.trackLoc&&(i.loc=n.loc),this.buffer.push(i)}if(!this.scanner.eof()){var a=void 0;this.trackLoc&&(a={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var s="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(s);var u={type:o.TokenName[s.type],value:this.scanner.source.slice(s.start,s.end)};if(this.trackRange&&(u.range=[s.start,s.end]),this.trackLoc&&(a.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=a),9===s.type){var l=s.pattern,c=s.flags;u.regex={pattern:l,flags:c}}this.buffer.push(u)}}return this.buffer.shift()},t}();e.Tokenizer=s}])})},function(t,e,n){"use strict";var r=n(76),i=n(87),o=n(115),a=n(88),s=Object.prototype.toString,u=Object.prototype.hasOwnProperty,l=9,c=10,h=32,f=33,p=34,d=35,m=37,g=38,v=39,y=42,x=44,b=45,_=58,w=62,E=63,A=64,S=91,C=93,D=96,M=123,k=124,T=125,L={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},I=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function B(t){var e,n,o;if(e=t.toString(16).toUpperCase(),t<=255)n="x",o=2;else if(t<=65535)n="u",o=4;else{if(!(t<=4294967295))throw new i("code point within a string may not be greater than 0xFFFFFFFF");n="U",o=8}return"\\"+n+r.repeat("0",o-e.length)+e}function R(t){this.schema=t.schema||o,this.indent=Math.max(1,t.indent||2),this.skipInvalid=t.skipInvalid||!1,this.flowLevel=r.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,e){var n,r,i,o,a,s,l;if(null===e)return{};for(n={},i=0,o=(r=Object.keys(e)).length;i<o;i+=1)a=r[i],s=String(e[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(l=t.compiledTypeMap.fallback[a])&&u.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[a]=s;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function F(t,e){for(var n,i=r.repeat(" ",e),o=0,a=-1,s="",u=t.length;o<u;)-1===(a=t.indexOf("\n",o))?(n=t.slice(o),o=u):(n=t.slice(o,a+1),o=a+1),n.length&&"\n"!==n&&(s+=i),s+=n;return s}function P(t,e){return"\n"+r.repeat(" ",t.indent*e)}function O(t){return t===h||t===l}function N(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function U(t){return N(t)&&65279!==t&&t!==x&&t!==S&&t!==C&&t!==M&&t!==T&&t!==_&&t!==d}function z(t){return/^\n* /.test(t)}var j=1,W=2,Y=3,G=4,V=5;function H(t,e,n,r,i){var o,a,s=!1,u=!1,l=-1!==r,h=-1,L=function(t){return N(t)&&65279!==t&&!O(t)&&t!==b&&t!==E&&t!==_&&t!==x&&t!==S&&t!==C&&t!==M&&t!==T&&t!==d&&t!==g&&t!==y&&t!==f&&t!==k&&t!==w&&t!==v&&t!==p&&t!==m&&t!==A&&t!==D}(t.charCodeAt(0))&&!O(t.charCodeAt(t.length-1));if(e)for(o=0;o<t.length;o++){if(!N(a=t.charCodeAt(o)))return V;L=L&&U(a)}else{for(o=0;o<t.length;o++){if((a=t.charCodeAt(o))===c)s=!0,l&&(u=u||o-h-1>r&&" "!==t[h+1],h=o);else if(!N(a))return V;L=L&&U(a)}u=u||l&&o-h-1>r&&" "!==t[h+1]}return s||u?n>9&&z(t)?V:u?G:Y:L&&!i(t)?j:W}function q(t,e,n,r){t.dump=function(){if(0===e.length)return"''";if(!t.noCompatMode&&-1!==I.indexOf(e))return"'"+e+"'";var o=t.indent*Math.max(1,n),a=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),s=r||t.flowLevel>-1&&n>=t.flowLevel;switch(H(e,s,t.indent,a,function(e){return function(t,e){var n,r;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(t.implicitTypes[n].resolve(e))return!0;return!1}(t,e)})){case j:return e;case W:return"'"+e.replace(/'/g,"''")+"'";case Y:return"|"+X(e,t.indent)+Z(F(e,o));case G:return">"+X(e,t.indent)+Z(F(function(t,e){var n,r,i=/(\n+)([^\n]*)/g,o=function(){var n=t.indexOf("\n");return n=-1!==n?n:t.length,i.lastIndex=n,J(t.slice(0,n),e)}(),a="\n"===t[0]||" "===t[0];for(;r=i.exec(t);){var s=r[1],u=r[2];n=" "===u[0],o+=s+(a||n||""===u?"":"\n")+J(u,e),a=n}return o}(e,a),o));case V:return'"'+function(t){for(var e,n,r,i="",o=0;o<t.length;o++)(e=t.charCodeAt(o))>=55296&&e<=56319&&(n=t.charCodeAt(o+1))>=56320&&n<=57343?(i+=B(1024*(e-55296)+n-56320+65536),o++):(r=L[e],i+=!r&&N(e)?t[o]:r||B(e));return i}(e)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function X(t,e){var n=z(t)?String(e):"",r="\n"===t[t.length-1];return n+(r&&("\n"===t[t.length-2]||"\n"===t)?"+":r?"":"-")+"\n"}function Z(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function J(t,e){if(""===t||" "===t[0])return t;for(var n,r,i=/ [^ ]/g,o=0,a=0,s=0,u="";n=i.exec(t);)(s=n.index)-o>e&&(r=a>o?a:s,u+="\n"+t.slice(o,r),o=r+1),a=s;return u+="\n",t.length-o>e&&a>o?u+=t.slice(o,a)+"\n"+t.slice(a+1):u+=t.slice(o),u.slice(1)}function K(t,e,n){var r,o,a,l,c,h;for(a=0,l=(o=n?t.explicitTypes:t.implicitTypes).length;a<l;a+=1)if(((c=o[a]).instanceOf||c.predicate)&&(!c.instanceOf||"object"==typeof e&&e instanceof c.instanceOf)&&(!c.predicate||c.predicate(e))){if(t.tag=n?c.tag:"?",c.represent){if(h=t.styleMap[c.tag]||c.defaultStyle,"[object Function]"===s.call(c.represent))r=c.represent(e,h);else{if(!u.call(c.represent,h))throw new i("!<"+c.tag+'> tag resolver accepts not "'+h+'" style');r=c.represent[h](e,h)}t.dump=r}return!0}return!1}function $(t,e,n,r,o,a){t.tag=null,t.dump=n,K(t,n,!1)||K(t,n,!0);var u=s.call(t.dump);r&&(r=t.flowLevel<0||t.flowLevel>e);var l,h,f="[object Object]"===u||"[object Array]"===u;if(f&&(h=-1!==(l=t.duplicates.indexOf(n))),(null!==t.tag&&"?"!==t.tag||h||2!==t.indent&&e>0)&&(o=!1),h&&t.usedDuplicates[l])t.dump="*ref_"+l;else{if(f&&h&&!t.usedDuplicates[l]&&(t.usedDuplicates[l]=!0),"[object Object]"===u)r&&0!==Object.keys(t.dump).length?(!function(t,e,n,r){var o,a,s,u,l,h,f="",p=t.tag,d=Object.keys(n);if(!0===t.sortKeys)d.sort();else if("function"==typeof t.sortKeys)d.sort(t.sortKeys);else if(t.sortKeys)throw new i("sortKeys must be a boolean or a function");for(o=0,a=d.length;o<a;o+=1)h="",r&&0===o||(h+=P(t,e)),u=n[s=d[o]],$(t,e+1,s,!0,!0,!0)&&((l=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&c===t.dump.charCodeAt(0)?h+="?":h+="? "),h+=t.dump,l&&(h+=P(t,e)),$(t,e+1,u,!0,l)&&(t.dump&&c===t.dump.charCodeAt(0)?h+=":":h+=": ",f+=h+=t.dump));t.tag=p,t.dump=f||"{}"}(t,e,t.dump,o),h&&(t.dump="&ref_"+l+t.dump)):(!function(t,e,n){var r,i,o,a,s,u="",l=t.tag,c=Object.keys(n);for(r=0,i=c.length;r<i;r+=1)s=t.condenseFlow?'"':"",0!==r&&(s+=", "),a=n[o=c[r]],$(t,e,o,!1,!1)&&(t.dump.length>1024&&(s+="? "),s+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),$(t,e,a,!1,!1)&&(u+=s+=t.dump));t.tag=l,t.dump="{"+u+"}"}(t,e,t.dump),h&&(t.dump="&ref_"+l+" "+t.dump));else if("[object Array]"===u)r&&0!==t.dump.length?(!function(t,e,n,r){var i,o,a="",s=t.tag;for(i=0,o=n.length;i<o;i+=1)$(t,e+1,n[i],!0,!0)&&(r&&0===i||(a+=P(t,e)),t.dump&&c===t.dump.charCodeAt(0)?a+="-":a+="- ",a+=t.dump);t.tag=s,t.dump=a||"[]"}(t,e,t.dump,o),h&&(t.dump="&ref_"+l+t.dump)):(!function(t,e,n){var r,i,o="",a=t.tag;for(r=0,i=n.length;r<i;r+=1)$(t,e,n[r],!1,!1)&&(0!==r&&(o+=","+(t.condenseFlow?"":" ")),o+=t.dump);t.tag=a,t.dump="["+o+"]"}(t,e,t.dump),h&&(t.dump="&ref_"+l+" "+t.dump));else{if("[object String]"!==u){if(t.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+u)}"?"!==t.tag&&q(t,t.dump,e,a)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function Q(t,e){var n,r,i=[],o=[];for(function a(t,e,n){var r,i,o;if(null!==t&&"object"==typeof t)if(-1!==(i=e.indexOf(t)))-1===n.indexOf(i)&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)a(t[i],e,n);else for(r=Object.keys(t),i=0,o=r.length;i<o;i+=1)a(t[r[i]],e,n)}(t,i,o),n=0,r=o.length;n<r;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}function tt(t,e){var n=new R(e=e||{});return n.noRefs||Q(t,n),$(n,0,t,!0,!0)?n.dump+"\n":""}t.exports.dump=tt,t.exports.safeDump=function(t,e){return tt(t,r.extend({schema:a},e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileBoundAreaDat=e.TileRoadDat=e.TileWaterDat=e.Tiledat=e.SkMakeVectorTile=e.MVTROADLAYERCNT=e.SELECTRADIUS=undefined,e.SortRoads=d;var r=n(590),i=l(n(593)),o=n(16),a=l(n(239)),s=n(33),u=n(156);function l(t){return t&&t.__esModule?t:{"default":t}}var c=e.SELECTRADIUS=128,h=e.MVTROADLAYERCNT=2,f=(e.SkMakeVectorTile=function(t){return new r.VectorTile(new i["default"](t))},e.Tiledat=function(){this.vertex=null,this.index=null,this.lineIndex=null,this.coorExtend=1});r.VectorTile.prototype.loadTileBgDat=function(t,e,n,r){var i=this.layers.earth;if(null==i)return null;for(var s=i.extent,u=0,l=0;l<i.length;l++)for(var c=(g=i.feature(l)).loadGeometry(),h=0;h<c.length;h++){u+=(b=c[h]).length}if(0==u)return null;var p=new f;p.vertex=new ArrayBuffer(8*u),p.index=[],p.coorExtend=s;var d=new DataView(p.vertex),m=0;u=0;for(l=0;l<i.length;l++){var g=i.feature(l),v=e.getTheme("earth",g.properties.kind);if(!v||v.show){var y=e.getThemeColor(v,"color",n,[0,0,0,255]),x=(c=g.loadGeometry(),null==r?null:new o.SkEnvelope);for(h=0;h<c.length;h++){for(var b=c[h],_=new Int16Array(2*b.length),w=0;w<b.length;w++)_[2*w+0]=b[w].x,_[2*w+1]=s-b[w].y,d.setUint16(8*m+0,b[w].x,!0),d.setUint16(8*m+2,s-b[w].y,!0),d.setUint8(8*m+4,y[0]),d.setUint8(8*m+5,y[1]),d.setUint8(8*m+6,y[2]),d.setUint8(8*m+7,y[3]),m++,null!=r&&x.ext2Inc(b[w].x,b[w].y);for(var E=(0,a["default"])(_),A=0;A<E.length;A++)p.index.push(E[A]+u);u+=b.length}null!=r&&r.push({env:x,obj:g})}}return p},r.VectorTile.prototype.loadTileLandDat=function(t,e,n,r){var i=this.layers.landuse;if(null==i)return null;for(var s=i.extent,u=0,l=0;l<i.length;l++)for(var h=(v=i.feature(l)).loadGeometry(),p=0;p<h.length;p++){u+=(_=h[p]).length}if(0==u)return null;var d=new f;d.vertex=new ArrayBuffer(8*u),d.index=[],d.coorExtend=s,d.lineIndex=[];var m=new DataView(d.vertex),g=0;u=0;for(l=0;l<i.length;l++){var v=i.feature(l),y=e.getTheme("landuse",v.properties.kind);if(!y||y.show){var x=e.getThemeColor(y,"color",n,[255,0,0,255]),b=(h=v.loadGeometry(),new o.SkEnvelope);for(p=0;p<h.length;p++){for(var _=h[p],w=new Int16Array(2*_.length),E=0;E<_.length;E++)w[2*E+0]=_[E].x,w[2*E+1]=s-_[E].y,m.setUint16(8*g+0,_[E].x,!0),m.setUint16(8*g+2,s-_[E].y,!0),m.setUint8(8*g+4,x[0]),m.setUint8(8*g+5,x[1]),m.setUint8(8*g+6,x[2]),m.setUint8(8*g+7,x[3]),g++,null!=r&&b.ext2Inc(_[E].x,_[E].y);if(3==v.type)for(var A=(0,a["default"])(w),S=0;S<A.length;S++)d.index.push(A[S]+u);else if(2==v.type)for(E=1;E<_.length;E++)d.lineIndex.push(E-1+u),d.lineIndex.push(E+u);u+=_.length}null!=r&&(2==v.type&&(b.ext2Inc(b.startLon-c,b.startLat-c),b.ext2Inc(b.endLon+c,b.endLat+c)),r.push({env:b,obj:v}))}}return d};var p=e.TileWaterDat=function(){this.prototype=new f,this.oceanAreaIndex=[]};r.VectorTile.prototype.loadTileWaterDat=function(t,e,n,r){var i=this.layers.water;if(null==i)return null;var s=new p;s.coorExtend=i.extent;var u=0;s.index=[];for(var l=0;l<i.length;l++){if((m=i.feature(l)).properties.id||m.properties.name)for(var c=m.loadGeometry(),h=0;h<c.length;h++){u+=(x=c[h]).length}}s.vertex=new ArrayBuffer(8*u);var f=new DataView(s.vertex),d=0;u=0;for(l=0;l<i.length;l++){var m;if((m=i.feature(l)).properties.id||m.properties.name){var g=e.getTheme("water",m.properties.kind);if(!g||g.show){var v=e.getThemeColor(g,"color",n,[0,255,0,255]),y=(c=m.loadGeometry(),new o.SkEnvelope);for(h=0;h<c.length;h++){for(var x=c[h],b=new Int16Array(2*x.length),_=0;_<x.length;_++)f.setUint16(8*d+0,x[_].x,!0),f.setUint16(8*d+2,s.coorExtend-x[_].y,!0),f.setUint8(8*d+4,v[0]),f.setUint8(8*d+5,v[1]),f.setUint8(8*d+6,v[2]),f.setUint8(8*d+7,v[3]),d++,b[2*_+0]=x[_].x,b[2*_+1]=s.coorExtend-x[_].y,null!=r&&y.ext2Inc(x[_].x,x[_].y);if(3==m.type){var w=(0,a["default"])(b);if("ocean"==m.properties.kind)for(var E=0;E<w.length;E++)s.index.push(w[E]+u);else for(E=0;E<w.length;E++)s.index.push(w[E]+u)}u+=x.length}null!=r&&r.push({env:y,obj:m})}}}return s},r.VectorTile.prototype.loadTileBuildingDat=function(t,e,n,r){var i=this.layers.buildings;if(null==i)return null;for(var s=i.extent,u=0,l=0,c=0,h=[],p=0;p<i.length;p++){if(3==(D=i.feature(p)).type){for(var d=new o.SkEnvelope,m=D.loadGeometry(),g=0;g<m.length;g++){for(var v=m[g],y=new Int16Array(2*v.length),x=0;x<v.length;x++)y[2*x+0]=v[x].x,y[2*x+1]=s-v[x].y,t.objSelectable&&d.ext2Inc(v[x].x,v[x].y);for(var b=(0,a["default"])(y),_=0;_<b.length;_++)h.push(b[_]+u);u+=2*v.length,l+=6*(v.length-1),c+=2*(v.length-1)}t.objSelectable&&r.push({env:d,obj:D})}}if(l+=h.length,0==u)return null;var w=new f;w.vertex=new ArrayBuffer(10*u);var E=new DataView(w.vertex);w.index=new Uint16Array(l),w.coorExtend=s,w.lineIndex=new Uint16Array(c);var A=0,S=0;for(p=0;p<h.length;p++)w.index[A]=h[p],A++;var C=0;for(p=0;p<i.length;p++){var D;if(3==(D=i.feature(p)).type){var M=D.properties.height,k=e.getTheme("buildings",D.properties.kind);if(!k||k.show){var T=e.getThemeColor(k,"mcolor",n,[230,230,230,255]),L=e.getThemeColor(k,"bcolor",n,[200,200,200,255]);for(m=D.loadGeometry(),g=0;g<m.length;g++){for(v=m[g],x=0;x<v.length;x++)E.setInt16(10*(C+x)+0,v[x].x,!0),E.setInt16(10*(C+x)+2,s-v[x].y,!0),E.setInt16(10*(C+x)+4,M*(1<<Math.max(0,n-13)),!0),E.setUint8(10*(C+x)+6,T[0]),E.setUint8(10*(C+x)+7,T[1]),E.setUint8(10*(C+x)+8,T[2]),E.setUint8(10*(C+x)+9,T[3]);for(x=0;x<v.length;x++)E.setInt16(10*(C+v.length+x)+0,v[x].x,!0),E.setInt16(10*(C+v.length+x)+2,s-v[x].y,!0),E.setInt16(10*(C+v.length+x)+4,0,!0),E.setUint8(10*(C+v.length+x)+6,L[0]),E.setUint8(10*(C+v.length+x)+7,L[1]),E.setUint8(10*(C+v.length+x)+8,L[2]),E.setUint8(10*(C+v.length+x)+9,L[3]);for(x=1;x<v.length;x++)w.index[A]=x-1+C,A++,w.index[A]=x+C,A++,w.index[A]=x-1+C+v.length,A++,w.index[A]=x-1+C+v.length,A++,w.index[A]=x+C,A++,w.index[A]=x+C+v.length,A++,w.lineIndex[S]=x-1+C,S++,w.lineIndex[S]=x+C,S++;C+=2*v.length}}}}return w};e.TileRoadDat=function(t,e){this.prototype=new f(t,e),this.addvbo=function(t,e,n,r){}};r.VectorTile.prototype.loadTileRoadDat=function(t,e,n,r,i){var a=this.layers.roads;if(null==a)return null;for(var u=a.extent,l=[0],f=[],p=[new Int32Array(h)],m=0,g=d(a),v=0;v<g.length;v++){var y=(I=g[v]).properties.kind,x=I.properties.kind_detail,b=(I.properties.name,I.properties.sort_rank,I.loadGeometry()),_={};if(!(R=e.getTheme("roads",y,x))||R.show){var w=e.getWidth("roads",y,x,n,[32,8]);_.m_iMainWidth=w[0],_.m_iBordWidth=w[1];for(var E=0,A=0,S=0,C=0;C<b.length;C++){E+=4*(O=b[C]).length,_.m_iMainWidth>0&&(S+=6*(2*O.length-1)),_.m_iBordWidth>0&&(A+=6*(2*O.length-1))}l[m]+E>65e3&&(f.push(v),l.push(0),p.push(new Int32Array(h)),m++),l[m]+=E,p[m][0]+=A,p[m][1]+=S}}for(var D=0;D<=m;D++){var M={routePoints:null,routeIndex:[]};M.routeIndex.length=h,l[D]>0&&(M.routePoints=new ArrayBuffer(32*l[D]),M.routePointsDV=new DataView(M.routePoints));for(var k=0;k<h;k++)p[D][k]>0&&(M.routeIndex[k]=new Uint16Array(p[D][k]));M.routePointCnt=0,M.routeIndexCnt=new Int32Array(h);var T=0,L=g.length;D<m&&(L=f[D]),D>0&&(T=f[D-1]);for(v=T;v<L;v++){b=(I=g[v]).loadGeometry();var I,B=new o.SkEnvelope,R=(y=I.properties.kind,x=I.properties.kind_detail,_={},e.getTheme("roads",y,x)),F=e.getThemeColor(R,"mcolor",n,[255,255,255,255]),P=e.getThemeColor(R,"bcolor",n,[0,0,0,255]);if(!R||R.show){_.m_FColor={r:F[0],g:F[1],b:F[2],a:F[3]},_.m_BColor={r:P[0],g:P[1],b:P[2],a:P[3]};w=e.getWidth("roads",y,x,n,[32,8]);_.m_iMainWidth=w[0],_.m_iBordWidth=w[1];for(C=0;C<b.length;C++){for(var O=b[C],N=new Float32Array(2*O.length),U=0;U<O.length;U++)N[2*U+0]=O[U].x,N[2*U+1]=u-O[U].y,t.objSelectable&&B.ext2Inc(O[U].x,O[U].y);(0,s.ParCacheRoute2Triangle)(N,O.length,M,0,_,!0,!0)}null!=r&&(B.ext2Inc(B.startLon-c,B.startLat-c),B.ext2Inc(B.endLon+c,B.endLat+c),r.push({env:B,obj:I}))}}i.addvbo(M.routePoints,M.routePointCnt,M.routeIndex,M.routeIndexCnt)}};e.TileBoundAreaDat=function(t,e){this.prototype=new f(t,e),this.addvbo=function(t,e,n,r){}};function d(t){var e=[];e.length=t.length;for(var n={},r=0;r<t.length;r++){n[a=t.feature(r).properties.sort_rank]?n[a]++:n[a]=1}var i=[];for(var o in n)i.push({rank:o,cnt:n[o]});i.sort(function(t,e){return t.rank-e.rank});for(r=1;r<i.length;r++)i[r].cnt+=i[r-1].cnt,n[i[r].rank]=i[r].cnt;for(r=0;r<t.length;r++){var a,s=t.feature(r);e[n[a=s.properties.sort_rank]-1]=s,n[a]--}return e}r.VectorTile.prototype.loadTileBoundAreasDat=function(t,e,n,r,i,a){var s=this.layers[i];if(null==s)return null;for(var u=s.extent,l=[0],h=[0],f=0,p=[],d=0;d<s.length;d++){for(var m=(E=s.feature(d)).loadGeometry(),g=0,v=0,y=0;y<m.length;y++)g+=4*m[y].length-4,v+=6*(2*m[y].length-3);l[f]+g>65e3&&(p.push(d),l.push(0),h.push(0),f++),l[f]+=g,h[f]+=v}for(var x=0;x<=f;x++){var b={};b.lineIndex=[new Uint16Array(h[x])],b.linePoints=new ArrayBuffer(20*l[x]),b.linePointsDV=new DataView(b.linePoints),b.linePointCnt=0,b.lineIndexCnt=[0];var _=0,w=s.length;x<f&&(w=p[x]),x>0&&(_=p[x-1]);for(d=_;d<w;d++){m=(E=s.feature(d)).loadGeometry();var E,A=new o.SkEnvelope,S=E.properties.kind,C={},D=e.getTheme(i,S),M=e.getThemeColor(D,"mcolor",n,[128,128,128,255]);if(!D||D.show){C.m_FColor={r:M[0],g:M[1],b:M[2],a:M[3]};var k=e.getWidth(i,S,null,n,[32,0]);C.m_iMainWidth=k[0],C.m_iBordWidth=k[1];var T=e.getTex(i,S);T?(C.m_fTexS=T[0],C.m_fTexE=T[1],C.m_fSegLength=T[2]):(C.m_fTexS=.25,C.m_fTexE=.5,C.m_fSegLength=480);for(y=0;y<m.length;y++){for(var L=m[y],I=new Float32Array(2*L.length),B=0;B<L.length;B++)I[2*B+0]=L[B].x,I[2*B+1]=u-L[B].y,t.objSelectable&&A.ext2Inc(L[B].x,L[B].y);ParCacheLine2Triangle(I,L.length,b,0,C)}t.objSelectable&&(2==E.type&&(A.ext2Inc(A.startLon-c,A.startLat-c),A.ext2Inc(A.endLon+c,A.endLat+c)),r.push({env:A,obj:E}))}}a.addvbo(b.linePoints,b.linePointCnt,b.lineIndex[0],b.lineIndexCnt[0])}},r.VectorTile.prototype.loadTilePoiDat=function(t,e,n,r,i,o){var a=this.layers[i];if(a&&o)for(var s=a.extent,l=0;l<a.length;l++){var c=a.feature(l);if(c.properties.name){var h=e.getTheme(i,c.properties.kind);if(h||(h={show:!0,font:"15px sans-serif",labelctrl:1,iconctrl:0,fontsize:15,boundctrl:0,fillStyle:"rgba(255,0,0,255)",strokeStyle:"rgba(255,255,255,128)"}),h.show){var f=c.loadGeometry(),p=r.startLon+f[0][0].x*(r.endLon-r.startLon)/s,d=r.startLat+f[0][0].y*(r.endLat-r.startLat)/s,m=new u.SkPointLabel(c.properties.kind,p,d,c.properties.name);m.setTheme(h,t.labelContext),o(m)}}}}},function(t,e,n){t.exports.VectorTile=n(591),t.exports.VectorTileFeature=n(254),t.exports.VectorTileLayer=n(253)},function(t,e,n){"use strict";var r=n(253);function i(t,e,n){if(3===t){var i=new r(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}t.exports=function(t,e){this.layers=t.readFields(i,{},e)}},function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},function(t,e,n){"use strict";t.exports=i;var r=n(197);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;function o(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function u(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function y(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=v(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=v(this.buf,this.pos)+4294967296*x(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return a(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){var r="",i=e;for(;i<n;){var o,a,s,u=t[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),y(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),y(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),y(this.buf,-1&t,this.pos),y(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),y(this.buf,-1&t,this.pos),y(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;if(e.buf[e.pos++]|=n|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&s(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&s(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,u,e)},writePackedSVarint:function(t,e){this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){this.writeMessage(t,f,e)},writePackedFloat:function(t,e){this.writeMessage(t,c,e)},writePackedDouble:function(t,e){this.writeMessage(t,h,e)},writePackedFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,d,e)},writePackedFixed64:function(t,e){this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,g,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer=u;var r=n(244),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),o=n(110),a=n(255),s=n(35);function u(t){var e=i.extend({zIndex:1},t,{features:["bg","building","road"]});return new o.SkInterLayer(e)}u.Satellite=function(t){var e=i.extend(t||{},{url:s.UrlConf.sat,type:"png",maxLevel:18,zIndex:2});return new r.SkGridLayer(e)},u.RoadNet=function(t){var e=i.extend({zIndex:3},t||{},{features:["road"]});return new o.SkInterLayer(e)},u.Flexible=function(t){var e=i.extend(t||{},{url:null,type:"png",zIndex:12});return new r.SkGridLayer(e)},u.Traffic=function(t){return new a.Traffic(t)}},function(t,e,n){"use strict";function r(t){this.layers=[],this.addLayers(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.LayerGroup=r,r.prototype.addLayer=function(t){t&&(this.layers.push(t),this._map&&this._map.addLayer(t))},r.prototype.addLayers=function(t){if(t)for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},r.prototype.getLayers=function(t){return this.layers},r.prototype.hasLayer=function(t){return-1!=this.layers.indexOf(t)},r.prototype.removeLayer=function(t){if(t){var e=this.layers.indexOf(t);this.layers.splice(e,1),this._map&&this._map.removeLayer(t)}},r.prototype.clearLayers=function(){for(var t=this.layers.length-1;t>=0;t--)this.removeLayer(this.layers[t])},r.prototype.eachLayer=function(t){if(t)for(var e=0,n=this.layers.length;e>n;e++)t(this.layers[e],e,this.layers)},r.prototype.setMap=function(t){t?this.show():this.hide(),this._map=t},r.prototype.show=function(){this._visible(!0)},r.prototype.hide=function(){this._visible(!1)},r.prototype._visible=function(t){if(this._map)for(var e=0,n=this.layers.length;e>n;e++)t?this._map.addLayer(this.layers[e]):this._map.removeLayer(this.layers[e])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(t,e){return new u(t,e)};var r=s(n(597)),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),o=n(47),a=s(n(81));n(17);function s(t){return t&&t.__esModule?t:{"default":t}}var u=o.Overlay.extend({options:{radius:30,zooms:[3,18]},initialize:function(t,e){i.setOptions(this,e),this.setMap(t)},onAdd:function(){var t=this.getMap();this._container=document.getElementById("_cmmap_heatmap_div_");var e=t.getSize();this._container.style.width=e.getWidth()+"px",this._container.style.height=e.getHeight()+"px";var n=i.extend({container:this._container},this.options);this._heatmap=r["default"].create(n),this._canvas=document.getElementById("_cmmap_heatmap_div_").querySelector("canvas"),t&&(t.on("zoomchange",this.update,this),t.on("mapmove",this.update,this))},onRemove:function(){this._heatmap=null,document.getElementById("_cmmap_heatmap_div_").innerHTML="";var t=this.getMap();t&&(t.off("zoomchange",this.update,this),t.off("mapmove",this.update,this))},setOptions:function(t){i.setOptions(this,t)},addDataPoint:function(t,e,n){this._data||(this._data=[]);var r={lng:t,lat:e,count:n||1};if(this._data.push(r),this.getMap()&&this._heatmap){var i=this.getMap().lngLatToContainer(r),o={x:i.x,y:i.y};o.value=r.count,this._heatmap.addData(o)}},setDataSet:function(t){if(t)if(t.max&&(this._max=t.max),i.isString(t.data)){var e=this;(0,a["default"])(t.data,null,function(n,r){n?console.error(n.message):(e._data=t.dataParser(r),this.update())})}else this._data=t.data,this.update()},_visiblity:!0,hide:function(){this._visiblity&&(this._visiblity=!1,document.getElementById("_cmmap_heatmap_div_").style.visibility="hidden")},show:function(){this._visiblity||(this._visiblity=!0,document.getElementById("_cmmap_heatmap_div_").style.visibility="visible")},isShow:function(){if(!this.options.zooms)return!0;var t,e=this.options.zooms;return t=this.getMap().getZoom(),this._visiblity&&i.isArray(e)&&t>=e[0]&&t<=e[1]},update:function(){if(this.getMap()&&this._heatmap&&this._data){var t=this.getMap();if(this._canvas){var e=t.getSize();this._canvas.width==e.getWidth()&&this._canvas.height==e.getHeight()||(this._container.style.width=e.getWidth()+"px",this._container.style.height=e.getHeight()+"px",this._heatmap.configure({width:e.getWidth(),height:e.getHeight()}))}if(this.isShow()){this.show();for(var n=[],r=this._data.length;r--;){var i=this._data[r],o=i.count,a=t.lngLatToContainer([i.lng,i.lat]),s={x:Math.round(a.x),y:Math.round(a.y)};s.value=o,n.push(s)}var u={data:n};this._max&&(u.max=this._max),this._heatmap.setData(u)}else this.hide()}},getOptions:function(){return this.options},getDataSet:function(){return this._data}})},function(t,e,n){var r,i;!function(o,a,s){void 0!==t&&t.exports?t.exports=s():(i="function"==typeof(r=s)?r.call(e,n,e,t):r)===undefined||(t.exports=i)}(0,0,function(){var t={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},e=function(){var e=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=t.xField||t.defaultXField,this._yField=t.yField||t.defaultYField,this._valueField=t.valueField||t.defaultValueField,t.radius&&(this._cfgRadius=t.radius)},n=t.defaultRadius;return e.prototype={_organiseData:function(t,e){var r=t[this._xField],i=t[this._yField],o=this._radi,a=this._data,s=this._max,u=this._min,l=t[this._valueField]||1,c=t.radius||this._cfgRadius||n;a[r]||(a[r]=[],o[r]=[]),a[r][i]?a[r][i]+=l:(a[r][i]=l,o[r][i]=c);var h=a[r][i];return h>s?(e?this.setDataMax(h):this._max=h,!1):h<u?(e?this.setDataMin(h):this._min=h,!1):{x:r,y:i,value:l,radius:c,min:u,max:s}},_unOrganizeData:function(){var t=[],e=this._data,n=this._radi;for(var r in e)for(var i in e[r])t.push({x:r,y:i,radius:n[r][i],value:e[r][i]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var t=arguments[0],e=t.length;e--;)this.addData.call(this,t[e]);else{var n=this._organiseData(arguments[0],!0);n&&(0===this._data.length&&(this._min=this._max=n.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[n]}))}return this},setData:function(t){var e=t.data,n=e.length;this._data=[],this._radi=[];for(var r=0;r<n;r++)this._organiseData(e[r],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},e}(),n=function(){var t=function(t){var e=t.gradient||t.defaultGradient,n=document.createElement("canvas"),r=n.getContext("2d");n.width=256,n.height=1;var i=r.createLinearGradient(0,0,256,1);for(var o in e)i.addColorStop(o,e[o]);return r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data},e=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),i=t,o=t;if(n.width=n.height=2*t,1==e)r.beginPath(),r.arc(i,o,t,0,2*Math.PI,!1),r.fillStyle="rgba(0,0,0,1)",r.fill();else{var a=r.createRadialGradient(i,o,t*e,i,o,t);a.addColorStop(0,"rgba(0,0,0,1)"),a.addColorStop(1,"rgba(0,0,0,0)"),r.fillStyle=a,r.fillRect(0,0,2*t,2*t)}return n};function n(e){var n=e.container,r=this.shadowCanvas=document.createElement("canvas"),i=this.canvas=e.canvas||document.createElement("canvas"),o=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(e.container)||{});i.className="heatmap-canvas",this._width=i.width=r.width=e.width||+o.width.replace(/px/,""),this._height=i.height=r.height=e.height||+o.height.replace(/px/,""),this.shadowCtx=r.getContext("2d"),this.ctx=i.getContext("2d"),i.style.cssText=r.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(i),this._palette=t(e),this._templates={},this._setStyles(e)}return n.prototype={renderPartial:function(t){t.data.length>0&&(this._drawAlpha(t),this._colorize())},renderAll:function(t){this._clear(),t.data.length>0&&(this._drawAlpha(function(t){for(var e=[],n=t.min,r=t.max,i=t.radi,o=(t=t.data,Object.keys(t)),a=o.length;a--;)for(var s=o[a],u=Object.keys(t[s]),l=u.length;l--;){var c=u[l],h=t[s][c],f=i[s][c];e.push({x:s,y:c,value:h,radius:f})}return{min:n,max:r,data:e}}(t)),this._colorize())},_updateGradient:function(e){this._palette=t(e)},updateConfig:function(t){t.gradient&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=t.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=t.height||this._height,this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){for(var n=this._min=t.min,r=this._max=t.max,i=(t=t.data||[]).length,o=1-this._blur;i--;){var a,s=t[i],u=s.x,l=s.y,c=s.radius,h=Math.min(s.value,r),f=u-c,p=l-c,d=this.shadowCtx;this._templates[c]?a=this._templates[c]:this._templates[c]=a=e(c,o);var m=(h-n)/(r-n);d.globalAlpha=m<.01?.01:m,d.drawImage(a,f,p),f<this._renderBoundaries[0]&&(this._renderBoundaries[0]=f),p<this._renderBoundaries[1]&&(this._renderBoundaries[1]=p),f+2*c>this._renderBoundaries[2]&&(this._renderBoundaries[2]=f+2*c),p+2*c>this._renderBoundaries[3]&&(this._renderBoundaries[3]=p+2*c)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],n=this._renderBoundaries[2]-t,r=this._renderBoundaries[3]-e,i=this._width,o=this._height,a=this._opacity,s=this._maxOpacity,u=this._minOpacity,l=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+n>i&&(n=i-t),e+r>o&&(r=o-e);for(var c=this.shadowCtx.getImageData(t,e,n,r),h=c.data,f=h.length,p=this._palette,d=3;d<f;d+=4){var m,g=h[d],v=4*g;if(v)m=a>0?a:g<s?g<u?u:g:s,h[d-3]=p[v],h[d-2]=p[v+1],h[d-1]=p[v+2],h[d]=l?p[v+3]:m}c.data=h,this.ctx.putImageData(c,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e=this.shadowCtx.getImageData(t.x,t.y,1,1).data[3],n=this._max,r=this._min;return Math.abs(n-r)*(e/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},n}(),r=function(){var e=!1;return"canvas2d"===t.defaultRenderer&&(e=n),e}(),i={merge:function(){for(var t={},e=arguments.length,n=0;n<e;n++){var r=arguments[n];for(var i in r)t[i]=r[i]}return t}},o=function(){var n=function(){function t(){this.cStore={}}return t.prototype={on:function(t,e,n){var r=this.cStore;r[t]||(r[t]=[]),r[t].push(function(t){return e.call(n,t)})},emit:function(t,e){var n=this.cStore;if(n[t])for(var r=n[t].length,i=0;i<r;i++){(0,n[t][i])(e)}}},t}(),o=function(t){var e=t._renderer,n=t._coordinator,r=t._store;n.on("renderpartial",e.renderPartial,e),n.on("renderall",e.renderAll,e),n.on("extremachange",function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config.gradient||t._config.defaultGradient})}),r.setCoordinator(n)};function a(){var a=this._config=i.merge(t,arguments[0]||{});if(this._coordinator=new n,a.plugin){var s=a.plugin;if(!t.plugins[s])throw new Error("Plugin '"+s+"' not found. Maybe it was not registered.");var u=t.plugins[s];this._renderer=new u.renderer(a),this._store=new u.store(a)}else this._renderer=new r(a),this._store=new e(a);o(this)}return a.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=i.merge(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},a}();return{create:function(t){return new o(t)},register:function(e,n){t.plugins[e]=n}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasLayer=undefined;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),i=n(116);e.CanvasLayer=i.Layer.extend({initialize:function(t){this.options=r.extend({opacity:1,visible:!0,zIndex:12},t),i.Layer.prototype.initialize.call(this,this.options)},onAdd:function(){var t=this.getMap();i.Layer.prototype.onAdd.call(this,t),this.create(this.options)},onRemove:function(){var t=this.getMap();i.Layer.prototype.onRemove.call(this,t),this.canvasDiv=null},create:function(t){this._container.appendChild(this.options.canvas),this._isShow()?this.render():this.hide()},render:function(){this.update()},update:function(){this.getMap()&&this._isShow()&&this.getBounds()?(this.show(),this._updatePosition()):this.hide()},_updatePosition:function(){var t=this.getMap(),e=t.lngLatToContainer(this.options.bounds.southWest),n=t.lngLatToContainer(this.options.bounds.northEast);if(e&&n){var r=Math.abs(e.x-n.x),i=Math.abs(n.y-e.y),o=this._container;o.style.top=n.y+"px",o.style.left=e.x+"px";var a=this.options.canvas;a.style.width=r+"px",a.style.height=i+"px"}},reFresh:function(){this.render()},getBounds:function(){return this.options.bounds},setBounds:function(t){this.options.bounds=t},getElement:function(){return this.options.canvas},setCanvas:function(t){this.options.canvas=t,this._container&&(this._container.removeChild(this._container.firstChild),this._container.appendChild(this.options.canvas))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CustomLayer=undefined;var r=n(116),i=a(n(1)),o=a(n(11));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}e.CustomLayer=r.Layer.extend({options:{opacity:1,zIndex:12,zooms:undefined},visible:!0,initialize:function(t,e){i.setOptions(this,e),r.Layer.prototype.initialize.call(this,this.options),this._initCantainer(t),this.options.map&&this.setMap(this.options.map)},onAdd:function(){this.getMap()._getLayerContainer().appendChild(this._cantainer)},onRemove:function(){this.getMap()._getLayerContainer().removeChild(this._cantainer)},_initCantainer:function(t){return this._cantainer=o.create("div","cmmap-e"),o.setStyle(this._cantainer,{zIndex:this.options.zIndex,opacity:this.options.opacity}),o.addClass(t,"amap-custom"),this._cantainer.appendChild(t),this._cantainer}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLayer=undefined;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),i=n(116);e.ImageLayer=i.Layer.extend({options:{bounds:undefined,url:undefined,opacity:1,visible:!0,zIndex:12},initialize:function(t){r.setOptions(this,t),i.Layer.prototype.initialize.call(this,this.options)},onAdd:function(t){i.Layer.prototype.onAdd.call(this,t),this.create(this.options)},onRemove:function(){i.Layer.prototype.onRemove.call(this),this.imageDiv=null,this.img=null},create:function(t){var e=document.createElement("img");e.src=this.options.url,e.ondragstart=function(t){return!1},this.img=e,this._container.appendChild(this.img),this._isShow()?this.render():this.hide()},render:function(){this.update()},update:function(){this.getMap()&&this._isShow()&&this.getBounds()?(this.show(),this._updatePosition()):this.hide()},_updatePosition:function(){var t=this.getMap(),e=t.lngLatToContainer(this.options.bounds.southWest),n=t.lngLatToContainer(this.options.bounds.northEast),r=Math.abs(e.x-n.x),i=Math.abs(n.y-e.y);if(e&&n){var o=this._container;o.style.top=n.y+"px",o.style.left=e.x+"px";var a=this.img;a.style.width=r+"px",a.style.height=i+"px"}},getBounds:function(){return this.options.bounds},setBounds:function(t){this.options.bounds=t},getImageUrl:function(){return this.options.url},setImageUrl:function(t){this.options.url=t,this.img.src=t},getElement:function(){return this.img}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VideoLayer=undefined;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),i=n(116);e.VideoLayer=i.Layer.extend({options:{bounds:undefined,url:undefined,opacity:1,visible:!0,zIndex:12,autoplay:!0,loop:!0},initialize:function(t){r.setOptions(this,t),i.Layer.prototype.initialize.call(this,this.options)},onAdd:function(){i.Layer.prototype.onAdd.call(this),this.create(this.options)},onRemove:function(){i.Layer.prototype.onRemove.call(this),this.videoDiv=null},create:function(t){var e=document.createElement("video");e.autoplay=this.options.autoplay,e.loop=this.options.loop,this.video=e,this._container.appendChild(this.video),this.setVideoUrl(),this._isShow()?this.render():this.hide()},render:function(){this.update()},update:function(){this.getMap()&&this._isShow()&&this.getBounds()?(this.show(),this._updatePosition()):this.hide()},_updatePosition:function(){var t=this.getMap(),e=t.lngLatToContainer(this.options.bounds.southWest),n=t.lngLatToContainer(this.options.bounds.northEast),r=Math.abs(e.x-n.x),i=Math.abs(n.y-e.y);if(e&&n){var o=this._container;o.style.top=n.y+"px",o.style.left=e.x+"px";var a=this.video;a.style.width=r+"px",a.style.height=i+"px"}},getBounds:function(){return this.options.bounds},setBounds:function(t){this.options.bounds=t},getVideoUrl:function(){return this.options.url},setVideoUrl:function(t){t===undefined?t=this.options.url:this.options.url=t;var e=[];r.isArray(this.options.url)?e=this.options.url:e.push(this.options.url),this.video.innerHTML="";for(var n=0,i=e.length;n<i;n++){var o=document.createElement("source");o.src=e[n],this.video.appendChild(o)}},getElement:function(){return this.video}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndoorMap=undefined;var r=n(71),i=n(1),o=w(i),a=n(242),s=n(111),u=n(34),l=n(153),c=_(n(112)),h=n(16),f=n(17),p=n(15),d=n(156),m=n(86),g=(n(26),_(n(81))),v=w(n(104)),y=n(35),x=n(155),b=n(33);function _(t){return t&&t.__esModule?t:{"default":t}}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var E=function(t,e,n,r){var o=this;this.dataReady=!1;var a=y.UrlConf.getUrl("indoorUrl",{"{type}":1,"{name}":t});(0,g["default"])(a+"&rid="+(new Date).getTime(),{param:"jsonp"},function(t,r){if(!t)if("ok"==r.status.toLowerCase()){var a=v.urlBase64ToUint8Array(r.data);!function(t){var r=(0,s.BufferNew)(t);o.buildingid=(0,s.BufferGetUniString)(r),o.buildingname=(0,s.BufferGetUniString)(r),o.env=new h.SkEnvelope,o.env.startLon=(0,s.BufferGetInt32)(r),o.env.startLat=(0,s.BufferGetInt32)(r),o.env.endLon=(0,s.BufferGetInt32)(r),o.env.endLat=(0,s.BufferGetInt32)(r),o.centerX=(o.env.startLon+o.env.endLon)/2,o.centerY=(o.env.startLat+o.env.endLat)/2,o.iBuildingIndexCnt=0,o.iBuildingLineIndexCnt=0,o.buildingBuffer=0,o.buildingIndexBuffer=0,o.floors=[],o.floorSelected=0;for(var a=(0,s.BufferGetInt32)(r),u=(0,s.BufferGetOffset)(r),l=0,c=0,f=0,p=0;p<a;p++){var m=(0,s.BufferGetUint16)(r);c+=m,(0,s.BufferSkip)(r,4*m);var g=(0,s.BufferGetInt16)(r);f+=g,m<255?(0,s.BufferSkip)(r,g):(0,s.BufferSkip)(r,2*g)}(0,s.BufferSetOffset)(r,u);for(var v=new ArrayBuffer(12*c),y=new DataView(v),_=new Uint16Array(f),w=new Uint16Array(2*c),p=0;p<a;p++){for(var m=(0,s.BufferGetUint16)(r),E={r:252,g:249,b:242,a:255},A={r:230,g:142,b:0,a:255},S=12*(l+C),C=0;C<m;C++){var D=(0,s.BufferGetInt16)(r),M=-(0,s.BufferGetInt16)(r);y.setInt16(S+0,D,!0),y.setInt16(S+2,M,!0),y.setUint8(S+4,E.r),y.setUint8(S+5,E.g),y.setUint8(S+6,E.b),y.setUint8(S+7,E.a),y.setUint8(S+8,A.r),y.setUint8(S+9,A.g),y.setUint8(S+10,A.b),y.setUint8(S+11,A.a)}var g=(0,s.BufferGetInt16)(r);if(m<255)for(var C=0;C<g;C++)_[o.iBuildingIndexCnt]=(0,s.BufferGetUint8)(r)+l,o.iBuildingIndexCnt++;else for(var C=0;C<g;C++)_[o.iBuildingIndexCnt]=(0,s.BufferGetUint16)(r)+l,o.iBuildingIndexCnt++;for(var C=0;C<m;C++)w[o.iBuildingLineIndexCnt]=l+C,o.iBuildingLineIndexCnt++,w[o.iBuildingLineIndexCnt]=l+(C+1)%m,o.iBuildingLineIndexCnt++;l+=m}o.iBuildingIndexCnt>0&&(o.buildingVBO=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,o.buildingVBO),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),o.buildingIBO=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,o.buildingIBO),e.bufferData(e.ELEMENT_ARRAY_BUFFER,_,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),o.buildingLineIBO=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,o.buildingLineIBO),e.bufferData(e.ELEMENT_ARRAY_BUFFER,w,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null));for(var k=(0,s.BufferGetInt32)(r),T=0;T<k;T++){var L={};L.FloorName=(0,s.BufferGetUniString)(r),L.Floor_ID=(0,s.BufferGetUniString)(r),L.F_Number=(0,s.BufferGetInt32)(r),L.iShpIBOCnt=0,L.iShpLineIBOCnt=0,L.iRegIBOCnt=0,L.iRegLineIBOCnt=0,L.shops=[],L.pubservices=[],L.escalators=[];var I=(0,s.BufferGetUint32)(r);u=(0,s.BufferGetOffset)(r),l=0,c=0,f=0;for(var p=0;p<I;p++){var m=(0,s.BufferGetUint16)(r);c+=m,(0,s.BufferSkip)(r,4*m);var g=(0,s.BufferGetInt16)(r);f+=g,m<255?(0,s.BufferSkip)(r,g):(0,s.BufferSkip)(r,2*g)}(0,s.BufferSetOffset)(r,u),v=new ArrayBuffer(12*c),y=new DataView(v),_=new Uint16Array(f),w=new Uint16Array(2*c);for(var p=0;p<I;p++){for(var m=(0,s.BufferGetUint16)(r),E={r:252,g:249,b:242,a:255},A={r:230,g:142,b:0,a:255},C=0;C<m;C++){var D=(0,s.BufferGetInt16)(r),M=-(0,s.BufferGetInt16)(r);y.setInt16(12*(l+C)+0,D,!0),y.setInt16(12*(l+C)+2,M,!0),y.setUint8(12*(l+C)+4,E.r),y.setUint8(12*(l+C)+5,E.g),y.setUint8(12*(l+C)+6,E.b),y.setUint8(12*(l+C)+7,E.a),y.setUint8(12*(l+C)+8,A.r),y.setUint8(12*(l+C)+9,A.g),y.setUint8(12*(l+C)+10,A.b),y.setUint8(12*(l+C)+11,A.a)}var g=(0,s.BufferGetInt16)(r);if(m<255)for(var C=0;C<g;C++)_[L.iShpIBOCnt]=(0,s.BufferGetUint8)(r)+l,L.iShpIBOCnt++;else for(var C=0;C<g;C++)_[L.iShpIBOCnt]=(0,s.BufferGetUint16)(r)+l,L.iShpIBOCnt++;for(var C=0;C<m;C++)w[L.iShpLineIBOCnt]=l+C,L.iShpLineIBOCnt++,w[L.iShpLineIBOCnt]=l+(C+1)%m,L.iShpLineIBOCnt++;l+=m}L.iShpIBOCnt>0&&(L.floorVBO=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,L.floorVBO),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),L.floorIBO=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,L.floorIBO),e.bufferData(e.ELEMENT_ARRAY_BUFFER,_,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),L.floorLineIBO=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,L.floorLineIBO),e.bufferData(e.ELEMENT_ARRAY_BUFFER,w,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null));var B=(0,s.BufferGetInt32)(r);u=(0,s.BufferGetOffset)(r),l=0,c=0,f=0;for(var p=0;p<B;p++){var R=(0,s.BufferGetUniString)(r),F=(0,s.BufferGetUniString)(r),P=(0,s.BufferGetUniString)(r),O=(0,s.BufferGetUniString)(r),m=(0,s.BufferGetUint16)(r);c+=m,(0,s.BufferSkip)(r,4*m);var g=(0,s.BufferGetInt16)(r);f+=g,m<255?(0,s.BufferSkip)(r,g):(0,s.BufferSkip)(r,2*g)}(0,s.BufferSetOffset)(r,u),v=new ArrayBuffer(16*c),y=new DataView(v),_=new Uint16Array(f),w=new Uint16Array(2*c);for(var p=0;p<B;p++){var R=(0,s.BufferGetUniString)(r),F=(0,s.BufferGetUniString)(r),P=(0,s.BufferGetUniString)(r),O=(0,s.BufferGetUniString)(r),m=(0,s.BufferGetUint16)(r),E={r:229,g:218,b:232,a:255},A={r:150,g:143,b:152,a:255},N=(0,i.colorFormInt)(p+1);L.regions||(L.regions=[]);var U=x.MapThemeMgr.getInstance().themeMgr.getRegionTheme(n.getZoom(),F);U&&(E=U.m_Color,A=U.m_BColor);for(var C=0;C<m;C++){var D=(0,s.BufferGetInt16)(r),M=-(0,s.BufferGetInt16)(r);y.setInt16(16*(l+C)+0,D,!0),y.setInt16(16*(l+C)+2,M,!0),y.setUint8(16*(l+C)+4,E.r),y.setUint8(16*(l+C)+5,E.g),y.setUint8(16*(l+C)+6,E.b),y.setUint8(16*(l+C)+7,E.a),y.setUint8(16*(l+C)+8,A.r),y.setUint8(16*(l+C)+9,A.g),y.setUint8(16*(l+C)+10,A.b),y.setUint8(16*(l+C)+11,A.a),y.setUint8(16*(l+C)+12,N.r),y.setUint8(16*(l+C)+13,N.g),y.setUint8(16*(l+C)+14,N.b),y.setUint8(16*(l+C)+15,N.a)}var g=(0,s.BufferGetInt16)(r),z=L.iRegIBOCnt,j=s.BufferGetUint16;m<255&&(j=s.BufferGetUint8);for(var C=0;C<g;C++)_[L.iRegIBOCnt++]=j(r)+l;var W=L.iRegIBOCnt?L.iRegIBOCnt-1:L.iRegIBOCnt,Y={id:R,type:F,cnName:P,enName:O,num:p,iboS:z,iboE:W};L.regions.push(Y);for(var C=0;C<m;C++)w[L.iRegLineIBOCnt]=l+C,L.iRegLineIBOCnt++,w[L.iRegLineIBOCnt]=l+(C+1)%m,L.iRegLineIBOCnt++;l+=m}L.iRegIBOCnt>0&&(L.regionVBO=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,L.regionVBO),e.bufferData(e.ARRAY_BUFFER,v,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),L.regionIBO=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,L.regionIBO),e.bufferData(e.ELEMENT_ARRAY_BUFFER,_,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),L.regionLineIBO=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,L.regionLineIBO),e.bufferData(e.ELEMENT_ARRAY_BUFFER,w,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null));for(var G=(0,s.BufferGetInt32)(r),V=0;V<G;V++){var H=(0,s.BufferGetInt32)(r),q=(0,s.BufferGetInt32)(r),X=(0,s.BufferGetUniString)(r),Z=(0,s.BufferGetUniString)(r),J=(0,s.BufferGetUniString)(r),K=(0,s.BufferGetUniString)(r),$=((0,s.BufferGetUniString)(r),(0,s.BufferGetUniString)(r));if(Z&&0!=Z.length){var Q=J;if(Q&&0!=Q.length||(Q=K),Q&&0!=Q.length){var tt=new d.SkPointLabel(Z,o.centerX+H,o.centerY+q,Q);tt.properties.info={id:X,regionId:$,type:"poi"};var U=x.MapThemeMgr.getInstance().themeMgr.getPoiTheme(n.getZoom(),Z);U&&(tt.setTheme(U,n.labelContext),L.shops.push(tt))}}}L.shops=(0,b.SkSortPoiLabels)(L.shops);for(var et=(0,s.BufferGetInt32)(r),V=0;V<et;V++){var H=(0,s.BufferGetInt32)(r),q=(0,s.BufferGetInt32)(r),nt=(0,s.BufferGetUniString)(r),rt=(0,s.BufferGetUniString)(r),Q=(0,s.BufferGetUniString)(r),$=(0,s.BufferGetUniString)(r);if(Q&&0!=Q.length){var it=new d.SkPointLabel(rt,o.centerX+H,o.centerY+q,Q);it.properties.info={id:nt,regionId:$,type:"publicservice"};var U=x.MapThemeMgr.getInstance().themeMgr.getPoiTheme(n.getZoom(),rt);U&&(it.setTheme(U,n.labelContext),L.pubservices.push(it))}}L.pubservices=(0,b.SkSortPoiLabels)(L.pubservices);for(var ot=(0,s.BufferGetInt32)(r),V=0;V<ot;V++){var H=(0,s.BufferGetInt32)(r),q=(0,s.BufferGetInt32)(r),at=(0,s.BufferGetUniString)(r),rt=(0,s.BufferGetUniString)(r),Q=(0,s.BufferGetUniString)(r),$=(0,s.BufferGetUniString)(r);if(Q&&0!=Q.length){var st=new d.SkPointLabel(rt,o.centerX+H,o.centerY+q,Q);st.properties.info={id:at,regionId:$,type:"escalator"};var U=x.MapThemeMgr.getInstance().themeMgr.getPoiTheme(n.getZoom(),rt);U&&(st.setTheme(U,n.labelContext),L.escalators.push(st))}}L.escalators=(0,b.SkSortPoiLabels)(L.escalators),o.floors.push(L)}}(new DataView(a.buffer)),o.dataReady=!0,n.postInvalidate()}else console.error(r.description)})};E.prototype.Render=function(t,e,n,r){if(this.dataReady){var i=u.mat4.clone(n),o=e.axes.toMapAxes(this.centerX,this.centerY);u.mat4.translate(i,i,[o.x,o.y,0]);var a=e.bgProgram;t.useProgram(a.prog),t.uniformMatrix4fv(a.uniLocation,!1,i);var s=this._getIndex(r._floorSelected);if(-1!=s){this.floorSelected=s,t.enableVertexAttribArray(a.a_Position),t.enableVertexAttribArray(a.a_Color);var l=this.floors[this.floorSelected],c=e.gesture;if(t.lineWidth(4),0==this.iBuildingIndexCnt||c.isPicking()||(t.bindBuffer(t.ARRAY_BUFFER,this.buildingVBO),t.vertexAttribPointer(a.a_Position,2,t.SHORT,!1,12,0),c.isPicking()?t.vertexAttribPointer(a.a_Color,4,t.UNSIGNED_BYTE,!0,12,12):t.vertexAttribPointer(a.a_Color,4,t.UNSIGNED_BYTE,!0,12,4),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buildingIBO),t.drawElements(t.TRIANGLES,this.iBuildingIndexCnt,t.UNSIGNED_SHORT,0),t.vertexAttribPointer(a.a_Color,4,t.UNSIGNED_BYTE,!0,12,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buildingLineIBO),t.drawElements(t.LINES,this.iBuildingLineIndexCnt,t.UNSIGNED_SHORT,0)),0==l.iShpIBOCnt||c.isPicking()||(t.bindBuffer(t.ARRAY_BUFFER,l.floorVBO),t.vertexAttribPointer(a.a_Position,2,t.SHORT,!1,12,0),t.vertexAttribPointer(a.a_Color,4,t.UNSIGNED_BYTE,!0,12,4),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l.floorIBO),t.drawElements(t.TRIANGLES,l.iShpIBOCnt,t.UNSIGNED_SHORT,0),t.vertexAttribPointer(a.a_Color,4,t.UNSIGNED_BYTE,!0,12,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l.floorLineIBO),t.lineWidth(3),t.drawElements(t.LINES,l.iShpLineIBOCnt,t.UNSIGNED_SHORT,0)),0!=l.iRegIBOCnt){t.bindBuffer(t.ARRAY_BUFFER,l.regionVBO),t.vertexAttribPointer(a.a_Position,2,t.SHORT,!1,16,0),c.isPicking()?t.vertexAttribPointer(a.a_Color,4,t.UNSIGNED_BYTE,!0,16,12):t.vertexAttribPointer(a.a_Color,4,t.UNSIGNED_BYTE,!0,16,4),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l.regionIBO),t.drawElements(t.TRIANGLES,l.iRegIBOCnt,t.UNSIGNED_SHORT,0),c.isPicking()||(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l.regionLineIBO),t.lineWidth(1),t.vertexAttribPointer(a.a_Color,4,t.UNSIGNED_BYTE,!0,16,8),t.drawElements(t.LINES,l.iRegLineIBOCnt,t.UNSIGNED_SHORT,0));var h=c.getPickObj(r);if(h&&!c.isPicking()){t.bindBuffer(t.ARRAY_BUFFER,l.regionVBO),t.vertexAttribPointer(a.a_Position,2,t.SHORT,!1,16,0);var f=r.options.hcolor;t.uniform4f(a.uPickColorIndex,f.r/255,f.g/255,f.b/255,f.a/255),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,l.regionIBO),t.drawElements(t.TRIANGLES,h.iboE-h.iboS+1,t.UNSIGNED_SHORT,2*h.iboS),t.uniform4f(a.uPickColorIndex,0,0,0,0)}}if(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.bindBuffer(t.ARRAY_BUFFER,null),c.isPicking()){var p=c.getPickID(t);p&&c.setPickObj(r,l.regions[p-1])}}}},E.prototype.RenderLabel=function(t,e){if(x.MapThemeMgr.getInstance().themeMgr&&this.dataReady){var n=this._getIndex(e._floorSelected);if(-1!=n){this.floorSelected=n;for(var r=this.floors[this.floorSelected],i=0;i<r.shops.length;i++){(o=r.shops[i]).findPos(t,e.labelRTree,!0)&&(e.labelRTree.insert(o.rect,""),e.curLabel.push(o))}for(i=0;i<r.pubservices.length;i++){(o=r.pubservices[i]).findPos(t,e.labelRTree,!0)&&(e.labelRTree.insert(o.rect,""),e.curLabel.push(o))}for(i=0;i<r.escalators.length;i++){var o;(o=r.escalators[i]).findPos(t,e.labelRTree,!0)&&(e.labelRTree.insert(o.rect,""),e.curLabel.push(o))}}}},E.prototype._getPoint=function(t){if(!t||""===t)return null;var e=this.floors[this.floorSelected];if(e.shops){var n=e.shops.find(function(e,n,r){return e.properties.info&&t===e.properties.info.regionId});if(n)return n}return null},E.prototype._getIndex=function(t){return this.dataReady&&t?this.floors.findIndex(function(e,n,r){return t==e.Floor_ID}):-1};e.IndoorMap=r.Evented.extend({_floorSelected:0,initialize:function(t){this.options=o.extend({zIndex:1,cursor:"defalut",hideFloorBar:!1,alwaysShow:!1,hcolor:{r:255,g:255,b:1,a:255}},t)},init:function(t,e){var n=this;this.name=t,this.map=e,this.cache=new l.LRUMap(1024),this.dataReady=!1,this.buildingIndexArr={},this.buildingIndex=(0,c["default"])(10),this.cache.shift=function(){var t=l.LRUMap.prototype.shift.call(this),n=t[1];n.buildingVBO&&e.gl.deleteBuffer(n.buildingVBO),n.buildingIBO&&e.gl.deleteBuffer(n.buildingIBO);for(var r=0;r<n.floors.length;r++){var i=n.floors[r];i.floorVBO&&e.gl.deleteBuffer(i.floorVBO),i.floorIBO&&e.gl.deleteBuffer(i.floorIBO),i.regionVBO&&e.gl.deleteBuffer(i.floorVBO),i.regionIBO&&e.gl.deleteBuffer(i.floorIBO)}return t};var r=y.UrlConf.getUrl("indoorUrl",{"{type}":0,"{name}":"indoor"});(0,g["default"])(r+"&rid="+(new Date).getTime(),{param:"jsonp"},function(t,e){if(!t)if("ok"==e.status.toLowerCase()){var r=v.urlBase64ToUint8Array(e.data);!function(t){for(var e=(0,s.BufferNew)(t),r=(0,s.BufferGetInt32)(e),i=0;i<r;i++){var o=(0,s.BufferGetUniString)(e),a=(0,s.BufferGetInt32)(e),u=(0,s.BufferGetInt32)(e),l=(0,s.BufferGetInt32)(e),c=(0,s.BufferGetInt32)(e),f=new h.SkEnvelope;f.ext2Inc(a,u),f.ext2Inc(l,c),n.buildingIndexArr[o]=f,n.buildingIndex.insert({x:a,y:u,w:l-a,h:c-u},o)}n.dataReady=!0}(new DataView(r.buffer))}else console.error(e.description)}),this._initListener(),this.setCustomStyle(m.styleConf.normal)},_initListener:function(){var t=this.map;t&&(t.on("click",this.handleEvent,this),t.on("mousemove",this.handleEvent,this))},handleEvent:function(t){var e=this.map;if(e){var n=this.getSelectedBuildingId();if(n)if(this._contain(n,t))if("mousemove"==t.type)(r=e.gesture.singleTap(t.pixel))&&e.postInvalidate();else if("click"==t.type){var r,i=e.gesture.getPickObj(this);if(i)(r=this._getPointByRegionId(i.id))&&o.extend(i,{shopid:r.properties.info.id}),this.fire("RegionClick",{region:i})}}},_contain:function(t,e){var n=this.buildingIndexArr[t];if(!n)return!1;var r=e.lnglat.getMercatorXY();return n.inc(r.getMX(),r.getMY())},_getPointByRegionId:function(t){return this.buildings?this.buildings[0]._getPoint(t):null},setCustomStyle:function(t){},getTiles:function(t,e,n){if(!this.dataReady||!x.MapThemeMgr.getInstance().themeMgr)return[];if(t<=15)return[];var r=this.buildingIndex.search({x:e.startLon,y:e.startLat,w:e.endLon-e.startLon,h:e.endLat-e.startLat});if(0==r.length)return[];for(var i=[],o=0;o<r.length;o++){var a=this.cache.get(r[o]);a||(a=new E(r[o],this.map.gl,this.map,this),this.cache.set(r[o],a)),i.push(a)}return i},prepareData:function(){var t=this.map.mapController.getZoom();this.buildings=this.getTiles(t,this.map.env,this.map.queryObj)},prepareLabel:function(t){if(x.MapThemeMgr.getInstance().themeMgr&&this._islabelShow()){var e=this.map.mapController.getZoom(),n=map.mapController.getZoomVal(),r=this.getTiles(e,this.map.env,this.map.queryObj);this.labelRTree=t||(0,c["default"])(10),this.curLabel=[];for(var i=0;i<r.length;i++)r[i].RenderLabel(this.map,this);this.lastLabelZoom=n}},getPoiAround:function(t){if(!this._islabelShow()||!this.map||!this.curLabel)return null;for(var e=0;e<this.curLabel.length;e++){var n=this.curLabel[e];if(n.incPix(t))return n}},render:function(){var t=this.buildings;if(t&&this._isShow()){var e=this.map.gl;e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL);for(var n=0;n<t.length;n++)t[n].Render(e,this.map,this.map.curProj,this);e.disable(e.DEPTH_TEST),!this.options.hideFloorBar&&t.length>0?this.showFloorBar():this.hideFloorBar()}else this.hideFloorBar()},renderLabel:function(t){if(x.MapThemeMgr.getInstance().themeMgr&&this._islabelShow()&&this.curLabel){var e=this.map.mapController.getZoomVal();if(!(this.lastLabelZoom/e<=.5))for(var n=0;n<this.curLabel.length;n++){this.curLabel[n].draw(this.map.labelContext,this.map,t)}}},showIndoorMap:function(t,e,n){if(this.buildingIndexArr){var r=this.buildingIndexArr[t],i=(r.startLon+r.endLon)/2,o=(r.startLat+r.endLat)/2,a=(0,f.SkMercatortoLonLat)(i,o);this._floorSelected=e||this._floorSelected,this.map.setZoomAndCenter(17,[a.lng,a.lat])}},showFloor:function(t,e){this.buildings&&(this._floorSelected=t,this._showFloor(t,!1),this.map.postInvalidate())},_showFloor:function(t,e){this.getMap().gesture.setPickObj(null),this._indoorcontrol&&e&&this._indoorcontrol.selectFloorID(this._floorSelected,!e)},setMap:function(t){t?(this.map||this.init("indoorMap",t),t.addLayer(this)):this.map&&this.map.removeLayer(this)},getMap:function(){return this.map},show:function(){this._visible||(this._visible=!0,this.getMap()&&this.getMap().postInvalidate())},hide:function(){this._visible&&(this._visible=!0,this.getMap()&&this.getMap().postInvalidate())},_visible:!0,_isShow:function(){return!!this.getMap()&&(!(this.getMap().getZoom()<=15)&&this._visible)},_labelvisible:!0,_islabelShow:function(){return!!this.getMap()&&(!(this.getMap().getZoom()<=15)&&this._labelvisible)},setzIndex:function(t){this.options.zIndex=t,this.getMap()&&this.getMap().sortLayer()},showFloorBar:function(){if(this.getMap()&&this.buildings&&0!=this.buildings){var t=this.buildings[0];if(t.dataReady){for(var e=[],n=0,r=t.floors.length;n<r;n++){var i=t.floors[n];e.push({FloorName:i.FloorName,FloorID:i.Floor_ID,disable:i.iShpIBOCnt>0})}var o={title:t.buildingname,floors:e,curfloor:this._floorSelected,buildingid:t.buildingid};this._indoorcontrol?t.buildingid!=this._indoorcontrol.getBuldingId()&&this._indoorcontrol.setData(o):(this._indoorcontrol=new a.IndoorFloor(o,this.showFloor,this),this.getMap().addControl(this._indoorcontrol))}}},hideFloorBar:function(){this._indoorcontrol&&(this.getMap().removeControl(this._indoorcontrol),this._indoorcontrol=null)},setOpacity:function(t){},getOpcity:function(){},showLabels:function(){this._labelvisible||(this._labelvisible=!0,this.getMap().postInvalidate())},hideLabels:function(){this._labelvisible&&(this._labelvisible=!1,this.getMap().postInvalidate())},getSelectedBuildingId:function(){return this.getMap()&&this.buildings&&0!=this.buildings?this.buildings[0].buildingid:null},getSelectedBuilding:function(){if(!this.getMap()||!this.buildings||0==this.buildings)return null;for(var t=this.buildings[0],e=(0,p.toLngLat)((0,f.SkMercatortoLonLat)(t.centerX,t.centerX)),n={floor_indexs:[],floor_names:[]},r=0,i=t.floors.length;r<i;r++)n.floor_indexs.push(t.floors[r].Floor_ID),n.floor_names.push(t.floors[r].FloorName);return{id:t.buildingid,name:t.buildingname,lnglat:e,floor:this._floorSelected,floor_details:n}}})},function(t,e,n){var r=n(604);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};i.insertInto=undefined;n(159)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(158)(!1)).push([t.i,".amap-maptypecontrol {\n\tz-index: 150;\n\tposition: absolute;\n\ttop: 12px;\n\tright: 12px;\n\tz-index: 304\n}\n\n.amap-maptype-wrap {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\twidth: 64px;\n\theight: 64px\n}\n\n.amap-maptype-con {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\twidth: 60px;\n\theight: 60px;\n\tbackground: #fff;\n\tborder: solid 1px #ccc;\n\tcursor: pointer\n}\n\n.amap-maptype-win {\n\tposition: absolute;\n\ttop: 1px;\n\tright: 1px;\n\twidth: 56px;\n\theight: 56px;\n\toverflow: hidden;\n\tbackground: #ccc;\n\tborder: solid 1px #ccc\n}\n\n.amap-maptype-title {\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\twidth: 60px;\n\theight: 20px;\n\tcolor: #333;\n\ttext-align: center;\n\tfont-size: 12px;\n\tline-height: 20px;\n\tbackground: #fff\n}\n\n.amap-maptype-title:hover {\n\tbackground-color: #eee\n}\n\n.amap-maptype-list {\n\tposition: absolute;\n\ttop: 64px;\n\tright: 0;\n\twidth: 100px;\n\tbackground: #fff;\n\tborder: solid 1px #ccc;\n\toverflow: hidden\n}\n\n.amap-maptype-list p {\n\twidth: 100px;\n\theight: 20px;\n\tmargin: 0;\n\tcursor: pointer;\n\tbackground: #fff\n}\n\n.amap-maptype-lsit p:hover {\n\tbackground: #eee\n}\n\n.amap-maptype-check {\n\tdisplay: inline-block;\n\twidth: 15px;\n\theight: 15px;\n\tmargin-left: 2px;\n\tbackground: url(http://61.189.20.113:8000/images/maptype-bg.png) no-repeat -30px 4px\n}\n\n.amap-maptype-checked {\n\tbackground-position: 0 4px\n}\n\n.amap-maptype-check-hover {\n\tbackground-position: -15px 4px\n}\n\n.amap-maptype-label {\n\tdisplay: inline-block;\n\twidth: 60px;\n\theight: 15px;\n\tcolor: #333;\n\tfont-size: 12px;\n\tline-height: 15px;\n\tmargin-left: 10px\n}",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ControlBar=undefined,e.create=function(t){return new s(t)};var r=a(n(1)),i=a(n(11)),o=n(75);function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var s=e.ControlBar=o.Control.extend({options:{position:{top:"10px",right:"10px"},showZoomBar:!0,showControlButton:!0},initialize:function(t){r.setOptions(this,t),console.log(this.options)},onAdd:function(t){var e=document.createElement("div");return e.className="cmmap-controlbar",i.setStyle(e,this.options.position),this.options.showControlButton&&(this.createlunpan(t),e.appendChild(this.lunpanDiv)),this.options.showZoomBar&&(this.createzoomBar(t),e.appendChild(this.zoomDiv)),this.controlDiv=e,this.controlDiv},onRemove:function(){this.controlDiv=null},createlunpan:function(t){var e=document.createElement("div");e.className="cmmap-luopan";var n=document.createElement("div");n.className="cmmap-luopan-bg",e.appendChild(n);var r=document.createElement("div");r.className="cmmap-compass";var i=document.createElement("div");i.className="cmmap-pointers",r.appendChild(i),e.appendChild(r),document.createElement("div").className="cmmap-pitchUp",document.createElement("div").className="cmmap-pitchDown";var o=document.createElement("div");o.className="cmmap-rotateLeft",e.appendChild(o);var a=document.createElement("div");a.className="cmmap-rotateRight",e.appendChild(a);e.onclick=function(e){var n=e.target;n.classList.contains("cmmap-pitchUp")||n.classList.contains("cmmap-pitchDown")||(n.classList.contains("cmmap-rotateRight")?(t.mapController.rotateBy(-2),i.style.transform="rotateX("+(90-t.mapController.lookAngle)+"deg) rotateZ("+-t.mapController.mapAngle+"deg)"):n.classList.contains("cmmap-rotateLeft")?(t.mapController.rotateBy(2),i.style.transform="rotateX("+(90-t.mapController.lookAngle)+"deg) rotateZ("+-t.mapController.mapAngle+"deg)"):n.classList.contains("cmmap-pointers")&&(t.mapController.resetView(),i.style.transform="rotateX("+(90-t.mapController.lookAngle)+"deg) rotateZ("+-t.mapController.mapAngle+"deg)"))},e.onmouseover=function(t){switch(t.target.className){case"cmmap-pitchUp":case"cmmap-pitchDown":t.target.classList.add("cmmap-pitch-active");break;case"cmmap-rotateRight":case"cmmap-rotateLeft":t.target.classList.add("cmmap-rotate-active")}},e.onmouseout=function(t){var e=t.target;e.classList.contains("cmmap-pitchUp")||e.classList.contains("cmmap-pitchDown")?e.classList.remove("cmmap-pitch-active"):(e.classList.contains("cmmap-rotateRight")||e.classList.contains("cmmap-rotateLeft"))&&e.classList.remove("cmmap-rotate-active")},this.lunpanDiv=e},createzoomBar:function(t){var e=document.createElement("div");e.className="cmmap-controlbar-zoom";var n=document.createElement("div");n.className="cmmap-controlbar-zoom-add",e.appendChild(n);var r=document.createElement("div");r.className="cmmap-controlbar-zoom-sub",e.appendChild(r),e.onclick=function(e){var n=e.target;n.classList.contains("cmmap-controlbar-zoom-add")?t.zoomIn():n.classList.contains("cmmap-controlbar-zoom-sub")&&t.zoomOut()},e.onmouseover=function(t){switch(t.target.className){case"cmmap-controlbar-zoom-add":t.target.classList.add("cmmap-controlbar-zoom-add-active");break;case"cmmap-controlbar-zoom-sub":t.target.classList.add("cmmap-controlbar-zoom-sub-active")}},e.onmouseout=function(t){var e=t.target;e.classList.contains("cmmap-controlbar-zoom-add")?e.classList.remove("cmmap-controlbar-zoom-add-active"):e.classList.contains("cmmap-controlbar-zoom-sub")&&e.classList.remove("cmmap-controlbar-zoom-sub-active")},this.zoomDiv=e},html:function(){return this.controlDiv?this.controlDiv:null}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scale=undefined,e.create=function(t){return new c(t)};var r=l(n(1)),i=l(n(11)),o=n(41),a=n(152),s=n(75),u=n(32);function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}var c=e.Scale=s.Control.extend({options:{visible:!0,position:"LB",offset:new o.Pixel(2,20)},maxWidth:100,initialize:function(t){r.setOptions(this,t)},onAdd:function(t){return t.on("zoomend",this.reder,this),this.create(t)},onRemove:function(t){this.scaleBar=null,t.off("zoomend",this.reder,this)},create:function(t){var e=document.createElement("div");e.className="cmmap-scalecontrol",e.style.left="2px",e.style.bottom="20px";var n=document.createElement("div");n.className="cmmap-scale-text",n.style.width="93.2615px",n.innerHTML=" 5 公里",e.appendChild(n);var r=document.createElement("div");r.className="cmmap-scale-line";var i=document.createElement("div");i.className="cmmap-scale-edgeleft",r.appendChild(i);var o=document.createElement("div");o.className="cmmap-scale-edgeright",o.style.left="85.2615px",r.appendChild(o);var a=document.createElement("div");return a.className="cmmap-scale-middle",a.style.width="85.2615px",r.appendChild(a),e.appendChild(r),this.scaleBar=e,this.options.visible||this.hide(),this.reder(),this.scaleBar},show:function(){this.scaleBar&&(i.show(this.scaleBar),this.fire("show"))},hide:function(){this.scaleBar&&(i.hide(this.scaleBar),this.fire("hide"))},position:function(t){this.scaleBar&&(this.options.position=t,this.updateposition())},offset:function(t){this.scaleBar&&(this.options.offset=t,this.updateposition())},updateposition:function(){var t=this.options.position,e=this.options.offset;if("LB"==t)delete(n=this.scaleBar).right,delete n.top,n.left=e.x,n.bottom=e.y,this.scaleBar.style=n;else if("RB"==t){delete(n=this.scaleBar).left,delete n.top,n.right=e.x,n.bottom=e.y,this.scaleBar.style=n}else if("LT"==t){delete(n=this.scaleBar).right,delete n.bottom,n.left=e.x,n.top=e.y,this.scaleBar.style=n}else if("LB"==t){var n;delete(n=this.scaleBar).right,delete n.top,n.left=e.x,n.bottom=e.y,this.scaleBar.style=n}},reder:function(){var t=this._map;if(t&&this.scaleBar){var e=t.getZoom(),n=Math.floor(e);n>0?n-=1:n=0;var r,i=a.ZOOMCONF[n],o=this.getWidth(i);r=i.rule<1e3?" "+i.rule+" 米":" "+i.rule/1e3+" 公里";var s=this.scaleBar.getElementsByClassName("cmmap-scale-text")[0];s.style.width=o+"px",s.innerHTML=r,this.scaleBar.getElementsByClassName("cmmap-scale-edgeright")[0].style.left=o-6+"px",this.scaleBar.getElementsByClassName("cmmap-scale-middle")[0].style.width=o-6+"px"}},getOnePixelMeter:function(){var t=this._map.containerToLngLat((0,u.toPixel)(0,this._map._glHeight/2));return this._map.containerToLngLat((0,u.toPixel)(this._map._glWidth,this._map._glHeight/2)).distance(t)/this._map._glWidth},getWidth:function(t){var e=this.getOnePixelMeter(t);return t.rule/e}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToolBar=undefined;var r=n(75),i=n(41),o=u(n(1)),a=u(n(11)),s=u(n(54));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}e.ToolBar=r.Control.extend({options:{offset:new i.Pixel(10,10),position:"LT",ruler:!0,noIpLocate:!1,locate:!1,liteStyle:!1,direction:!0,autoPosition:!1,locationMarker:null},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map||(this._map=t);var e=this._map._getZooms();return this.minZoom=e[0],this.maxZoom=e[1],this.zoomlen=e[1]-e[0],t.on("zoomend",this.zoomchange,this),this.options.autoPosition&&(t.isfirefirst?this.doLocation():t.on("complete",this.doLocation(),this)),this.create(t)},onRemove:function(t){t.off("zoomend",this.zoomchange,this),this.zoomcursorDiv=null,this.zoommaskDiv=null,this.zoomlabelDiv=null,this.toolbar=null},create:function(t){var e=a.create("div","cmmap-toolbar"),n=a.create("div","cmmap-pancontrol",e);a.setStyle(n,{position:"relative",display:"block"}),a.create("div","cmmap-pan-left",n),a.create("div","cmmap-pan-top",n),a.create("div","cmmap-pan-right",n),a.create("div","cmmap-pan-bottom",n);var r=a.create("div","cmmap-locate",e);a.setStyle(r,{position:"relative",display:"block",left:"17px"});var i=a.create("div","cmmap-zoomcontrol",e);a.setStyle(i,{position:"relative",left:"14px"});var o=a.create("div","cmmap-zoom-plus",i),u=a.create("div","cmmap-zoom-ruler",i),l=a.create("div","cmmap-zoom-mask",u);a.setStyle(l,{height:"82px"});var c=a.create("div","cmmap-zoom-cursor",u);a.setStyle(c,{top:"82px"});var h=a.create("div","cmmap-zoom-labels",u);a.create("div","cmmap-zoom-label-street",h),a.create("div","cmmap-zoom-label-city",h),a.create("div","cmmap-zoom-label-province",h),a.create("div","cmmap-zoom-label-country",h);var f=a.create("div","cmmap-zoom-minus",i);return this.zoomcursorDiv=c,this.zoommaskDiv=l,this.zoomlabelDiv=h,this.zoomrulerDiv=u,this.pancontrolDiv=n,this.locateDiv=r,this.toolbar=e,this.options.ruler||this.hideRuler(),this.options.locate||this.hideLocation(),this.options.direction||this.hideDirection(),this.setOffset(this.options.offset),this._updateZoom(this._map.getZoom(),!0),s.on(n,"click",this._panhandler,this),s.on(o,"click",this._zoomhandler,this),s.on(f,"click",this._zoomhandler,this),s.on(r,"click",this.doLocation,this),s.on(document,"mousemove mouseup",this._cursorhandler,this),s.on(u,"click mouseover mouseout mousemove  mousedown mouseup",this._labelvisiblehander,this),this.toolbar},_zoomhandler:function(t){if(t.target&&this._map)switch(t.target.className){case"cmmap-zoom-plus":this.zoomIn();break;case"cmmap-zoom-minus":this.zoomOut()}},zoomIn:function(){this._map.zoomIn(),this._updateZoom(this._map.getZoom(),!0)},zoomOut:function(){this._map.zoomOut(),this._updateZoom(this._map.getZoom(),!0)},zoomchange:function(){this._updateZoom(this._map.getZoom(),!0)},_panhandler:function(t){if(this._map)switch(t.target.className){case"cmmap-pan-left":this._map.panBy(-100,0);break;case"cmmap-pan-top":this._map.panBy(0,-100);break;case"cmmap-pan-right":this._map.panBy(100,0);break;case"cmmap-pan-bottom":this._map.panBy(0,100)}},_labelhandler:function(t){if(t.target&&this._map)switch(t.target.className){case"cmmap-zoom-label-street":this._updateZoom(15);break;case"cmmap-zoom-label-city":this._updateZoom(10);break;case"cmmap-zoom-label-province":this._updateZoom(6);break;case"cmmap-zoom-label-country":this._updateZoom(3)}},_labelvisiblehander:function(t){var e=this;if("mousedown"==t.type&&"cmmap-zoom-cursor"==t.target.className)this.cursorisDown=!0,this.cursorstarty=t.clientY,this.cursorstartTop=parseInt(t.target.style.top);else if("mousemove"==t.type){if(t=t||window.event,this.cursorisDown)n=(n=t.clientY-(this.cursorstarty-this.cursorstartTop)>138?138:t.clientY-(this.cursorstarty-this.cursorstartTop))<0?0:n,this._updateruler(n)}else if("mouseup"==t.type){if(this.cursorisDown){this.cursorisDown=!1;var n=this.zoomcursorDiv.style.top;this._updateruler(n,!0),t.stopPropagation()}}else if("click"==t.type&&"cmmap-zoom-cursor"!=t.target.className)switch(t.target.className){case"cmmap-zoom-label-street":this._updateZoom(15);break;case"cmmap-zoom-label-city":this._updateZoom(10);break;case"cmmap-zoom-label-province":this._updateZoom(6);break;case"cmmap-zoom-label-country":this._updateZoom(3);break;default:n=t.clientY-a.offset(t.target).top;this._updateruler(n,!0)}else if("mouseover"==t.type){if(this.zoomlen<18)return;e.zoomlabeltime&&clearTimeout(this.zoomlabeltime),this.zoomlabelDiv.style.display="block"}else if("mouseout"==t.type){if(this.zoomlen<18)return;this.zoomlabeltime=setTimeout(function(){e.zoomlabeltime&&(e.zoomlabeltime=null),e.zoomlabelDiv.style.display="none"},1e3)}},_cursorhandler:function(t){if("mousedown"==t.type)this.cursorisDown=!0,this.cursorstarty=t.clientY,this.cursorstartTop=parseInt(t.target.style.top);else if("mousemove"==t.type){if(t=t||window.event,this.cursorisDown)e=(e=t.clientY-(this.cursorstarty-this.cursorstartTop)>138?138:t.clientY-(this.cursorstarty-this.cursorstartTop))<0?0:e,this._updateruler(e)}else if("mouseup"==t.type&&this.cursorisDown){this.cursorisDown=!1;var e=this.zoomcursorDiv.style.top;this._updateruler(e,!0),t.stopPropagation()}},_updateZoom:function(t,e){e||this._map.mapController.Zoom(t);var n=138/this.zoomlen*(this.zoomlen-(t-this.minZoom));this._updateruler(n)},_updateruler:function(t,e){if(this.zoomcursorDiv.style.top=t+"px",this.zoommaskDiv.style.height=t+"px",e){var n=parseInt((138-parseFloat(t))/138*this.zoomlen)+this.minZoom;this._map.mapController.Zoom(n)}},getOffset:function(){return this.options.offset},setOffset:function(t){this.options.offset=t;var e=this.options.position||"LT",n={};-1!=e.indexOf("L")?n.left=this.options.offset.x+"px":n.left="",-1!=e.indexOf("B")?n.bottom=this.options.offset.y+"px":n.bottom="",-1!=e.indexOf("R")?n.right=this.options.offset.x+"px":n.right="",-1!=e.indexOf("T")?n.top=this.options.offset.y+"px":n.top="",a.setStyle(this.toolbar,n)},hideRuler:function(){a.hide(this.zoomrulerDiv)},showRuler:function(){a.show(this.zoomrulerDiv)},hideDirection:function(){a.hide(this.pancontrolDiv)},showDirection:function(){a.show(this.pancontrolDiv)},hideLocation:function(){a.hide(this.locateDiv)},showLocation:function(){a.show(this.locateDiv)},getLocationImg:function(){return this._locationimg||(this._locationimg=document.createElement("img"),this._locationimg.style.margin="4px",this._locationimg.setAttribute("src","https://webapi.amap.com/theme/v1.3/small_loading.gif")),this._locationimg},doLocation:function(){if(!this.locationloading)if(navigator.geolocation){this.locationloading=!0,this.locateDiv.appendChild(this.getLocationImg());var t=this;navigator.geolocation.getCurrentPosition(function(e){t._lastposition=e,t.locationloading=!1,t.locateDiv.removeChild(t.getLocationImg()),t.fire("location",t.getLocation()),t._updateMarker()},function(e){console.log("定位失败!"),t.locationloading=!1,t.locateDiv.removeChild(t.getLocationImg())},{enableHighAccuracy:!0,maximumAge:1e3})}else console.log("浏览器不支持!")},getLocation:function(){if(!this._lastposition)return null;var t=this._lastposition,e=t.coords.longitude,n=t.coords.latitude;return new i.LngLat(e,n)},_updateMarker:function(){this.options.locationMarker&&this.options.locationMarker.setPosition(this.getLocation())},hide:function(){a.hide(this.toolbar),this.fire("hide")},show:function(){a.show(this.toolbar),this.fire("show")}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.event=undefined;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(609));e.event=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addDomListener=function(t,e,n,i){return r.on(t,e,n,i),{instance:t,eventName:e,handler:n,context:i}},e.addListener=function(t,e,n,r){if(!t||!t.on)return;return t.on(e,n,r),{instance:t,eventName:e,handler:n,context:r}},e.addListenerOnce=function(t,e,n,r){if(!t||!t.once)return;return t.once(e,n,r),{instance:t,eventName:e,handler:n,context:r}},e.removeListener=function(t){if(!t||!t.instance||!t.instance.off)return;t.instance.off(t.eventName,t.handler,t.context)},e.trigger=function(t,e,n){if(!t||!t.fire)return;t.fire(e,n)};var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(54))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerList=undefined;var r=n(611),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1)),o=h(n(612)),a=h(n(613)),s=n(15),u=n(113),l=n(240),c=n(41);function h(t){return t&&t.__esModule?t:{"default":t}}function f(t){!0===t?t={maxLength:-1}:!1===t?t={maxLength:0}:isNaN(t)||(t={maxLength:parseInt(t,10)}),this._opts=i.extend({maxLength:-1},t),this._list=[]}f.prototype.getList=function(){return this._list},f.prototype.size=function(){return this._list.length},f.prototype.push=function(t){this._opts.maxLength&&(this._list.push(t),this._opts.maxLength>0&&this._list.length>this._opts.maxLength&&this.shift())},f.prototype.prepend=function(t){this._opts.maxLength&&(this._list.unshift(t),this._opts.maxLength>0&&this._list.length>this._opts.maxLength&&this.pop())},f.prototype.shift=function(){return this._list.shift()},f.prototype.pop=function(){return this._list.pop()},f.prototype.clear=function(){this._list.length=0};var p=e.MarkerList=r.Event.extend({statics:{refIdKey:"_cmmap_mk_ref_id",utils:{$:o["default"],template:function(t,e){return a["default"].template(t)(e)}}},initialize:function(t){var e=(t=i.extend({map:null,listContainer:null,getPosition:function(t){return t.location},getDataId:function(t,e){return t.id||e},getMarker:function(t,e,n){var r="Marker: "+(e.index+1),i={offset:new c.Pixel(16,18),content:r};return n?(n.setLabel(i),n):new u.Marker({label:i})},getInfoWindow:function(t,e,n){var r="Id: "+e.id;return n?(n.setContent(r),n):new l.InfoWindow({offset:new c.Pixel(0,-23),content:r})},getListElement:function(t,e,n){var r=p.utils.template("<p>Id: <%- id %></p>",{dataItem:t,index:e.index,id:e.id});return n?(n.innerHTML=r,n):"<div>"+r+"</div>"},selectedClassNames:"selected",listElementClassNames:"amap-ui-markerlist-list-ele",makeSelectedEvents:["markerClick","listElementClick"],listElementEvents:["click"],markerEvents:["click"],infoWindowEvents:["click"],recycleMarker:!0,recycleListElement:!0,recycleInfoWindow:!0,autoSetFitView:!0,onSelected:function(t,e){var n=e.selected;if(n){var r=n.marker;r&&r.getMap()&&(r.setTop(!0),r.getMap().setCenter(r.getPosition())),this.openInfoWindowOnRecord(n)}var i=e.unSelected;if(i){var o=this.getInfoWindow();o&&i.id===this.getDataIdOfInfoWindow(o)&&o.close()}}},t)).listContainer;if(e&&("string"==typeof e&&(t.listContainer=e=document.getElementById(e)),!this._isHTMLElement(e)))throw new Error("listContainer is not a HTMLElement");this._opts=t,r.Event.prototype.initialize.call(this,this._opts),this._selectedRecordId=null,this._recycle={markers:new f(this._opts.recycleMarker),listElements:new f(this._opts.recycleListElement),infoWindows:new f(this._opts.recycleInfoWindow)},this._eventHandlers=this._getEventHandlers(),this._setupListContainer(),this._opts.makeSelectedEvents&&this.on(this._opts.makeSelectedEvents,this._eventHandlers.recordSelected),this._opts.onSelected&&this.on("selectedChanged",this._opts.onSelected)},_setRefId:function(t,e){t[p.refIdKey]=e},_getRefId:function(t){return t?t[p.refIdKey]:null},_clearRefId:function(t){this._setRefId(t,null)},clearRecycle:function(){this._recycle.markers.clear(),this._recycle.listElements.clear(),this._recycle.infoWindows.clear()},getRecycleInfo:function(){var t={};return this._forIn(this._recycle,function(e,n){t[n]={size:e.size(),list:e.getList()}}),t},selectByDataItem:function(t){return this._selectDataRecord(this.getRecordByDataItem(t))},selectByDataIndex:function(t){return this._selectDataRecord(this.getRecordByDataIndex(t))},selectByDataReverseIndex:function(t){return this._selectDataRecord(this.getRecordByDataIndex(this._data.length-1-t))},selectByDataId:function(t){return this._selectDataRecord(this.getRecordByDataId(t))},selectByRecord:function(t,e){return this._selectDataRecord(t,e)},getRecordByDataIndex:function(t){return this._getRecordByFilter(function(e){return e.index===t})},getRecordByDataId:function(t){return this._packRecord(t)},getRecordByMarker:function(t){return this.getRecordByDataId(this.getDataIdOfMarker(t))},getRecordByListElement:function(t){return this.getRecordByDataId(this.getDataIdOfListElement(t))},getRecordByDataItem:function(t){return this._getRecordByFilter(function(e){return e.data===t})},getAllRecords:function(){var t=[];return this._forIn(this._store,function(e){t.push(this.getRecordByDataId(e.id))}),t},_findInStore:function(t){for(var e in this._store)if(this._store.hasOwnProperty(e)){var n=this._getStoreRecord(e);if(t.call(this,n))return n}return!1},_getRecordByFilter:function(t){var e=this._findInStore(t);return!!e&&this._packRecord(e.id)},_selectDataRecord:function(t,e){if(!t&&!this._selectedRecordId)return t;var n=null,r=!1;if(t&&this._selectedRecordId&&this._selectedRecordId===t.id)r=!0;else{n=this._getStoreRecord(this._selectedRecordId);var o=this._opts.selectedClassNames;o&&(this._toggleSelected(n,!1,o),this._toggleSelected(t,!0,o)),this._selectedRecordId=t?t.id:null}var a={selectAgain:r,selected:t,unSelected:n,sourceEventInfo:{sourceEvent:e,isMarkerEvent:!1,isListElementEvent:!1}};return e&&e.type&&i.extend(a.sourceEventInfo,{isMarkerEvent:0===e.type.indexOf("marker"),isListElementEvent:0===e.type.indexOf("listElement")}),this.trigger("selectedChanged",a),t},clearSelected:function(){this._selectDataRecord(null)},_toggleSelected:function(t,e,n){if(t){var r=[];if(t.marker){var i=t.marker.getContentDom();if(i){var a=(0,o["default"])(i);a.hasClass("cmmap-marker")||(a=a.closest(".cmmap-marker")).length&&(i=a.get(0)),r.push(i)}}t.listElement&&r.push(t.listElement),this._forEach(r,function(t){t&&(0,o["default"])(t).toggleClass(n,e)})}},setOption:function(t,e){this._opts[t]=e},setOptions:function(t){for(var e in t)t.hasOwnProperty(e)&&this.setOption(e,t[e])},getOption:function(t){return this._opts[t]},_setupListContainer:function(){this._toggleDomEvents(this._opts.listContainer,this._opts.listElementEvents,this._eventHandlers.listElementHandler,!0,this._getSelectorOfClassNames(this._opts.listElementClassNames))},_teardownListContainer:function(){this._toggleDomEvents(this._opts.listContainer,this._opts.listElementEvents,this._eventHandlers.listElementHandler,!1,this._getSelectorOfClassNames(this._opts.listElementClassNames))},_getSelectorOfClassNames:function(t){return"."+t.split(/\s+/).join(".")},_toggleDomEvents:function(t,e,n,r,i){if(e&&e.length){var a=(0,o["default"])(t),s=[e.join(" ")];i&&s.push(i),s.push(n),a[r?"on":"off"].apply(a,s)}},_toggleInsEvents:function(t,e,n,r){if(e&&e.length){var i=r?t.on:t.off;this._forEach(e,function(e){i.call(t,e,n)})}},_getEventHandlers:function(){var t=this;return{recordSelected:function(e,n){t._selectDataRecord(n,e)},listElementHandler:function(e){var n=t._packRecord(t._getRefId(this));t.triggerWithListElementEvent(e,n)},infoWindowHandler:function(e){var n=t._packRecord(t._getRefId(this));t.triggerWithInfoWindowEvent(e,n)},markerHandler:function(e){var n=t._packRecord(t._getRefId(this));t.triggerWithMarkerEvent(e,n)}}},triggerWithMarkerEvent:function(t,e){this._triggerWithMLEvent("marker",t,e)},triggerWithListElementEvent:function(t,e){this._triggerWithMLEvent("listElement",t,e)},triggerWithInfoWindowEvent:function(t,e){this._triggerWithMLEvent("infoWindow",t,e)},_triggerWithMLEvent:function(t,e,n){var r=t+i.ucfirst(e.type);e.MarkerListEventType=r,this.triggerWithOriginalEvent(r,e,n)},setData:function(t){if(!i.isArray(t))throw new Error('"data" is supposed to be an array');return this._data=[].concat(t),this._rebuildData(),this},getData:function(){return this._data},clearData:function(){this.setData([])},_rebuildData:function(){this._clearStore(),this._store={},this._forEach(this._data,function(t,e){var n=this._getDataId(t,e);if(this._store[n])throw new Error("Duplicate Id found: "+n);this._store[n]={id:n,position:this._getDataPosition(t,e),index:e,data:t}})},_packRecord:function(t){var e=this._getStoreRecord(t);if(!e)return null;var n=this.getInfoWindow(),r=this._getRefId(n);return i.extend({},e,{infoWindow:r===t?n:void 0})},_getStoreRecord:function(t){return t?this._store[t]:null},render:function(t,e){t?this.setData(t):this._rebuildData();var n=this._opts.map,r=this._opts.listContainer,o={map:null,listContainer:null},a=[],s=[];this.trigger("willRender",this._data),this._forEach(this._data,function(t,e){this.trigger("beforeRenderDataItem",{data:t,index:e});var i=[t,e,o];if(n){var u=this._renderMarker.apply(this,i);u&&a.push(u)}if(r){var l=this._renderListElement.apply(this,i);l&&s.push(l)}}),n&&a.length&&this._forEach(a,function(t,e){this._addMarkerToMap(t,n)}),r&&s.length&&this._forEach(s,function(t,e){this._addListElementToContainter(t,r)}),this._opts.autoSetFitView&&n&&a.length&&n.setFitView(a,!0);var u=this.getAllRecords(),l=this;return i.nextTick(function(){l.trigger("renderComplete",u),e&&e(null,u)}),this},destroy:function(){this.clear(),this._teardownListContainer(),this.clearRecycle(),this._data.length=0,this._store={},this.offAll()},getAllMarkers:function(){var t=[];return this._forIn(this._store,function(e){t.push(e.marker)}),t},getAllListElements:function(){var t=[];return this._forIn(this._store,function(e){t.push(e.listElement)}),t},getInfoWindow:function(){return this._singleInfoWindow},closeInfoWindow:function(){this._singleInfoWindow&&this._singleInfoWindow.close()},getDataIdOfInfoWindow:function(t){return this._getRefId(t||this.getInfoWindow())},getDataIdOfMarker:function(t){return this._getRefId(t)},getDataIdOfListElement:function(t){return this._getRefId(t)},getSelectedDataId:function(){return this._selectedRecordId},getSelectedRecord:function(){return this.getRecordByDataId(this.getSelectedDataId())},isSelectedDataId:function(t){return t===this.getSelectedDataId()},_clearStore:function(){this.trigger("storeWillClear"),this.clearSelected(),this._forIn(this._store,function(t){this._clearMarker(t.marker),this._clearListElement(t.listElement),t.marker=null,t.listElement=null}),this._clearInfoWindow(this._singleInfoWindow),this._singleInfoWindow=null,this.trigger("storeClear")},_clearMarker:function(t){if(t){var e=this._packRecord(this._getRefId(t));this.trigger("markerWillRemoveFromMap",e),this._toggleInsEvents(t,this._opts.markerEvents,this._eventHandlers.markerHandler,!1),t.setMap(null),this._clearRefId(t),this.trigger("markerRemoveFromMap",e),this._recycle.markers.push(t)}},_clearListElement:function(t){if(t){var e=this._packRecord(this._getRefId(t));this.trigger("listElementWillRemoveFromContainter",e),t.parentNode&&t.parentNode.removeChild(t),this._clearRefId(t),this.trigger("listElementRemoveFromContainter",e),this._recycle.listElements.push(t)}},_clearInfoWindow:function(t){if(t){var e=this._packRecord(this._getRefId(t));t.close(),this.trigger("infoWindowWillRemoveFromMap",e);var n=t.getContentDom();n?(this._toggleDomEvents(n,this._opts.infoWindowEvents,this._eventHandlers.infoWindowHandler,!1),this._clearRefId(n)):t._clearWaitForContentDom&&t._clearWaitForContentDom(),t.setMap(null),this._clearRefId(t),this.trigger("infoWindowRemoveFromMap",e),this._recycle.infoWindows.push(t)}},_setupInfoWindow:function(t){function e(e){r._setRefId(e,r._getRefId(t)),r._toggleDomEvents(e,r._opts.infoWindowEvents,r._eventHandlers.infoWindowHandler,!0)}if(t){var n=t.getContentDom(),r=this;if(n)e(n);else if(!t._waitForContentDom){t._waitForContentDom=!0;var i=function(){t._waitForContentDom=!1,t._clearWaitForContentDom();var n=t.getContentDom();n?e(n):console.error("getContentDom failed on InfoWindow")};t._clearWaitForContentDom=function(){t.off("onAdd",i),t._clearWaitForContentDom=null},t.on("onAdd",i)}}},_isHTMLElement:function(t){return i.isHTMLElement(t)},_addMarkerToMap:function(t,e){if(t){var n=this._getRefId(t),r=this._getStoreRecord(n);if(!r)throw new Error("id not found: "+n);if(r.marker&&r.marker!==t&&(console.warn("Clear marker!!"),this._clearMarker(r.marker)),r.marker=t,t){var i=this._packRecord(n);this.trigger("markerWillAddToMap",i),t.setMap(e),this._toggleInsEvents(t,this._opts.markerEvents,this._eventHandlers.markerHandler,!0),this.trigger("markerAddToMap",i)}}},_addListElementToContainter:function(t,e){if(t){var n=this._getRefId(t),r=this._getStoreRecord(n);if(!r)throw new Error("id not found: "+n);if(r.listElement&&r.listElement!==t&&(console.warn("Clear listElement!!"),this._clearListElement(r.listElement)),r.listElement=t,t){var i=this._packRecord(n);this.trigger("listElementWillAddToContainter",i),e.appendChild(t),this.trigger("listElementAddToContainter",i)}}},_wrapHtml:function(t){this._tmpNode||(this._tmpNode=document.createElement("div"));var e=this._tmpNode;e.innerHTML=t;for(var n=e.childNodes,r=[],i=0,o=n.length;i<o;i++)switch(n[i].nodeType){case 1:case 3:r.push(n[i])}var a=null;if(r.length)if(r.length>1||1!==r[0].nodeType){for(var s=document.createElement("div"),u=0,l=r.length;u<l;u++)s.appendChild(r[u]);a=s}else(a=r[0]).parentNode.removeChild(a);return e.innerHTML="",a},openInfoWindowOnRecord:function(t){if(this._opts.map&&this._opts.getInfoWindow)if(t||!this._singleInfoWindow){if(this._singleInfoWindow){if(t.id===this._getRefId(this._singleInfoWindow))return void(this._singleInfoWindow.getIsOpen()||this._singleInfoWindow.open(this._opts.map,this._singleInfoWindow.getPosition()));this._clearInfoWindow(this._singleInfoWindow),this._singleInfoWindow=null}var e,n=this._recycle.infoWindows.shift(),r=this._opts.getInfoWindow;if(!r)return!1;if(!(e=r.call(this,t.data,t,n)))return!1;if(!(e instanceof l.InfoWindow))throw new Error("getInfoWindow should return an CMMap.InfoWindow instance!");if(e!==n&&this.trigger("infoWindowThrowaway",n),this._singleInfoWindow=e,this._setRefId(e,t.id),t.position&&e.setPosition(t.position),!e.getPosition())throw new Error("No position set in infoWindow");this._opts.map&&this._addInfoWindowToMap(e,this._opts.map,e.getPosition())}else this._singleInfoWindow.close()},_addInfoWindowToMap:function(t,e,n){if(t){var r=this._getRefId(t);if(!this._getStoreRecord(r))throw new Error("id not found: "+r);var i=this._packRecord(r);this.trigger("infoWindowWillAddToMap",i),this._setupInfoWindow(t),t.open(e,n),this.trigger("infoWindowAddToMap",i)}},_renderMarker:function(t,e,n){if(!this._opts.getMarker)return!1;n=i.extend({map:this._opts.map},n);var r=this._getDataId(t,e),o=this._recycle.markers.shift();this.trigger("beforeRenderMarker",{data:t,index:e});var a=this._packRecord(r),s=this._opts.getMarker.call(this,t,a,o);if(void 0===s&&o&&(s=o),!s)return!1;if(!(s instanceof u.Marker))throw new Error("getMarker should return an CMMap.Marker instance!");if(o&&s!==o&&this.trigger("markerThrowaway",o),a.position&&s.setPosition(a.position),!s.getPosition())throw new Error("No position set in marker");return this._setRefId(s,r),n.map&&this._addMarkerToMap(s,n.map),s},_renderListElement:function(t,e,n){if(!this._opts.getListElement)return!1;n=i.extend({listContainer:this._opts.listContainer},n);var r=this._getDataId(t,e),a=this._recycle.listElements.shift();this.trigger("beforeRenderListElement",{data:t,index:e});var s=this._packRecord(r),u=this._opts.getListElement.call(this,t,s,a);if(void 0===u&&a&&(u=a),!u)return!1;if(a&&u!==a&&this.trigger("markerThrowaway",a),"string"==typeof u){var l=this._wrapHtml(u);if(!l)throw new Error("Can not create an HTMLElement with: "+u);u=l}if(!this._isHTMLElement(u))throw new Error("getListElement should return an HTMLElement!");return(0,o["default"])(u).addClass(this._opts.listElementClassNames),this._setRefId(u,r),n.listContainer&&this._addListElementToContainter(u,n.listContainer),u},_getDataId:function(t,e){var n=this._opts.getDataId.call(this,t,e);return void 0===n&&(n=e),""+n},_getDataPosition:function(t){var e=this._opts.getPosition(t);if(i.isArray(e)&&(e=new s.LngLat(e[0],e[1])),!(e instanceof s.LngLat))throw new Error("getPosition is supposed to return a LngLat instance!");return e},_forEach:function(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(e.call(this,t[r],r));return n},_forIn:function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e.call(this,t[r],r));return n}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=undefined;var r=n(105),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}(n(1));e.Event=r.Class.extend({initialize:function(){this.__evHash={}},on:function(t,e,n){if(this.__multiCall(t,e,this.on))return this;if(!t)return this;var r=this.__evHash;r[t]||(r[t]=[]);var i=r[t];if(this.__index(i,e)<0){"number"!=typeof n&&(n=10);for(var o=i.length,a=0,s=i.length;a<s;a++)if(n>i[a].priority){o=a;break}i.splice(o,0,{listener:e,priority:n})}return this},once:function(t,e,n){if(this.__multiCall(t,e,this.once))return this;var r=this;return this.on(t,function i(){r.__callListenser(e,arguments),r.off(t,i)},n),this},offAll:function(){for(var t in this.__evHash)this.off(t);return this.__evHash={},this},off:function(t,e){if(this.__multiCall(t,e,this.off))return this;var n=this.__evHash;if(n[t]){var r=n[t];if(void 0===e){var i=r.length;return r.length=0,i}var o=this.__index(r,e);return o>=0?(r.splice(o,1),1):0}},listenerLength:function(t){var e=this.__evHash[t];return e?e.length:0},emit:function(t){var e,n,r=this.__evHash,i=0;return null==this.__evHash&&console.log(" EVHash NULL "),(n=r[t])&&n.length&&(e=Array.prototype.slice.call(arguments,1),i+=this.__callListenerList(n,e)),(n=r["*"])&&n.length&&(e=Array.prototype.slice.call(arguments),i+=this.__callListenerList(n,e)),i},trigger:function(t){var e=Array.prototype.slice.call(arguments,0);e.splice(1,0,{type:t,target:this}),this.emit.apply(this,e)},triggerWithOriginalEvent:function(t,e){var n=Array.prototype.slice.call(arguments,0);n[1]={type:t,target:e?e.target:this,originalEvent:e},this.emit.apply(this,n)},onDestroy:function(t,e){return this.on("__destroy",t,e),this},destroy:function(){if(!this.__destroying)return this.__destroying=1,this.emit("__destroy",this),this.offAll(),this},__multiCall:function(t,e,n){if(!t)return!0;if(i.isObject(t)&&void 0===e){for(var r in t)n.call(this,r,t[r]);return!0}var o;if(i.isArray(t)?o=t:"string"==typeof t&&(o=t.split(/[\s,]+/)),o&&o.length>1){for(var a=0,s=o.length;a<s;a++)o[a]&&n.call(this,o[a],e);return!0}return!1},__index:function(t,e){for(var n=-1,r=0,i=t.length;r<i;r++){if(t[r].listener===e){n=r;break}}return n},__callListenser:function(t,e){var n=null,r=null;return"function"==typeof t?(n=t,r=this):2==t.length&&(n=t[1],r=t[0]),n?[1,n.apply(r,e)]:[0,void 0]},__callListenerList:function(t,e){if(!t||!t.length)return 0;for(var n,r=0,i=0,o=(t=[].concat(t)).length;i<o&&(r+=(n=this.__callListenser(t[i].listener,e))[0],!1!==n[1]);i++);return r}})},function(t,e,n){var r;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,l=o.concat,c=o.push,h=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,m=d.toString,g=m.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},x=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,noModule:!0};function _(t,e,n){var r,i=(e=e||a).createElement("script");if(i.text=t,n)for(r in b)n[r]&&(i[r]=n[r]);e.head.appendChild(i).parentNode.removeChild(i)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},A=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!y(t)&&!x(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.3.1",constructor:E,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(r=t[e])&&(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&E.isPlainObject(n)?n:{},a[e]=E.extend(l,o,r)):r!==undefined&&(a[e]=r));return a},E.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=s(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&m.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){_(t)},each:function(t,e){var n,r=0;if(S(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(A,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?E.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(S(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return l.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var C=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p,d,m,g,v,y,x,b="sizzle"+1*new Date,_=t.document,w=0,E=0,A=at(),S=at(),C=at(),D=function(t,e){return t===e&&(h=!0),0},M={}.hasOwnProperty,k=[],T=k.pop,L=k.push,I=k.push,B=k.slice,R=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",N="\\["+P+"*("+O+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+P+"*\\]",U=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",z=new RegExp(P+"+","g"),j=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),W=new RegExp("^"+P+"*,"+P+"*"),Y=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),G=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),V=new RegExp(U),H=new RegExp("^"+O+"$"),q={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),tt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){f()},it=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{I.apply(k=B.call(_.childNodes),_.childNodes),k[_.childNodes.length].nodeType}catch(Et){I={apply:k.length?function(t,e){L.apply(t,B.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function ot(t,e,r,i){var o,s,l,c,h,d,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!i&&((e?e.ownerDocument||e:_)!==p&&f(e),e=e||p,m)){if(11!==w&&(h=K.exec(t)))if(o=h[1]){if(9===w){if(!(l=e.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(y&&(l=y.getElementById(o))&&x(e,l)&&l.id===o)return r.push(l),r}else{if(h[2])return I.apply(r,e.getElementsByTagName(t)),r;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return I.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!C[t+" "]&&(!g||!g.test(t))){if(1!==w)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=b),s=(d=a(t)).length;s--;)d[s]="#"+c+" "+vt(d[s]);v=d.join(","),y=$.test(t)&&mt(e.parentNode)||e}if(v)try{return I.apply(r,y.querySelectorAll(v)),r}catch(E){}finally{c===b&&e.removeAttribute("id")}}}return u(t.replace(j,"$1"),e,r,i)}function at(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function st(t){return t[b]=!0,t}function ut(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(Et){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function ct(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&it(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function dt(t){return st(function(e){return e=+e,st(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function mt(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},f=ot.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:_;return a!==p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,m=!o(p),_!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),n.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ut(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ut(function(t){return d.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&m){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=J.test(p.querySelectorAll))&&(ut(function(t){d.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+P+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+P+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+P+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=J.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",U)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(d.compareDocumentPosition),x=e||J.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D=e?function(t,e){if(t===e)return h=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===p||t.ownerDocument===_&&x(_,t)?-1:e===p||e.ownerDocument===_&&x(_,e)?1:c?R(c,t)-R(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===p?-1:e===p?1:i?-1:o?1:c?R(c,t)-R(c,e):0;if(i===o)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ct(a[r],s[r]):a[r]===_?-1:s[r]===_?1:0},p):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),e=e.replace(G,"='$1']"),n.matchesSelector&&m&&!C[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(Et){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),x(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var i=r.attrHandle[e.toLowerCase()],o=i&&M.call(r.attrHandle,e.toLowerCase())?i(t,e,!m):undefined;return o!==undefined?o:n.attributes||!m?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(D),h){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return c=null,t},i=ot.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=ot.selectors={cacheLength:50,createPseudo:st,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=A[t+" "];return e||(e=new RegExp("(^|"+P+")"+t+"("+P+"|$)"))&&A(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,p,d,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(x=(p=(l=(c=(h=(f=g)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&l[1])&&l[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(x=p=0)||d.pop();)if(1===f.nodeType&&++x&&f===e){c[t]=[w,p,x];break}}else if(y&&(x=p=(l=(c=(h=(f=e)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&l[1]),!1===x)for(;(f=++p&&f&&f[m]||(x=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++x||(y&&((c=(h=f[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[w,x]),f!==e)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=R(t,o[a])]=!(n[r]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:st(function(t){var e=[],n=[],r=s(t.replace(j,"$1"));return r[b]?st(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}}),lang:st(function(t){return H.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:dt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ft(e);function gt(){}function vt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function yt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=E++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var l,c,h,f=[w,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[o])&&l[0]===w&&l[1]===s)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,u))return!0}return!1}}function xt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function bt(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function _t(t,e,n,r,i,o){return r&&!r[b]&&(r=_t(r)),i&&!i[b]&&(i=_t(i,o)),st(function(o,a,s,u){var l,c,h,f=[],p=[],d=a.length,m=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)ot(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?m:bt(m,f,t,s,u),v=n?i||(o?t:d||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(l=bt(v,p),r(l,[],s,u),c=l.length;c--;)(h=l[c])&&(v[p[c]]=!(g[p[c]]=h));if(o){if(i||t){if(i){for(l=[],c=v.length;c--;)(h=v[c])&&l.push(g[c]=h);i(null,v=[],l,u)}for(c=v.length;c--;)(h=v[c])&&(l=i?R(o,h):f[c])>-1&&(o[l]=!(a[l]=h))}}else v=bt(v===a?v.splice(d,v.length):v),i?i(null,a,v,u):I.apply(a,v)})}function wt(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,c=yt(function(t){return t===e},s,!0),h=yt(function(t){return R(e,t)>-1},s,!0),f=[function(t,n,r){var i=!a&&(r||n!==l)||((e=n).nodeType?c(t,n,r):h(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])f=[yt(xt(f),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[b]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return _t(u>1&&xt(f),u>1&&vt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(j,"$1"),n,u<i&&wt(t.slice(u,i)),i<o&&wt(t=t.slice(i)),i<o&&vt(t))}f.push(n)}return xt(f)}return gt.prototype=r.filters=r.pseudos,r.setFilters=new gt,a=ot.tokenize=function(t,e){var n,i,o,a,s,u,l,c=S[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=r.preFilter;s;){for(a in n&&!(i=W.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=Y.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(j," ")}),s=s.slice(n.length)),r.filter)!(i=q[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):S(t,u).slice(0)},s=ot.compile=function(t,e){var n,i=[],o=[],s=C[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=wt(e[n]))[b]?i.push(s):o.push(s);(s=C(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,u,c){var h,d,g,v=0,y="0",x=o&&[],b=[],_=l,E=o||i&&r.find.TAG("*",c),A=w+=null==_?1:Math.random()||.1,S=E.length;for(c&&(l=a===p||a||c);y!==S&&null!=(h=E[y]);y++){if(i&&h){for(d=0,a||h.ownerDocument===p||(f(h),s=!m);g=t[d++];)if(g(h,a||p,s)){u.push(h);break}c&&(w=A)}n&&((h=!g&&h)&&v--,o&&x.push(h))}if(v+=y,n&&y!==v){for(d=0;g=e[d++];)g(x,b,a,s);if(o){if(v>0)for(;y--;)x[y]||b[y]||(b[y]=T.call(u));b=bt(b)}I.apply(u,b),c&&!o&&b.length>0&&v+e.length>1&&ot.uniqueSort(u)}return c&&(w=A,l=_),x};return n?st(o):o}(o,i))).selector=t}return s},u=ot.select=function(t,e,n,i){var o,u,l,c,h,f="function"==typeof t&&t,p=!i&&a(t=f.selector||t);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&m&&r.relative[u[1].type]){if(!(e=(r.find.ID(l.matches[0].replace(Q,tt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=q.needsContext.test(t)?0:u.length;o--&&(l=u[o],!r.relative[c=l.type]);)if((h=r.find[c])&&(i=h(l.matches[0].replace(Q,tt),$.test(u[0].type)&&mt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&vt(u)))return I.apply(n,i),n;break}}return(f||s(t,p))(i,e,!m,n,!e||$.test(t)&&mt(e.parentNode)||e),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!h,f(),n.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||lt(F,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),ot}(n);E.find=C,E.expr=C.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=C.uniqueSort,E.text=C.getText,E.isXMLDoc=C.isXML,E.contains=C.contains,E.escapeSelector=C.escape;var D=function(t,e,n){for(var r=[],i=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&E(t).is(n))break;r.push(t)}return r},M=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},k=E.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,e,n){return y(e)?E.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?E.grep(t,function(t){return t===e!==n}):"string"!=typeof e?E.grep(t,function(t){return h.call(e,t)>-1!==n}):E.filter(e,t,n)}E.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?E.find.matchesSelector(r,t)?[r]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<r;e++)if(E.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)E.find(t,i[e],n);return r>1?E.uniqueSort(n):n},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&k.test(t)?E(t):t||[],!1).length}});var B,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||B,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),L.test(r[1])&&E.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?n.ready!==undefined?n.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,B=E(a);var F=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function O(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&E(t);if(!k.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(E(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return D(t,"parentNode")},parentsUntil:function(t,e,n){return D(t,"parentNode",n)},next:function(t){return O(t,"nextSibling")},prev:function(t){return O(t,"previousSibling")},nextAll:function(t){return D(t,"nextSibling")},prevAll:function(t){return D(t,"previousSibling")},nextUntil:function(t,e,n){return D(t,"nextSibling",n)},prevUntil:function(t,e,n){return D(t,"previousSibling",n)},siblings:function(t){return M((t.parentNode||{}).firstChild,t)},children:function(t){return M(t.firstChild)},contents:function(t){return T(t,"iframe")?t.contentDocument:(T(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(t,e){E.fn[t]=function(n,r){var i=E.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=E.filter(r,i)),this.length>1&&(P[t]||E.uniqueSort(i),F.test(t)&&i.reverse()),this.pushStack(i)}});var N=/[^\x20\t\r\n\f]+/g;function U(t){return t}function z(t){throw t}function j(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(undefined,[t].slice(r))}catch(t){n.apply(undefined,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(N)||[],function(t,n){e[n]=!0}),e}(t):E.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function r(e){E.each(e,function(e,n){y(n)?t.unique&&l.has(n)||o.push(n):n&&n.length&&"string"!==w(n)&&r(n)})}(arguments),n&&!e&&u()),this},remove:function(){return E.each(arguments,function(t,e){for(var n;(n=E.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?E.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return i.then(null,t)},pipe:function(){var t=arguments;return E.Deferred(function(n){E.each(e,function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function a(t,e,r,i){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(t<o)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(l)?i?l.call(n,a(o,e,U,i),a(o,e,z,i)):(o++,l.call(n,a(o,e,U,i),a(o,e,z,i),a(o,e,U,e.notifyWith))):(r!==U&&(s=undefined,u=[n]),(i||e.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(r!==z&&(s=undefined,u=[n]),e.rejectWith(s,u))}};t?c():(E.Deferred.getStackHook&&(c.stackTrace=E.Deferred.getStackHook()),n.setTimeout(c))}}return E.Deferred(function(n){e[0][3].add(a(0,n,y(i)?i:U,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:U)),e[2][3].add(a(0,n,y(r)?r:z))}).promise()},promise:function(t){return null!=t?E.extend(t,i):i}},o={};return E.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?undefined:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=u.call(arguments),o=E.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(j(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)j(i[n],a(n),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&W.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){n.setTimeout(function(){throw t})};var Y=E.Deferred();function G(){a.removeEventListener("DOMContentLoaded",G),n.removeEventListener("load",G),E.ready()}E.fn.ready=function(t){return Y.then(t)["catch"](function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||Y.resolveWith(a,[E]))}}),E.ready.then=Y.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(E.ready):(a.addEventListener("DOMContentLoaded",G),n.addEventListener("load",G));var V=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===w(n))for(s in i=!0,n)V(t,e,s,n[s],!0,o,a);else if(r!==undefined&&(i=!0,y(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(E(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o},H=/^-ms-/,q=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function Z(t){return t.replace(H,"ms-").replace(q,X)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function K(){this.expando=E.expando+K.uid++}K.uid=1,K.prototype={cache:function(t){var e=t[this.expando];return e||(e={},J(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[Z(e)]=n;else for(r in e)i[Z(r)]=e[r];return i},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,r=t[this.expando];if(r!==undefined){if(e!==undefined){n=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in r?[e]:e.match(N)||[]).length;for(;n--;)delete r[e[n]]}(e===undefined||E.isEmptyObject(r))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!E.isEmptyObject(e)}};var $=new K,Q=new K,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(n===undefined&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(i){}Q.set(t,e,n)}else n=undefined;return n}E.extend({hasData:function(t){return Q.hasData(t)||$.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return $.access(t,e,n)},_removeData:function(t,e){$.remove(t,e)}}),E.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(t===undefined){if(this.length&&(i=Q.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Z(r.slice(5)),nt(o,r,i[r]));$.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Q.set(this,t)}):V(this,function(e){var n;if(o&&e===undefined)return(n=Q.get(o,t))!==undefined?n:(n=nt(o,t))!==undefined?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),E.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=$.get(t,e),n&&(!r||Array.isArray(n)?r=$.access(t,e,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),r=n.length,i=n.shift(),o=E._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){E.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return $.get(t,n)||$.access(t,n,{empty:E.Callbacks("once memory").add(function(){$.remove(t,[e+"queue",n])})})}}),E.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?E.queue(this[0],t):e===undefined?this:this.each(function(){var n=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&E.dequeue(this,t)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=$.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&E.contains(t.ownerDocument,t)&&"none"===E.css(t,"display")},st=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i};function ut(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(t,e,"")},u=s(),l=n&&n[3]||(E.cssNumber[e]?"":"px"),c=(E.cssNumber[e]||"px"!==l&&+u)&&it.exec(E.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)E.style(t,e,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,E.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var lt={};function ct(t){var e,n=t.ownerDocument,r=t.nodeName,i=lt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=E.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),lt[r]=i,i)}function ht(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=$.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&at(r)&&(i[o]=ct(r))):"none"!==n&&(i[o]="none",$.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}E.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?E(this).show():E(this).hide()})}});var ft=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,dt=/^$|^module$|\/(?:java|ecma)script/i,mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&T(t,e)?E.merge([t],n):n}function vt(t,e){for(var n=0,r=t.length;n<r;n++)$.set(t[n],"globalEval",!e||$.get(e[n],"globalEval"))}mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var yt=/<|&#?\w+;/;function xt(t,e,n,r,i){for(var o,a,s,u,l,c,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===w(o))E.merge(f,o.nodeType?[o]:o);else if(yt.test(o)){for(a=a||h.appendChild(e.createElement("div")),s=(pt.exec(o)||["",""])[1].toLowerCase(),u=mt[s]||mt._default,a.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;E.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(l=E.contains(o.ownerDocument,o),a=gt(h.appendChild(o),"script"),l&&vt(a),n)for(c=0;o=a[c++];)dt.test(o.type||"")&&n.push(o);return h}!function(){var t=a.createDocumentFragment().appendChild(a.createElement("div")),e=a.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),v.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var bt=a.documentElement,_t=/^key/,wt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=/^([^.]*)(?:\.(.+)|)/;function At(){return!0}function St(){return!1}function Ct(){try{return a.activeElement}catch(t){}}function Dt(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=undefined),e)Dt(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=undefined):null==i&&("string"==typeof n?(i=r,r=undefined):(i=r,r=n,n=undefined)),!1===i)i=St;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return E().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),t.each(function(){E.event.add(this,e,i,r,n)})}E.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,p,d,m,g=$.get(t);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(bt,i),n.guid||(n.guid=E.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):undefined}),l=(e=(e||"").match(N)||[""]).length;l--;)p=m=(s=Et.exec(e[l])||[])[1],d=(s[2]||"").split(".").sort(),p&&(h=E.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=E.event.special[p]||{},c=E.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,r,d,a)||t.addEventListener&&t.addEventListener(p,a)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),E.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,p,d,m,g=$.hasData(t)&&$.get(t);if(g&&(u=g.events)){for(l=(e=(e||"").match(N)||[""]).length;l--;)if(p=m=(s=Et.exec(e[l])||[])[1],d=(s[2]||"").split(".").sort(),p){for(h=E.event.special[p]||{},f=u[p=(r?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,g.handle)||E.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)E.event.remove(t,p+e[l],n,r,!0);E.isEmptyObject(u)&&$.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=E.event.fix(t),u=new Array(arguments.length),l=($.get(this,"events")||{})[s.type]||[],c=E.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=E.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))!==undefined&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)a[i=(r=e[n]).selector+" "]===undefined&&(a[i]=r.needsContext?E(i,this).index(l)>-1:E.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&T(this,"input"))return this.click(),!1},_default:function(t){return T(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?At:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=At,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=At,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=At,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&_t.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&e!==undefined&&wt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||E.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),E.fn.extend({on:function(t,e,n,r){return Dt(this,t,e,n,r)},one:function(t,e,n,r){return Dt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,E(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=St),this.each(function(){E.event.remove(this,t,n,e)})}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,kt=/<script|<style|<link/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function It(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ft(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if($.hasData(t)&&(o=$.access(t),a=$.set(e,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)E.event.add(e,i,l[i][n]);Q.hasData(t)&&(s=Q.access(t),u=E.extend({},s),Q.set(e,u))}}function Pt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ft.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ot(t,e,n,r){e=l.apply([],e);var i,o,a,s,u,c,h=0,f=t.length,p=f-1,d=e[0],m=y(d);if(m||f>1&&"string"==typeof d&&!v.checkClone&&Tt.test(d))return t.each(function(i){var o=t.eq(i);m&&(e[0]=d.call(this,i,o.html())),Ot(o,e,n,r)});if(f&&(o=(i=xt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=E.map(gt(i,"script"),Bt)).length;h<f;h++)u=i,h!==p&&(u=E.clone(u,!0,!0),s&&E.merge(a,gt(u,"script"))),n.call(t[h],u,h);if(s)for(c=a[a.length-1].ownerDocument,E.map(a,Rt),h=0;h<s;h++)u=a[h],dt.test(u.type||"")&&!$.access(u,"globalEval")&&E.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&E._evalUrl(u.src):_(u.textContent.replace(Lt,""),c,u))}return t}function Nt(t,e,n){for(var r,i=e?E.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(gt(r)),r.parentNode&&(n&&E.contains(r.ownerDocument,r)&&vt(gt(r,"script")),r.parentNode.removeChild(r));return t}E.extend({htmlPrefilter:function(t){return t.replace(Mt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=E.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(a=gt(s),r=0,i=(o=gt(t)).length;r<i;r++)Pt(o[r],a[r]);if(e)if(n)for(o=o||gt(t),a=a||gt(s),r=0,i=o.length;r<i;r++)Ft(o[r],a[r]);else Ft(t,s);return(a=gt(s,"script")).length>0&&vt(a,!u&&gt(t,"script")),s},cleanData:function(t){for(var e,n,r,i=E.event.special,o=0;(n=t[o])!==undefined;o++)if(J(n)){if(e=n[$.expando]){if(e.events)for(r in e.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,e.handle);n[$.expando]=undefined}n[Q.expando]&&(n[Q.expando]=undefined)}}}),E.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return V(this,function(t){return t===undefined?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ot(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||It(this,t).appendChild(t)})},prepend:function(){return Ot(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=It(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ot(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ot(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},n=0,r=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!kt.test(t)&&!mt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ot(this,arguments,function(e){var n=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(gt(this)),n&&n.replaceChild(e,this))},t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){E.fn[t]=function(t){for(var n,r=[],i=E(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(i[a])[e](n),c.apply(r,n.get());return this.pushStack(r)}});var Ut=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},jt=new RegExp(ot.join("|"),"i");function Wt(t,e,n){var r,i,o,a,s=t.style;return(n=n||zt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||E.contains(t.ownerDocument,t)||(a=E.style(t,e)),!v.pixelBoxStyles()&&Ut.test(a)&&jt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),a!==undefined?a+"":a}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",bt.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",s=36===e(t.right),i=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",bt.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,u,l=a.createElement("div"),c=a.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Gt=/^(none|table(?!-c[ea]).+)/,Vt=/^--/,Ht={position:"absolute",visibility:"hidden",display:"block"},qt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","Moz","ms"],Zt=a.createElement("div").style;function Jt(t){var e=E.cssProps[t];return e||(e=E.cssProps[t]=function(t){if(t in Zt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in Zt)return t}(t)||t),e}function Kt(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function $t(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=E.css(t,n+ot[a],!0,i)),r?("content"===n&&(u-=E.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(u-=E.css(t,"border"+ot[a]+"Width",!0,i))):(u+=E.css(t,"padding"+ot[a],!0,i),"padding"!==n?u+=E.css(t,"border"+ot[a]+"Width",!0,i):s+=E.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))),u}function Qt(t,e,n){var r=zt(t),i=Wt(t,e,r),o="border-box"===E.css(t,"boxSizing",!1,r),a=o;if(Ut.test(i)){if(!n)return i;i="auto"}return a=a&&(v.boxSizingReliable()||i===t.style[e]),("auto"===i||!parseFloat(i)&&"inline"===E.css(t,"display",!1,r))&&(i=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(i=parseFloat(i)||0)+$t(t,e,n||(o?"border":"content"),a,r,i)+"px"}function te(t,e,n,r,i){return new te.prototype.init(t,e,n,r,i)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=Z(e),u=Vt.test(e),l=t.style;if(u||(e=Jt(s)),a=E.cssHooks[e]||E.cssHooks[s],n===undefined)return a&&"get"in a&&(i=a.get(t,!1,r))!==undefined?i:l[e];"string"===(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=ut(t,e,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&(n=a.set(t,n,r))===undefined||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,a,s=Z(e);return Vt.test(e)||(e=Jt(s)),(a=E.cssHooks[e]||E.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),i===undefined&&(i=Wt(t,e,r)),"normal"===i&&e in qt&&(i=qt[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],function(t,e){E.cssHooks[e]={get:function(t,n,r){if(n)return!Gt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Qt(t,e,r):st(t,Ht,function(){return Qt(t,e,r)})},set:function(t,n,r){var i,o=zt(t),a="border-box"===E.css(t,"boxSizing",!1,o),s=r&&$t(t,e,r,a,o);return a&&v.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-$t(t,e,"border",!1,o)-.5)),s&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=E.css(t,e)),Kt(0,n,s)}}}),E.cssHooks.marginLeft=Yt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(t,e){E.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(E.cssHooks[t+e].set=Kt)}),E.fn.extend({css:function(t,e){return V(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=zt(t),i=e.length;a<i;a++)o[e[a]]=E.css(t,e[a],!1,r);return o}return n!==undefined?E.style(t,e,n):E.css(t,e)},t,e,arguments.length>1)}}),E.Tween=te,te.prototype={constructor:te,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var t=te.propHooks[this.prop];return t&&t.get?t.get(this):te.propHooks._default.get(this)},run:function(t){var e,n=te.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):te.propHooks._default.set(this),this}},te.prototype.init.prototype=te.prototype,te.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[E.cssProps[t.prop]]&&!E.cssHooks[t.prop]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},te.propHooks.scrollTop=te.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=te.prototype.init,E.fx.step={};var ee,ne,re=/^(?:toggle|show|hide)$/,ie=/queueHooks$/;function oe(){ne&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(oe):n.setTimeout(oe,E.fx.interval),E.fx.tick())}function ae(){return n.setTimeout(function(){ee=undefined}),ee=Date.now()}function se(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function ue(t,e,n){for(var r,i=(le.tweeners[e]||[]).concat(le.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function le(t,e,n){var r,i,o=0,a=le.prefilters.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=ee||ae(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(t,[l,r,n]),r<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:e,originalOptions:n,startTime:ee||ae(),duration:n.duration,tweens:[],createTween:function(e,n){var r=E.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=Z(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=le.prefilters[o].call(l,t,c,l.opts))return y(r.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return E.map(c,ue,l),y(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(le,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(N);for(var n,r=0,i=t.length;r<i;r++)n=t[r],le.tweeners[n]=le.tweeners[n]||[],le.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,l,c,h="width"in e||"height"in e,f=this,p={},d=t.style,m=t.nodeType&&at(t),g=$.get(t,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,E.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[r],re.test(i)){if(delete e[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||g[r]===undefined)continue;m=!0}p[r]=g&&g[r]||E.style(t,r)}if((u=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(r in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=g&&g.display)&&(l=$.get(t,"display")),"none"===(c=E.css(t,"display"))&&(l?c=l:(ht([t],!0),l=t.style.display||l,c=E.css(t,"display"),ht([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===E.css(t,"float")&&(u||(f.done(function(){d.display=l}),null==l&&(c=d.display,l="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1,p)u||(g?"hidden"in g&&(m=g.hidden):g=$.access(t,"fxshow",{display:l}),o&&(g.hidden=!m),m&&ht([t],!0),f.done(function(){for(r in m||ht([t]),$.remove(t,"fxshow"),p)E.style(t,r,p[r])})),u=ue(m?g[r]:0,r,f),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?le.prefilters.unshift(t):le.prefilters.push(t)}}),E.speed=function(t,e,n){var r=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(t,e,n,r){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=E.isEmptyObject(t),o=E.speed(e,n,r),a=function(){var e=le(this,E.extend({},t),o);(i||$.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=E.timers,a=$.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ie.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||E.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=$.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(t,e){var n=E.fn[e];E.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(se(e,!0),t,r,i)}}),E.each({slideDown:se("show"),slideUp:se("hide"),slideToggle:se("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){E.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(ee=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),ee=undefined},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ne||(ne=!0,oe())},E.fx.stop=function(){ne=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ce,he=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return V(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?E.prop(t,e,n):(1===o&&E.isXMLDoc(t)||(i=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?ce:undefined)),n!==undefined?null===n?void E.removeAttr(t,e):i&&"set"in i&&(r=i.set(t,n,e))!==undefined?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=E.find.attr(t,e))?undefined:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&T(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(N);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ce={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var n=he[e]||E.find.attr;he[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=he[a],he[a]=i,i=null!=n(t,e,r)?a:null,he[a]=o),i}});var fe=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function de(t){return(t.match(N)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ge(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}E.fn.extend({prop:function(t,e){return V(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,i=E.propHooks[e]),n!==undefined?i&&"set"in i&&(r=i.set(t,n,e))!==undefined?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),v.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,me(this)))});if((e=ge(t)).length)for(;n=this[u++];)if(i=me(n),r=1===n.nodeType&&" "+de(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=de(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=ge(t)).length)for(;n=this[u++];)if(i=me(n),r=1===n.nodeType&&" "+de(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=de(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){E(this).toggleClass(t.call(this,n,me(this),e),e)}):this.each(function(){var e,i,o,a;if(r)for(i=0,o=E(this),a=ge(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else t!==undefined&&"boolean"!==n||((e=me(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":$.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+de(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var ve=/\r/g;E.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,E(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=E.map(i,function(t){return null==t?"":t+""})),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,i,"value")!==undefined||(this.value=i))})):i?(e=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(i,"value"))!==undefined?n:"string"==typeof(n=i.value)?n.replace(ve,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:de(E.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(e=E(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=E.makeArray(e),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},v.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var ye=/^(?:focusinfocus|focusoutblur)$/,xe=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,r,i){var o,s,u,l,c,h,f,p,m=[r||a],g=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(s=p=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!ye.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(g=(v=g.split(".")).shift(),v.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[E.expando]?t:new E.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=r),e=null==e?[t]:E.makeArray(e,[t]),f=E.event.special[g]||{},i||!f.trigger||!1!==f.trigger.apply(r,e))){if(!i&&!f.noBubble&&!x(r)){for(l=f.delegateType||g,ye.test(l+g)||(s=s.parentNode);s;s=s.parentNode)m.push(s),u=s;u===(r.ownerDocument||a)&&m.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=m[o++])&&!t.isPropagationStopped();)p=s,t.type=o>1?l:f.bindType||g,(h=($.get(s,"events")||{})[t.type]&&$.get(s,"handle"))&&h.apply(s,e),(h=c&&s[c])&&h.apply&&J(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),e)||!J(r)||c&&y(r[g])&&!x(r)&&((u=r[c])&&(r[c]=null),E.event.triggered=g,t.isPropagationStopped()&&p.addEventListener(g,xe),r[g](),t.isPropagationStopped()&&p.removeEventListener(g,xe),E.event.triggered=undefined,u&&(r[c]=u)),t.result}},simulate:function(t,e,n){var r=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(r,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=$.access(r,e);i||r.addEventListener(t,n,!0),$.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=$.access(r,e)-1;i?$.access(r,e,i):(r.removeEventListener(t,n,!0),$.remove(r,e))}}});var be=n.location,_e=Date.now(),we=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(r){e=undefined}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Ee=/\[\]$/,Ae=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;function De(t,e,n,r){var i;if(Array.isArray(e))E.each(e,function(e,i){n||Ee.test(t)?r(t,i):De(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==w(e))r(t,e);else for(i in e)De(t+"["+i+"]",e[i],n,r)}E.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){i(this.name,this.value)});else for(n in t)De(n,t[n],e,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&Ce.test(this.nodeName)&&!Se.test(t)&&(this.checked||!ft.test(t))}).map(function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var Me=/%20/g,ke=/#.*$/,Te=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:GET|HEAD)$/,Be=/^\/\//,Re={},Fe={},Pe="*/".concat("*"),Oe=a.createElement("a");function Ne(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(N)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ue(t,e,n,r){var i={},o=t===Fe;function a(s){var u;return i[s]=!0,E.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),u}return a(e.dataTypes[0])||!i["*"]&&a("*")}function ze(t,e){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&E.extend(!0,t,r),t}Oe.href=be.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,E.ajaxSettings),e):ze(E.ajaxSettings,t)},ajaxPrefilter:Ne(Re),ajaxTransport:Ne(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=undefined),e=e||{};var r,i,o,s,u,l,c,h,f,p,d=E.ajaxSetup({},e),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?E(m):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),x=d.statusCode||{},b={},_={},w="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Le.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)A.always(t[A.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),S(0,e),this}};if(v.promise(A),d.url=((t||d.url||be.href)+"").replace(Be,be.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(N)||[""],null==d.crossDomain){l=a.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Oe.protocol+"//"+Oe.host!=l.protocol+"//"+l.host}catch(C){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),Ue(Re,d,e,A),c)return A;for(f in(h=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ie.test(d.type),i=d.url.replace(ke,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Me,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(we.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Te,"$1"),p=(we.test(i)?"&":"?")+"_="+_e+++p),d.url=i+p),d.ifModified&&(E.lastModified[i]&&A.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&A.setRequestHeader("If-None-Match",E.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&A.setRequestHeader("Content-Type",d.contentType),A.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Pe+"; q=0.01":""):d.accepts["*"]),d.headers)A.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(m,A,d)||c))return A.abort();if(w="abort",y.add(d.complete),A.done(d.success),A.fail(d.error),r=Ue(Fe,d,e,A)){if(A.readyState=1,h&&g.trigger("ajaxSend",[A,d]),c)return A;d.async&&d.timeout>0&&(u=n.setTimeout(function(){A.abort("timeout")},d.timeout));try{c=!1,r.send(b,S)}catch(C){if(c)throw C;S(-1,C)}}else S(-1,"No Transport");function S(t,e,a,s){var l,f,p,b,_,w=e;c||(c=!0,u&&n.clearTimeout(u),r=undefined,o=s||"",A.readyState=t>0?4:0,l=t>=200&&t<300||304===t,a&&(b=function(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,A,a)),b=function(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(C){return{state:"parsererror",error:a?C:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(d,b,A,l),l?(d.ifModified&&((_=A.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=_),(_=A.getResponseHeader("etag"))&&(E.etag[i]=_)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,l=!(p=b.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),A.status=t,A.statusText=(e||w)+"",l?v.resolveWith(m,[f,w,A]):v.rejectWith(m,[A,w,p]),A.statusCode(x),x=undefined,h&&g.trigger(l?"ajaxSuccess":"ajaxError",[A,d,l?f:p]),y.fireWith(m,[A,w]),h&&(g.trigger("ajaxComplete",[A,d]),--E.active||E.event.trigger("ajaxStop")))}return A},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,undefined,e,"script")}}),E.each(["get","post"],function(t,e){E[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=undefined),E.ajax(E.extend({url:t,type:e,dataType:i,data:n,success:r},E.isPlainObject(t)&&t))}}),E._evalUrl=function(t){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){E(this).wrapInner(t.call(this,e))}):this.each(function(){var e=E(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){E(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},We=E.ajaxSettings.xhr();v.cors=!!We&&"withCredentials"in We,v.ajax=We=!!We,E.ajaxTransport(function(t){var e,r;if(v.cors||We&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(je[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),s.onabort!==undefined?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(e)throw u}},abort:function(){e&&e()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=E("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ye=[],Ge=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||E.expando+"_"+_e++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ge,"$1"+i):!1!==t.jsonp&&(t.url+=(we.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){o===undefined?E(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(i)),a&&y(o)&&o(a[0]),a=o=undefined}),"script"}),v.createHTMLDocument=function(){var t=a.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),i=L.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=xt([t],e,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=de(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=undefined):e&&"object"==typeof e&&(i="POST"),a.length>0&&E.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?E("<div>").append(E.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l=E.css(t,"position"),c=E(t),h={};"static"===l&&(t.style.position="relative"),s=c.offset(),o=E.css(t,"top"),u=E.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,n,E.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):c.css(h)}},E.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),i.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-E.css(r,"marginTop",!0),left:e.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||bt})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;E.fn[t]=function(r){return V(this,function(t,r,i){var o;if(x(t)?o=t:9===t.nodeType&&(o=t.defaultView),i===undefined)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),E.each(["top","left"],function(t,e){E.cssHooks[e]=Yt(v.pixelPosition,function(t,n){if(n)return n=Wt(t,e),Ut.test(n)?E(t).position()[e]+"px":n})}),E.each({Height:"height",Width:"width"},function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){E.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return V(this,function(e,n,i){var o;return x(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):i===undefined?E.css(e,n,s):E.style(e,n,i,s)},e,a?i:undefined,a)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){E.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),E.proxy=function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),y(t)?(r=u.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||E.guid++,i):undefined},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=T,E.isFunction=y,E.isWindow=x,E.camelCase=Z,E.type=w,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},(r=function(){return E}.apply(e,[]))===undefined||(t.exports=r);var Ve=n.jQuery,He=n.$;return E.noConflict=function(t){return n.$===E&&(n.$=He),t&&n.jQuery===E&&(n.jQuery=Ve),E},i||(n.jQuery=n.$=E),E})},function(t,e,n){(function(t,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},o=i._,a=Array.prototype,s=Object.prototype,u="undefined"!=typeof Symbol?Symbol.prototype:null,l=a.push,c=a.slice,h=s.toString,f=s.hasOwnProperty,p=Array.isArray,d=Object.keys,m=Object.create,g=function(){},v=function(t){return t instanceof v?t:this instanceof v?void(this._wrapped=t):new v(t)};void 0===e||e.nodeType?i._=v:(void 0!==n&&!n.nodeType&&n.exports&&(e=n.exports=v),e._=v),v.VERSION="1.9.1";var y,x=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return v.iteratee!==y?v.iteratee(t,e):null==t?v.identity:v.isFunction(t)?x(t,e,n):v.isObject(t)&&!v.isArray(t)?v.matcher(t):v.property(t)};v.iteratee=y=function(t,e){return b(t,e,Infinity)};var _=function(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}},w=function(t){if(!v.isObject(t))return{};if(m)return m(t);g.prototype=t;var e=new g;return g.prototype=null,e},E=function(t){return function(e){return null==e?void 0:e[t]}},A=function(t,e){return null!=t&&f.call(t,e)},S=function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0},C=Math.pow(2,53)-1,D=E("length"),M=function(t){var e=D(t);return"number"==typeof e&&e>=0&&e<=C};v.each=v.forEach=function(t,e,n){var r,i;if(e=x(e,n),M(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=v.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},v.map=v.collect=function(t,e,n){e=b(e,n);for(var r=!M(t)&&v.keys(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o};var k=function(t){return function(e,n,r,i){var o=arguments.length>=3;return function(e,n,r,i){var o=!M(e)&&v.keys(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var u=o?o[s]:s;r=n(r,e[u],u,e)}return r}(e,x(n,i,4),r,o)}};v.reduce=v.foldl=v.inject=k(1),v.reduceRight=v.foldr=k(-1),v.find=v.detect=function(t,e,n){var r=(M(t)?v.findIndex:v.findKey)(t,e,n);if(void 0!==r&&-1!==r)return t[r]},v.filter=v.select=function(t,e,n){var r=[];return e=b(e,n),v.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},v.reject=function(t,e,n){return v.filter(t,v.negate(b(e)),n)},v.every=v.all=function(t,e,n){e=b(e,n);for(var r=!M(t)&&v.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0},v.some=v.any=function(t,e,n){e=b(e,n);for(var r=!M(t)&&v.keys(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1},v.contains=v.includes=v.include=function(t,e,n,r){return M(t)||(t=v.values(t)),("number"!=typeof n||r)&&(n=0),v.indexOf(t,e,n)>=0},v.invoke=_(function(t,e,n){var r,i;return v.isFunction(e)?i=e:v.isArray(e)&&(r=e.slice(0,-1),e=e[e.length-1]),v.map(t,function(t){var o=i;if(!o){if(r&&r.length&&(t=S(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)})}),v.pluck=function(t,e){return v.map(t,v.property(e))},v.where=function(t,e){return v.filter(t,v.matcher(e))},v.findWhere=function(t,e){return v.find(t,v.matcher(e))},v.max=function(t,e,n){var r,i,o=-Infinity,a=-Infinity;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=M(t)?t:v.values(t)).length;s<u;s++)null!=(r=t[s])&&r>o&&(o=r);else e=b(e,n),v.each(t,function(t,n,r){((i=e(t,n,r))>a||i===-Infinity&&o===-Infinity)&&(o=t,a=i)});return o},v.min=function(t,e,n){var r,i,o=Infinity,a=Infinity;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,u=(t=M(t)?t:v.values(t)).length;s<u;s++)null!=(r=t[s])&&r<o&&(o=r);else e=b(e,n),v.each(t,function(t,n,r){((i=e(t,n,r))<a||i===Infinity&&o===Infinity)&&(o=t,a=i)});return o},v.shuffle=function(t){return v.sample(t,Infinity)},v.sample=function(t,e,n){if(null==e||n)return M(t)||(t=v.values(t)),t[v.random(t.length-1)];var r=M(t)?v.clone(t):v.values(t),i=D(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=v.random(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,e)},v.sortBy=function(t,e,n){var r=0;return e=b(e,n),v.pluck(v.map(t,function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var T=function(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=b(r,i),v.each(n,function(e,i){var a=r(e,i,n);t(o,e,a)}),o}};v.groupBy=T(function(t,e,n){A(t,n)?t[n].push(e):t[n]=[e]}),v.indexBy=T(function(t,e,n){t[n]=e}),v.countBy=T(function(t,e,n){A(t,n)?t[n]++:t[n]=1});var L=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(t){return t?v.isArray(t)?c.call(t):v.isString(t)?t.match(L):M(t)?v.map(t,v.identity):v.values(t):[]},v.size=function(t){return null==t?0:M(t)?t.length:v.keys(t).length},v.partition=T(function(t,e,n){t[n?0:1].push(e)},!0),v.first=v.head=v.take=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[0]:v.initial(t,t.length-e)},v.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},v.last=function(t,e,n){return null==t||t.length<1?null==e?void 0:[]:null==e||n?t[t.length-1]:v.rest(t,Math.max(0,t.length-e))},v.rest=v.tail=v.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},v.compact=function(t){return v.filter(t,Boolean)};var I=function(t,e,n,r){for(var i=(r=r||[]).length,o=0,a=D(t);o<a;o++){var s=t[o];if(M(s)&&(v.isArray(s)||v.isArguments(s)))if(e)for(var u=0,l=s.length;u<l;)r[i++]=s[u++];else I(s,e,n,r),i=r.length;else n||(r[i++]=s)}return r};v.flatten=function(t,e){return I(t,e,!1)},v.without=_(function(t,e){return v.difference(t,e)}),v.uniq=v.unique=function(t,e,n,r){v.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=b(n,r));for(var i=[],o=[],a=0,s=D(t);a<s;a++){var u=t[a],l=n?n(u,a,t):u;e&&!n?(a&&o===l||i.push(u),o=l):n?v.contains(o,l)||(o.push(l),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=_(function(t){return v.uniq(I(t,!0,!0))}),v.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=D(t);r<i;r++){var o=t[r];if(!v.contains(e,o)){var a;for(a=1;a<n&&v.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},v.difference=_(function(t,e){return e=I(e,!0,!0),v.filter(t,function(t){return!v.contains(e,t)})}),v.unzip=function(t){for(var e=t&&v.max(t,D).length||0,n=Array(e),r=0;r<e;r++)n[r]=v.pluck(t,r);return n},v.zip=_(v.unzip),v.object=function(t,e){for(var n={},r=0,i=D(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n};var B=function(t){return function(e,n,r){n=b(n,r);for(var i=D(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}};v.findIndex=B(1),v.findLastIndex=B(-1),v.sortedIndex=function(t,e,n,r){for(var i=(n=b(n,r,1))(e),o=0,a=D(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o};var R=function(t,e,n){return function(r,i,o){var a=0,s=D(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(c.call(r,a,s),v.isNaN))>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}};v.indexOf=R(1,v.findIndex,v.sortedIndex),v.lastIndexOf=R(-1,v.findLastIndex),v.range=function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},v.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(c.call(t,r,r+=e));return n};var F=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=w(t.prototype),a=t.apply(o,i);return v.isObject(a)?a:o};v.bind=_(function(t,e,n){if(!v.isFunction(t))throw new TypeError("Bind must be called on a function");var r=_(function(i){return F(t,r,e,this,n.concat(i))});return r}),v.partial=_(function(t,e){var n=v.partial.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return F(t,r,this,this,a)};return r}),v.partial.placeholder=v,v.bindAll=_(function(t,e){var n=(e=I(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=v.bind(t[r],t)}}),v.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return A(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},v.delay=_(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(t,e,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:v.now(),r=null,a=t.apply(i,o),r||(i=o=null)},l=function(){var l=v.now();s||!1!==n.leading||(s=l);var c=e-(l-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=l,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=i=o=null},l},v.debounce=function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=_(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,e),s&&(i=t.apply(this,a))}else r=v.delay(o,e,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},v.wrap=function(t,e){return v.partial(e,t)},v.negate=function(t){return function(){return!t.apply(this,arguments)}},v.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},v.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},v.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},v.once=v.partial(v.before,2),v.restArguments=_;var P=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],N=function(t,e){var n=O.length,r=t.constructor,i=v.isFunction(r)&&r.prototype||s,o="constructor";for(A(t,o)&&!v.contains(e,o)&&e.push(o);n--;)(o=O[n])in t&&t[o]!==i[o]&&!v.contains(e,o)&&e.push(o)};v.keys=function(t){if(!v.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)A(t,n)&&e.push(n);return P&&N(t,e),e},v.allKeys=function(t){if(!v.isObject(t))return[];var e=[];for(var n in t)e.push(n);return P&&N(t,e),e},v.values=function(t){for(var e=v.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},v.mapObject=function(t,e,n){e=b(e,n);for(var r=v.keys(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},v.pairs=function(t){for(var e=v.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},v.invert=function(t){for(var e={},n=v.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()};var U=function(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,u=0;u<s;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=o[l])}return n}};v.extend=U(v.allKeys),v.extendOwn=v.assign=U(v.keys),v.findKey=function(t,e,n){e=b(e,n);for(var r,i=v.keys(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r};var z,j,W=function(t,e,n){return e in n};v.pick=_(function(t,e){var n={},r=e[0];if(null==t)return n;v.isFunction(r)?(e.length>1&&(r=x(r,e[1])),e=v.allKeys(t)):(r=W,e=I(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),v.omit=_(function(t,e){var n,r=e[0];return v.isFunction(r)?(r=v.negate(r),e.length>1&&(n=e[1])):(e=v.map(I(e,!1,!1),String),r=function(t,n){return!v.contains(e,n)}),v.pick(t,r,n)}),v.defaults=U(v.allKeys,!0),v.create=function(t,e){var n=w(t);return e&&v.extendOwn(n,e),n},v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=function(t,e){return e(t),t},v.isMatch=function(t,e){var n=v.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0},z=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&j(t,e,n,r)},j=function(t,e,n,r){t instanceof v&&(t=t._wrapped),e instanceof v&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return u.valueOf.call(t)===u.valueOf.call(e)}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===t)return r[l]===e;if(n.push(t),r.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!z(t[l],e[l],n,r))return!1}else{var c,f=v.keys(t);if(l=f.length,v.keys(e).length!==l)return!1;for(;l--;)if(c=f[l],!A(e,c)||!z(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0},v.isEqual=function(t,e){return z(t,e)},v.isEmpty=function(t){return null==t||(M(t)&&(v.isArray(t)||v.isString(t)||v.isArguments(t))?0===t.length:0===v.keys(t).length)},v.isElement=function(t){return!(!t||1!==t.nodeType)},v.isArray=p||function(t){return"[object Array]"===h.call(t)},v.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){v["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),v.isArguments(arguments)||(v.isArguments=function(t){return A(t,"callee")});var Y=i.document&&i.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Y&&(v.isFunction=function(t){return"function"==typeof t||!1}),v.isFinite=function(t){return!v.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},v.isNaN=function(t){return v.isNumber(t)&&isNaN(t)},v.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},v.isNull=function(t){return null===t},v.isUndefined=function(t){return void 0===t},v.has=function(t,e){if(!v.isArray(e))return A(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!f.call(t,i))return!1;t=t[i]}return!!n},v.noConflict=function(){return i._=o,this},v.identity=function(t){return t},v.constant=function(t){return function(){return t}},v.noop=function(){},v.property=function(t){return v.isArray(t)?function(e){return S(e,t)}:E(t)},v.propertyOf=function(t){return null==t?function(){}:function(e){return v.isArray(e)?S(t,e):t[e]}},v.matcher=v.matches=function(t){return t=v.extendOwn({},t),function(e){return v.isMatch(e,t)}},v.times=function(t,e,n){var r=Array(Math.max(0,t));e=x(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},v.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},v.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=v.invert(G),H=function(t){var e=function(e){return t[e]},n="(?:"+v.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};v.escape=H(G),v.unescape=H(V),v.result=function(t,e,n){v.isArray(e)||(e=[e]);var r=e.length;if(!r)return v.isFunction(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=v.isFunction(o)?o.call(t):o}return t};var q=0;v.uniqueId=function(t){var e=++q+"";return t?t+e:e},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,Z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,K=function(t){return"\\"+Z[t]};v.template=function(t,e,n){!e&&n&&(e=n),e=v.defaults({},e,v.templateSettings);var r,i=RegExp([(e.escape||X).source,(e.interpolate||X).source,(e.evaluate||X).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(e,n,r,i,s){return a+=t.slice(o,s).replace(J,K),o=s+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e}),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(l){throw l.source=a,l}var s=function(t){return r.call(this,t,v)},u=e.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s},v.chain=function(t){var e=v(t);return e._chain=!0,e};var $=function(t,e){return t._chain?v(e).chain():e};v.mixin=function(t){return v.each(v.functions(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),$(this,n.apply(v,t))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];v.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],$(this,n)}}),v.each(["concat","join","slice"],function(t){var e=a[t];v.prototype[t]=function(){return $(this,e.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},(r=function(){return v}.apply(e,[]))===undefined||(n.exports=r)}()}).call(e,n(48),n(614)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(35);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SkCompass=function(t){var e=this;this.map=t;var n=document.createElement("div");n.className="compass",n.id="compass";var r=document.createElement("div");r.className="compassTop",r.id="compassTop",n.appendChild(r);var i=document.createElement("div");i.className="compassCenter",i.id="compassCenter";var o=document.createElement("div");o.className="compassPointer",o.id="compassPointer",i.appendChild(o),n.appendChild(i);var a=document.createElement("div");a.className="compassLeft",a.id="compassLeft",n.appendChild(a);var s=document.createElement("div");s.className="compassRight",s.id="compassRight",n.appendChild(s);var u=document.createElement("div");u.className="compassBottom",u.id="compassBottom",n.appendChild(u),t.containerDiv.appendChild(n),i.style.transform="rotateX(0deg) rotateZ(0deg)";var l,c=function(){t.mapController.overlookBy(-2),i.style.transform="rotateX("+(90-t.mapController.lookAngle)+"deg) rotateZ("+-t.mapController.mapAngle+"deg)"},h=function(){t.mapController.overlookBy(2),i.style.transform="rotateX("+(90-t.mapController.lookAngle)+"deg) rotateZ("+-t.mapController.mapAngle+"deg)"},f=function(){t.mapController.rotateBy(2),i.style.transform="rotateX("+(90-t.mapController.lookAngle)+"deg) rotateZ("+-t.mapController.mapAngle+"deg)"},p=function(){t.mapController.rotateBy(-2),i.style.transform="rotateX("+(90-t.mapController.lookAngle)+"deg) rotateZ("+-t.mapController.mapAngle+"deg)"};n.onclick=function(t){switch(t.target.className){case"compassTop":c();break;case"compassPointer":e.map.mapController.resetView(),i.style.transform="rotateX("+(90-e.map.mapController.lookAngle)+"deg) rotateZ("+-e.map.mapController.mapAngle+"deg)";break;case"compassLeft":f();break;case"compassRight":p();break;case"compassBottom":h()}},n.onmousedown=function(t){switch(t.target.className){case"compassTop":l=setInterval(c,11);break;case"compassPointer":break;case"compassLeft":l=setInterval(f,11);break;case"compassRight":l=setInterval(p,11);break;case"compassBottom":l=setInterval(h,11)}},n.onmouseup=function(t){clearInterval(l)},n.onmouseover=function(t){switch(t.target.className){case"compassTop":t.target.style.background="url(/images/top_seclet.png) center",t.target.style.backgroundSize="30px 22.5px";break;case"compassCenter":break;case"compassLeft":t.target.style.background="url(/images/left_seclet.png) center",t.target.style.backgroundSize="21px 52px";break;case"compassRight":t.target.style.background="url(/images/right_seclet.png) center",t.target.style.backgroundSize="21px 52px";break;case"compassBottom":t.target.style.background="url(/images/bottom_seclet.png) center",t.target.style.backgroundSize="30px 22.5px"}},n.onmouseout=function(t){var e=t.target;switch(clearInterval(l),e.className){case"compassTop":e.style.background="url(/images/top.png) center",e.style.backgroundSize="30px 22.5px";break;case"compassCenter":break;case"compassLeft":e.style.background="url(/images/left.png) center",e.style.backgroundSize="21px 52px";break;case"compassRight":e.style.background="url(/images/right.png) center",e.style.backgroundSize="21px 52px";break;case"compassBottom":e.style.background="url(/images/bottom.png) center",e.style.backgroundSize="30px 22.5px"}}}}])});
CMMap.Conf._key='1234';CMMap.Conf._client='http://js.mlocso.com:9091/jssdk/';CMMap.Conf._plugin='http://js.mlocso.com:9091/SDKService/jssdk/plugin?';CMMap.Conf._version='2.0';CMMap.Conf._scheme='http';